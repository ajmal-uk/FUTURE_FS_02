(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var fm={exports:{}},ko={};var U_;function aw(){if(U_)return ko;U_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:i,type:r,key:d,ref:l!==void 0?l:null,props:c}}return ko.Fragment=e,ko.jsx=n,ko.jsxs=n,ko}var z_;function lw(){return z_||(z_=1,fm.exports=aw()),fm.exports}var u=lw(),mm={exports:{}},we={};var B_;function ow(){if(B_)return we;B_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),N=Symbol.iterator;function I(V){return V===null||typeof V!="object"?null:(V=N&&V[N]||V["@@iterator"],typeof V=="function"?V:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,z={};function J(V,se,le){this.props=V,this.context=se,this.refs=z,this.updater=le||O}J.prototype.isReactComponent={},J.prototype.setState=function(V,se){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,se,"setState")},J.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ee(){}ee.prototype=J.prototype;function K(V,se,le){this.props=V,this.context=se,this.refs=z,this.updater=le||O}var de=K.prototype=new ee;de.constructor=K,Q(de,J.prototype),de.isPureReactComponent=!0;var ve=Array.isArray;function B(){}var R={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(V,se,le){var he=le.ref;return{$$typeof:i,type:V,key:se,ref:he!==void 0?he:null,props:le}}function L(V,se){return C(V.type,se,V.props)}function x(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function P(V){var se={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(le){return se[le]})}var j=/\/+/g;function We(V,se){return typeof V=="object"&&V!==null&&V.key!=null?P(""+V.key):se.toString(36)}function ht(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(B,B):(V.status="pending",V.then(function(se){V.status==="pending"&&(V.status="fulfilled",V.value=se)},function(se){V.status==="pending"&&(V.status="rejected",V.reason=se)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function X(V,se,le,he,be){var Ce=typeof V;(Ce==="undefined"||Ce==="boolean")&&(V=null);var ze=!1;if(V===null)ze=!0;else switch(Ce){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(V.$$typeof){case i:case e:ze=!0;break;case T:return ze=V._init,X(ze(V._payload),se,le,he,be)}}if(ze)return be=be(V),ze=he===""?"."+We(V,0):he,ve(be)?(le="",ze!=null&&(le=ze.replace(j,"$&/")+"/"),X(be,se,le,"",function(br){return br})):be!=null&&(x(be)&&(be=L(be,le+(be.key==null||V&&V.key===be.key?"":(""+be.key).replace(j,"$&/")+"/")+ze)),se.push(be)),1;ze=0;var Mt=he===""?".":he+":";if(ve(V))for(var lt=0;lt<V.length;lt++)he=V[lt],Ce=Mt+We(he,lt),ze+=X(he,se,le,Ce,be);else if(lt=I(V),typeof lt=="function")for(V=lt.call(V),lt=0;!(he=V.next()).done;)he=he.value,Ce=Mt+We(he,lt++),ze+=X(he,se,le,Ce,be);else if(Ce==="object"){if(typeof V.then=="function")return X(ht(V),se,le,he,be);throw se=String(V),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return ze}function ae(V,se,le){if(V==null)return V;var he=[],be=0;return X(V,he,"","",function(Ce){return se.call(le,Ce,be++)}),he}function pe(V){if(V._status===-1){var se=V._result;se=se(),se.then(function(le){(V._status===0||V._status===-1)&&(V._status=1,V._result=le)},function(le){(V._status===0||V._status===-1)&&(V._status=2,V._result=le)}),V._status===-1&&(V._status=0,V._result=se)}if(V._status===1)return V._result.default;throw V._result}var oe=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},je={map:ae,forEach:function(V,se,le){ae(V,function(){se.apply(this,arguments)},le)},count:function(V){var se=0;return ae(V,function(){se++}),se},toArray:function(V){return ae(V,function(se){return se})||[]},only:function(V){if(!x(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return we.Activity=b,we.Children=je,we.Component=J,we.Fragment=n,we.Profiler=l,we.PureComponent=K,we.StrictMode=r,we.Suspense=g,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,we.__COMPILER_RUNTIME={__proto__:null,c:function(V){return R.H.useMemoCache(V)}},we.cache=function(V){return function(){return V.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(V,se,le){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var he=Q({},V.props),be=V.key;if(se!=null)for(Ce in se.key!==void 0&&(be=""+se.key),se)!S.call(se,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&se.ref===void 0||(he[Ce]=se[Ce]);var Ce=arguments.length-2;if(Ce===1)he.children=le;else if(1<Ce){for(var ze=Array(Ce),Mt=0;Mt<Ce;Mt++)ze[Mt]=arguments[Mt+2];he.children=ze}return C(V.type,be,he)},we.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},we.createElement=function(V,se,le){var he,be={},Ce=null;if(se!=null)for(he in se.key!==void 0&&(Ce=""+se.key),se)S.call(se,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(be[he]=se[he]);var ze=arguments.length-2;if(ze===1)be.children=le;else if(1<ze){for(var Mt=Array(ze),lt=0;lt<ze;lt++)Mt[lt]=arguments[lt+2];be.children=Mt}if(V&&V.defaultProps)for(he in ze=V.defaultProps,ze)be[he]===void 0&&(be[he]=ze[he]);return C(V,Ce,be)},we.createRef=function(){return{current:null}},we.forwardRef=function(V){return{$$typeof:p,render:V}},we.isValidElement=x,we.lazy=function(V){return{$$typeof:T,_payload:{_status:-1,_result:V},_init:pe}},we.memo=function(V,se){return{$$typeof:y,type:V,compare:se===void 0?null:se}},we.startTransition=function(V){var se=R.T,le={};R.T=le;try{var he=V(),be=R.S;be!==null&&be(le,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(B,oe)}catch(Ce){oe(Ce)}finally{se!==null&&le.types!==null&&(se.types=le.types),R.T=se}},we.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},we.use=function(V){return R.H.use(V)},we.useActionState=function(V,se,le){return R.H.useActionState(V,se,le)},we.useCallback=function(V,se){return R.H.useCallback(V,se)},we.useContext=function(V){return R.H.useContext(V)},we.useDebugValue=function(){},we.useDeferredValue=function(V,se){return R.H.useDeferredValue(V,se)},we.useEffect=function(V,se){return R.H.useEffect(V,se)},we.useEffectEvent=function(V){return R.H.useEffectEvent(V)},we.useId=function(){return R.H.useId()},we.useImperativeHandle=function(V,se,le){return R.H.useImperativeHandle(V,se,le)},we.useInsertionEffect=function(V,se){return R.H.useInsertionEffect(V,se)},we.useLayoutEffect=function(V,se){return R.H.useLayoutEffect(V,se)},we.useMemo=function(V,se){return R.H.useMemo(V,se)},we.useOptimistic=function(V,se){return R.H.useOptimistic(V,se)},we.useReducer=function(V,se,le){return R.H.useReducer(V,se,le)},we.useRef=function(V){return R.H.useRef(V)},we.useState=function(V){return R.H.useState(V)},we.useSyncExternalStore=function(V,se,le){return R.H.useSyncExternalStore(V,se,le)},we.useTransition=function(){return R.H.useTransition()},we.version="19.2.1",we}var q_;function up(){return q_||(q_=1,mm.exports=ow()),mm.exports}var M=up(),pm={exports:{}},Lo={},gm={exports:{}},ym={};var F_;function cw(){return F_||(F_=1,(function(i){function e(X,ae){var pe=X.length;X.push(ae);e:for(;0<pe;){var oe=pe-1>>>1,je=X[oe];if(0<l(je,ae))X[oe]=ae,X[pe]=je,pe=oe;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ae=X[0],pe=X.pop();if(pe!==ae){X[0]=pe;e:for(var oe=0,je=X.length,V=je>>>1;oe<V;){var se=2*(oe+1)-1,le=X[se],he=se+1,be=X[he];if(0>l(le,pe))he<je&&0>l(be,le)?(X[oe]=be,X[he]=pe,oe=he):(X[oe]=le,X[se]=pe,oe=se);else if(he<je&&0>l(be,pe))X[oe]=be,X[he]=pe,oe=he;else break e}}return ae}function l(X,ae){var pe=X.sortIndex-ae.sortIndex;return pe!==0?pe:X.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();i.unstable_now=function(){return d.now()-p}}var g=[],y=[],T=1,b=null,N=3,I=!1,O=!1,Q=!1,z=!1,J=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function de(X){for(var ae=n(y);ae!==null;){if(ae.callback===null)r(y);else if(ae.startTime<=X)r(y),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=n(y)}}function ve(X){if(Q=!1,de(X),!O)if(n(g)!==null)O=!0,B||(B=!0,P());else{var ae=n(y);ae!==null&&ht(ve,ae.startTime-X)}}var B=!1,R=-1,S=5,C=-1;function L(){return z?!0:!(i.unstable_now()-C<S)}function x(){if(z=!1,B){var X=i.unstable_now();C=X;var ae=!0;try{e:{O=!1,Q&&(Q=!1,ee(R),R=-1),I=!0;var pe=N;try{t:{for(de(X),b=n(g);b!==null&&!(b.expirationTime>X&&L());){var oe=b.callback;if(typeof oe=="function"){b.callback=null,N=b.priorityLevel;var je=oe(b.expirationTime<=X);if(X=i.unstable_now(),typeof je=="function"){b.callback=je,de(X),ae=!0;break t}b===n(g)&&r(g),de(X)}else r(g);b=n(g)}if(b!==null)ae=!0;else{var V=n(y);V!==null&&ht(ve,V.startTime-X),ae=!1}}break e}finally{b=null,N=pe,I=!1}ae=void 0}}finally{ae?P():B=!1}}}var P;if(typeof K=="function")P=function(){K(x)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,We=j.port2;j.port1.onmessage=x,P=function(){We.postMessage(null)}}else P=function(){J(x,0)};function ht(X,ae){R=J(function(){X(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return N},i.unstable_next=function(X){switch(N){case 1:case 2:case 3:var ae=3;break;default:ae=N}var pe=N;N=ae;try{return X()}finally{N=pe}},i.unstable_requestPaint=function(){z=!0},i.unstable_runWithPriority=function(X,ae){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var pe=N;N=X;try{return ae()}finally{N=pe}},i.unstable_scheduleCallback=function(X,ae,pe){var oe=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?oe+pe:oe):pe=oe,X){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=pe+je,X={id:T++,callback:ae,priorityLevel:X,startTime:pe,expirationTime:je,sortIndex:-1},pe>oe?(X.sortIndex=pe,e(y,X),n(g)===null&&X===n(y)&&(Q?(ee(R),R=-1):Q=!0,ht(ve,pe-oe))):(X.sortIndex=je,e(g,X),O||I||(O=!0,B||(B=!0,P()))),X},i.unstable_shouldYield=L,i.unstable_wrapCallback=function(X){var ae=N;return function(){var pe=N;N=ae;try{return X.apply(this,arguments)}finally{N=pe}}}})(ym)),ym}var H_;function uw(){return H_||(H_=1,gm.exports=cw()),gm.exports}var vm={exports:{}},en={};var G_;function hw(){if(G_)return en;G_=1;var i=up();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,y,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:g,containerInfo:y,implementation:T}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,en.createPortal=function(g,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,T)},en.flushSync=function(g){var y=d.T,T=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=y,r.p=T,r.d.f()}},en.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},en.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},en.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var T=y.as,b=p(T,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,I=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:N,fetchPriority:I}):T==="script"&&r.d.X(g,{crossOrigin:b,integrity:N,fetchPriority:I,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},en.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},en.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,b=p(T,y.crossOrigin);r.d.L(g,T,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},en.preloadModule=function(g,y){if(typeof g=="string")if(y){var T=p(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},en.requestFormReset=function(g){r.d.r(g)},en.unstable_batchedUpdates=function(g,y){return g(y)},en.useFormState=function(g,y,T){return d.H.useFormState(g,y,T)},en.useFormStatus=function(){return d.H.useHostTransitionStatus()},en.version="19.2.1",en}var Q_;function dw(){if(Q_)return vm.exports;Q_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),vm.exports=hw(),vm.exports}var Y_;function fw(){if(Y_)return Lo;Y_=1;var i=uw(),e=up(),n=dw();function r(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function d(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(r(188))}function y(t){var s=t.alternate;if(!s){if(s=c(t),s===null)throw Error(r(188));return s!==t?null:t}for(var a=t,o=s;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(o=f.return,o!==null){a=o;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return g(f),t;if(m===o)return g(f),s;m=m.sibling}throw Error(r(188))}if(a.return!==o.return)a=f,o=m;else{for(var _=!1,A=f.child;A;){if(A===a){_=!0,a=f,o=m;break}if(A===o){_=!0,o=f,a=m;break}A=A.sibling}if(!_){for(A=m.child;A;){if(A===a){_=!0,a=m,o=f;break}if(A===o){_=!0,o=m,a=f;break}A=A.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:s}function T(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=T(t),s!==null)return s;t=t.sibling}return null}var b=Object.assign,N=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),K=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var j=Symbol.for("react.client.reference");function We(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===j?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case J:return"Profiler";case z:return"StrictMode";case ve:return"Suspense";case B:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case K:return t.displayName||"Context";case ee:return(t._context.displayName||"Context")+".Consumer";case de:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return s=t.displayName||null,s!==null?s:We(t.type)||"Memo";case S:s=t._payload,t=t._init;try{return We(t(s))}catch{}}return null}var ht=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},oe=[],je=-1;function V(t){return{current:t}}function se(t){0>je||(t.current=oe[je],oe[je]=null,je--)}function le(t,s){je++,oe[je]=t.current,t.current=s}var he=V(null),be=V(null),Ce=V(null),ze=V(null);function Mt(t,s){switch(le(Ce,s),le(be,t),le(he,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?o_(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=o_(s),t=c_(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}se(he),le(he,t)}function lt(){se(he),se(be),se(Ce)}function br(t){t.memoizedState!==null&&le(ze,t);var s=he.current,a=c_(s,t.type);s!==a&&(le(be,t),le(he,a))}function ma(t){be.current===t&&(se(he),se(be)),ze.current===t&&(se(ze),Oo._currentValue=pe)}var pa,ga;function ds(t){if(pa===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);pa=s&&s[1]||"",ga=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pa+t+ga}var Dl=!1;function Ar(t,s){if(!t||Dl)return"";Dl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(s){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch($){var G=$}Reflect.construct(t,[],ne)}else{try{ne.call()}catch($){G=$}t.call(ne.prototype)}}else{try{throw Error()}catch($){G=$}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch($){if($&&G&&typeof $.stack=="string")return[$.stack,G.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),_=m[0],A=m[1];if(_&&A){var D=_.split(`
`),H=A.split(`
`);for(f=o=0;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(o===D.length||f===H.length)for(o=D.length-1,f=H.length-1;1<=o&&0<=f&&D[o]!==H[f];)f--;for(;1<=o&&0<=f;o--,f--)if(D[o]!==H[f]){if(o!==1||f!==1)do if(o--,f--,0>f||D[o]!==H[f]){var W=`
`+D[o].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=o&&0<=f);break}}}finally{Dl=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ds(a):""}function Ol(t,s){switch(t.tag){case 26:case 27:case 5:return ds(t.type);case 16:return ds("Lazy");case 13:return t.child!==s&&s!==null?ds("Suspense Fallback"):ds("Suspense");case 19:return ds("SuspenseList");case 0:case 15:return Ar(t.type,!1);case 11:return Ar(t.type.render,!1);case 1:return Ar(t.type,!0);case 31:return ds("Activity");default:return""}}function Ml(t){try{var s="",a=null;do s+=Ol(t,a),a=t,t=t.return;while(t);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var bt=Object.prototype.hasOwnProperty,Vt=i.unstable_scheduleCallback,bi=i.unstable_cancelCallback,md=i.unstable_shouldYield,wc=i.unstable_requestPaint,an=i.unstable_now,Sr=i.unstable_getCurrentPriorityLevel,Vl=i.unstable_ImmediatePriority,Pl=i.unstable_UserBlockingPriority,Ai=i.unstable_NormalPriority,pd=i.unstable_LowPriority,xc=i.unstable_IdlePriority,Nc=i.log,Rc=i.unstable_setDisableYieldValue,Xn=null,Gt=null;function On(t){if(typeof Nc=="function"&&Rc(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Xn,t)}catch{}}var yt=Math.clz32?Math.clz32:Ic,Cc=Math.log,ya=Math.LN2;function Ic(t){return t>>>=0,t===0?32:31-(Cc(t)/ya|0)|0}var fs=256,wr=262144,At=4194304;function ms(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ps(t,s,a){var o=t.pendingLanes;if(o===0)return 0;var f=0,m=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var A=o&134217727;return A!==0?(o=A&~m,o!==0?f=ms(o):(_&=A,_!==0?f=ms(_):a||(a=A&~t,a!==0&&(f=ms(a))))):(A=o&~m,A!==0?f=ms(A):_!==0?f=ms(_):a||(a=o&~t,a!==0&&(f=ms(a)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:f}function Wn(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function gd(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jc(){var t=At;return At<<=1,(At&62914560)===0&&(At=4194304),t}function gs(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function xr(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function yd(t,s,a,o,f,m){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,D=t.expirationTimes,H=t.hiddenUpdates;for(a=_&~a;0<a;){var W=31-yt(a),ne=1<<W;A[W]=0,D[W]=-1;var G=H[W];if(G!==null)for(H[W]=null,W=0;W<G.length;W++){var $=G[W];$!==null&&($.lane&=-536870913)}a&=~ne}o!==0&&Nr(t,o,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(_&~s))}function Nr(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var o=31-yt(s);t.entangledLanes|=s,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function kl(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var o=31-yt(a),f=1<<o;f&s|t[o]&s&&(t[o]|=s),a&=~f}}function Ll(t,s){var a=s&-s;return a=(a&42)!==0?1:Rr(a),(a&(t.suspendedLanes|s))!==0?0:a}function Rr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Hs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Dc(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:D_(t.type))}function Jn(t,s){var a=ae.p;try{return ae.p=t,s()}finally{ae.p=a}}var Zn=Math.random().toString(36).slice(2),St="__reactFiber$"+Zn,zt="__reactProps$"+Zn,ys="__reactContainer$"+Zn,va="__reactEvents$"+Zn,vd="__reactListeners$"+Zn,Oc="__reactHandles$"+Zn,Mc="__reactResources$"+Zn,vs="__reactMarker$"+Zn;function _a(t){delete t[St],delete t[zt],delete t[va],delete t[vd],delete t[Oc]}function _s(t){var s=t[St];if(s)return s;for(var a=t.parentNode;a;){if(s=a[ys]||a[St]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=g_(t);t!==null;){if(a=t[St])return a;t=g_(t)}return s}t=a,a=t.parentNode}return null}function Mn(t){if(t=t[St]||t[ys]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function bn(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(r(33))}function Es(t){var s=t[Mc];return s||(s=t[Mc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function wt(t){t[vs]=!0}var Ul=new Set,zl={};function Ts(t,s){bs(t,s),bs(t+"Capture",s)}function bs(t,s){for(zl[t]=s,t=0;t<s.length;t++)Ul.add(s[t])}var Bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ql={},Fl={};function Vc(t){return bt.call(Fl,t)?!0:bt.call(ql,t)?!1:Bl.test(t)?Fl[t]=!0:(ql[t]=!0,!1)}function Ea(t,s,a){if(Vc(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var o=s.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function An(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function xt(t,s,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+o)}}function Bt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Si(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Hl(t,s,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,m.call(this,_)}}),Object.defineProperty(t,s,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Ke(t){if(!t._valueTracker){var s=Si(t)?"checked":"value";t._valueTracker=Hl(t,s,""+t[s])}}function Cr(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),o="";return t&&(o=Si(t)?t.checked?"true":"false":t.value),t=o,t!==a?(s.setValue(t),!0):!1}function As(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ir=/[\n"\\]/g;function un(t){return t.replace(Ir,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ta(t,s,a,o,f,m,_,A){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),s!=null?_==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Bt(s)):t.value!==""+Bt(s)&&(t.value=""+Bt(s)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),s!=null?Gl(t,_,Bt(s)):a!=null?Gl(t,_,Bt(a)):o!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+Bt(A):t.removeAttribute("name")}function Pc(t,s,a,o,f,m,_,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){Ke(t);return}a=a!=null?""+Bt(a):"",s=s!=null?""+Bt(s):a,A||s===t.value||(t.value=s),t.defaultValue=s}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=A?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function Gl(t,s,a){s==="number"&&As(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function wi(t,s,a,o){if(t=t.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=s.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Bt(a),s=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}s!==null||t[f].disabled||(s=t[f])}s!==null&&(s.selected=!0)}}function kc(t,s,a){if(s!=null&&(s=""+Bt(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Bt(a):""}function xi(t,s,a,o){if(s==null){if(o!=null){if(a!=null)throw Error(r(92));if(ht(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),s=a}a=Bt(s),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Ke(t)}function hn(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var Lc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ql(t,s,a){var o=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":o?t.setProperty(s,a):typeof a!="number"||a===0||Lc.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function Yl(t,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||s!=null&&s.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in s)o=s[f],s.hasOwnProperty(f)&&a[f]!==o&&Ql(t,f,o)}else for(var m in s)s.hasOwnProperty(m)&&Ql(t,m,s[m])}function ba(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ni=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(t){return Ni.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function es(){}var Kl=null;function Vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ri=null,Ss=null;function jr(t){var s=Mn(t);if(s&&(t=s.stateNode)){var a=t[zt]||null;e:switch(t=s.stateNode,s.type){case"input":if(Ta(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var o=a[s];if(o!==t&&o.form===t.form){var f=o[zt]||null;if(!f)throw Error(r(90));Ta(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)o=a[s],o.form===t.form&&Cr(o)}break e;case"textarea":kc(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&wi(t,!!a.multiple,s,!1)}}}var Sa=!1;function Ci(t,s,a){if(Sa)return t(s,a);Sa=!0;try{var o=t(s);return o}finally{if(Sa=!1,(Ri!==null||Ss!==null)&&(Du(),Ri&&(s=Ri,t=Ss,Ss=Ri=null,jr(s),t)))for(s=0;s<t.length;s++)jr(t[s])}}function ts(t,s){var a=t.stateNode;if(a===null)return null;var o=a[zt]||null;if(o===null)return null;a=o[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dr=!1;if(Pn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Dr=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Dr=!1}var ws=null,$l=null,Or=null;function Xl(){if(Or)return Or;var t,s=$l,a=s.length,o,f="value"in ws?ws.value:ws.textContent,m=f.length;for(t=0;t<a&&s[t]===f[t];t++);var _=a-t;for(o=1;o<=_&&s[a-o]===f[m-o];o++);return Or=f.slice(t,1<o?1-o:void 0)}function Mr(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Gs(){return!0}function ns(){return!1}function Qt(t){function s(a,o,f,m,_){this._reactName=a,this._targetInst=f,this.type=o,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Gs:ns,this.isPropagationStopped=ns,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gs)},persist:function(){},isPersistent:Gs}),s}var Qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xs=Qt(Qs),Ii=b({},Qs,{view:0,detail:0}),Wl=Qt(Ii),ji,wa,Ns,xa=b({},Ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Di,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ns&&(Ns&&t.type==="mousemove"?(ji=t.screenX-Ns.screenX,wa=t.screenY-Ns.screenY):wa=ji=0,Ns=t),ji)},movementY:function(t){return"movementY"in t?t.movementY:wa}}),Jl=Qt(xa),Vr=b({},xa,{dataTransfer:0}),zc=Qt(Vr),Bc=b({},Ii,{relatedTarget:0}),Pr=Qt(Bc),Zl=b({},Qs,{animationName:0,elapsedTime:0,pseudoElement:0}),qc=Qt(Zl),Na=b({},Qs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fc=Qt(Na),Hc=b({},Qs,{data:0}),Rs=Qt(Hc),Gc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kc(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Yc[t])?!!s[t]:!1}function Di(){return Kc}var ln=b({},Ii,{key:function(t){if(t.key){var s=Gc[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Mr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Qc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Di,charCode:function(t){return t.type==="keypress"?Mr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$c=Qt(ln),Xc=b({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ys=Qt(Xc),h=b({},Ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Di}),v=Qt(h),E=b({},Qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Qt(E),q=b({},xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=Qt(q),re=b({},Qs,{newState:0,oldState:0}),Ne=Qt(re),vt=[9,13,27,32],Ge=Pn&&"CompositionEvent"in window,ot=null;Pn&&"documentMode"in document&&(ot=document.documentMode);var kn=Pn&&"TextEvent"in window&&!ot,Cs=Pn&&(!Ge||ot&&8<ot&&11>=ot),ss=" ",is=!1;function kr(t,s){switch(t){case"keyup":return vt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ra(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ca=!1;function IA(t,s){switch(t){case"compositionend":return Ra(s);case"keypress":return s.which!==32?null:(is=!0,ss);case"textInput":return t=s.data,t===ss&&is?null:t;default:return null}}function jA(t,s){if(Ca)return t==="compositionend"||!Ge&&kr(t,s)?(t=Xl(),Or=$l=ws=null,Ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Cs&&s.locale!=="ko"?null:s.data;default:return null}}var DA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _g(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!DA[t.type]:s==="textarea"}function Eg(t,s,a,o){Ri?Ss?Ss.push(o):Ss=[o]:Ri=o,s=Uu(s,"onChange"),0<s.length&&(a=new xs("onChange","change",null,a,o),t.push({event:a,listeners:s}))}var eo=null,to=null;function OA(t){n_(t,0)}function Wc(t){var s=bn(t);if(Cr(s))return t}function Tg(t,s){if(t==="change")return s}var bg=!1;if(Pn){var _d;if(Pn){var Ed="oninput"in document;if(!Ed){var Ag=document.createElement("div");Ag.setAttribute("oninput","return;"),Ed=typeof Ag.oninput=="function"}_d=Ed}else _d=!1;bg=_d&&(!document.documentMode||9<document.documentMode)}function Sg(){eo&&(eo.detachEvent("onpropertychange",wg),to=eo=null)}function wg(t){if(t.propertyName==="value"&&Wc(to)){var s=[];Eg(s,to,t,Vn(t)),Ci(OA,s)}}function MA(t,s,a){t==="focusin"?(Sg(),eo=s,to=a,eo.attachEvent("onpropertychange",wg)):t==="focusout"&&Sg()}function VA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wc(to)}function PA(t,s){if(t==="click")return Wc(s)}function kA(t,s){if(t==="input"||t==="change")return Wc(s)}function LA(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Sn=typeof Object.is=="function"?Object.is:LA;function no(t,s){if(Sn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),o=Object.keys(s);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var f=a[o];if(!bt.call(s,f)||!Sn(t[f],s[f]))return!1}return!0}function xg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ng(t,s){var a=xg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=s&&o>=s)return{node:a,offset:s-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=xg(a)}}function Rg(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Rg(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Cg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=As(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=As(t.document)}return s}function Td(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var UA=Pn&&"documentMode"in document&&11>=document.documentMode,Ia=null,bd=null,so=null,Ad=!1;function Ig(t,s,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ad||Ia==null||Ia!==As(o)||(o=Ia,"selectionStart"in o&&Td(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),so&&no(so,o)||(so=o,o=Uu(bd,"onSelect"),0<o.length&&(s=new xs("onSelect","select",null,s,a),t.push({event:s,listeners:o}),s.target=Ia)))}function Lr(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var ja={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionrun:Lr("Transition","TransitionRun"),transitionstart:Lr("Transition","TransitionStart"),transitioncancel:Lr("Transition","TransitionCancel"),transitionend:Lr("Transition","TransitionEnd")},Sd={},jg={};Pn&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function Ur(t){if(Sd[t])return Sd[t];if(!ja[t])return t;var s=ja[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in jg)return Sd[t]=s[a];return t}var Dg=Ur("animationend"),Og=Ur("animationiteration"),Mg=Ur("animationstart"),zA=Ur("transitionrun"),BA=Ur("transitionstart"),qA=Ur("transitioncancel"),Vg=Ur("transitionend"),Pg=new Map,wd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wd.push("scrollEnd");function rs(t,s){Pg.set(t,s),Ts(s,[t])}var Jc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ln=[],Da=0,xd=0;function Zc(){for(var t=Da,s=xd=Da=0;s<t;){var a=Ln[s];Ln[s++]=null;var o=Ln[s];Ln[s++]=null;var f=Ln[s];Ln[s++]=null;var m=Ln[s];if(Ln[s++]=null,o!==null&&f!==null){var _=o.pending;_===null?f.next=f:(f.next=_.next,_.next=f),o.pending=f}m!==0&&kg(a,f,m)}}function eu(t,s,a,o){Ln[Da++]=t,Ln[Da++]=s,Ln[Da++]=a,Ln[Da++]=o,xd|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Nd(t,s,a,o){return eu(t,s,a,o),tu(t)}function zr(t,s){return eu(t,null,null,s),tu(t)}function kg(t,s,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var f=!1,m=t.return;m!==null;)m.childLanes|=a,o=m.alternate,o!==null&&(o.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&s!==null&&(f=31-yt(a),t=m.hiddenUpdates,o=t[f],o===null?t[f]=[s]:o.push(s),s.lane=a|536870912),m):null}function tu(t){if(50<xo)throw xo=0,kf=null,Error(r(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Oa={};function FA(t,s,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,s,a,o){return new FA(t,s,a,o)}function Rd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ks(t,s){var a=t.alternate;return a===null?(a=wn(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Lg(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function nu(t,s,a,o,f,m){var _=0;if(o=t,typeof t=="function")Rd(t)&&(_=1);else if(typeof t=="string")_=KS(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=wn(31,a,s,f),t.elementType=C,t.lanes=m,t;case Q:return Br(a.children,f,m,s);case z:_=8,f|=24;break;case J:return t=wn(12,a,s,f|2),t.elementType=J,t.lanes=m,t;case ve:return t=wn(13,a,s,f),t.elementType=ve,t.lanes=m,t;case B:return t=wn(19,a,s,f),t.elementType=B,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:_=10;break e;case ee:_=9;break e;case de:_=11;break e;case R:_=14;break e;case S:_=16,o=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return s=wn(_,a,s,f),s.elementType=t,s.type=o,s.lanes=m,s}function Br(t,s,a,o){return t=wn(7,t,o,s),t.lanes=a,t}function Cd(t,s,a){return t=wn(6,t,null,s),t.lanes=a,t}function Ug(t){var s=wn(18,null,null,0);return s.stateNode=t,s}function Id(t,s,a){return s=wn(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var zg=new WeakMap;function Un(t,s){if(typeof t=="object"&&t!==null){var a=zg.get(t);return a!==void 0?a:(s={value:t,source:s,stack:Ml(s)},zg.set(t,s),s)}return{value:t,source:s,stack:Ml(s)}}var Ma=[],Va=0,su=null,io=0,zn=[],Bn=0,Oi=null,Is=1,js="";function $s(t,s){Ma[Va++]=io,Ma[Va++]=su,su=t,io=s}function Bg(t,s,a){zn[Bn++]=Is,zn[Bn++]=js,zn[Bn++]=Oi,Oi=t;var o=Is;t=js;var f=32-yt(o)-1;o&=~(1<<f),a+=1;var m=32-yt(s)+f;if(30<m){var _=f-f%5;m=(o&(1<<_)-1).toString(32),o>>=_,f-=_,Is=1<<32-yt(s)+f|a<<f|o,js=m+t}else Is=1<<m|a<<f|o,js=t}function jd(t){t.return!==null&&($s(t,1),Bg(t,1,0))}function Dd(t){for(;t===su;)su=Ma[--Va],Ma[Va]=null,io=Ma[--Va],Ma[Va]=null;for(;t===Oi;)Oi=zn[--Bn],zn[Bn]=null,js=zn[--Bn],zn[Bn]=null,Is=zn[--Bn],zn[Bn]=null}function qg(t,s){zn[Bn++]=Is,zn[Bn++]=js,zn[Bn++]=Oi,Is=s.id,js=s.overflow,Oi=t}var Yt=null,it=null,Ue=!1,Mi=null,qn=!1,Od=Error(r(519));function Vi(t){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ro(Un(s,t)),Od}function Fg(t){var s=t.stateNode,a=t.type,o=t.memoizedProps;switch(s[St]=t,s[zt]=o,a){case"dialog":Oe("cancel",s),Oe("close",s);break;case"iframe":case"object":case"embed":Oe("load",s);break;case"video":case"audio":for(a=0;a<Ro.length;a++)Oe(Ro[a],s);break;case"source":Oe("error",s);break;case"img":case"image":case"link":Oe("error",s),Oe("load",s);break;case"details":Oe("toggle",s);break;case"input":Oe("invalid",s),Pc(s,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Oe("invalid",s);break;case"textarea":Oe("invalid",s),xi(s,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||o.suppressHydrationWarning===!0||a_(s.textContent,a)?(o.popover!=null&&(Oe("beforetoggle",s),Oe("toggle",s)),o.onScroll!=null&&Oe("scroll",s),o.onScrollEnd!=null&&Oe("scrollend",s),o.onClick!=null&&(s.onclick=es),s=!0):s=!1,s||Vi(t,!0)}function Hg(t){for(Yt=t.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Yt=Yt.return}}function Pa(t){if(t!==Yt)return!1;if(!Ue)return Hg(t),Ue=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Jf(t.type,t.memoizedProps)),a=!a),a&&it&&Vi(t),Hg(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));it=p_(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));it=p_(t)}else s===27?(s=it,$i(t.type)?(t=sm,sm=null,it=t):it=s):it=Yt?Hn(t.stateNode.nextSibling):null;return!0}function qr(){it=Yt=null,Ue=!1}function Md(){var t=Mi;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),Mi=null),t}function ro(t){Mi===null?Mi=[t]:Mi.push(t)}var Vd=V(null),Fr=null,Xs=null;function Pi(t,s,a){le(Vd,s._currentValue),s._currentValue=a}function Ws(t){t._currentValue=Vd.current,se(Vd)}function Pd(t,s,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,o!==null&&(o.childLanes|=s)):o!==null&&(o.childLanes&s)!==s&&(o.childLanes|=s),t===a)break;t=t.return}}function kd(t,s,a,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;e:for(;m!==null;){var A=m;m=f;for(var D=0;D<s.length;D++)if(A.context===s[D]){m.lanes|=a,A=m.alternate,A!==null&&(A.lanes|=a),Pd(m.return,a,t),o||(_=null);break e}m=A.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,m=_.alternate,m!==null&&(m.lanes|=a),Pd(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function ka(t,s,a,o){t=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var A=f.type;Sn(f.pendingProps.value,_.value)||(t!==null?t.push(A):t=[A])}}else if(f===ze.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Oo):t=[Oo])}f=f.return}t!==null&&kd(s,t,a,o),s.flags|=262144}function iu(t){for(t=t.firstContext;t!==null;){if(!Sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Hr(t){Fr=t,Xs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return Gg(Fr,t)}function ru(t,s){return Fr===null&&Hr(t),Gg(t,s)}function Gg(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Xs===null){if(t===null)throw Error(r(308));Xs=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Xs=Xs.next=s;return a}var HA=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},GA=i.unstable_scheduleCallback,QA=i.unstable_NormalPriority,Nt={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ld(){return{controller:new HA,data:new Map,refCount:0}}function ao(t){t.refCount--,t.refCount===0&&GA(QA,function(){t.controller.abort()})}var lo=null,Ud=0,La=0,Ua=null;function YA(t,s){if(lo===null){var a=lo=[];Ud=0,La=Ff(),Ua={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Ud++,s.then(Qg,Qg),s}function Qg(){if(--Ud===0&&lo!==null){Ua!==null&&(Ua.status="fulfilled");var t=lo;lo=null,La=0,Ua=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function KA(t,s){var a=[],o={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){o.status="fulfilled",o.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(o.status="rejected",o.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),o}var Yg=X.S;X.S=function(t,s){Iv=an(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&YA(t,s),Yg!==null&&Yg(t,s)};var Gr=V(null);function zd(){var t=Gr.current;return t!==null?t:nt.pooledCache}function au(t,s){s===null?le(Gr,Gr.current):le(Gr,s.pool)}function Kg(){var t=zd();return t===null?null:{parent:Nt._currentValue,pool:t}}var za=Error(r(460)),Bd=Error(r(474)),lu=Error(r(542)),ou={then:function(){}};function $g(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Xg(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(es,es),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Jg(t),t;default:if(typeof s.status=="string")s.then(es,es);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=s,t.status="pending",t.then(function(o){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=o}},function(o){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=o}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Jg(t),t}throw Yr=s,za}}function Qr(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Yr=a,za):a}}var Yr=null;function Wg(){if(Yr===null)throw Error(r(459));var t=Yr;return Yr=null,t}function Jg(t){if(t===za||t===lu)throw Error(r(483))}var Ba=null,oo=0;function cu(t){var s=oo;return oo+=1,Ba===null&&(Ba=[]),Xg(Ba,t,s)}function co(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function uu(t,s){throw s.$$typeof===N?Error(r(525)):(t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Zg(t){function s(U,k){if(t){var F=U.deletions;F===null?(U.deletions=[k],U.flags|=16):F.push(k)}}function a(U,k){if(!t)return null;for(;k!==null;)s(U,k),k=k.sibling;return null}function o(U){for(var k=new Map;U!==null;)U.key!==null?k.set(U.key,U):k.set(U.index,U),U=U.sibling;return k}function f(U,k){return U=Ks(U,k),U.index=0,U.sibling=null,U}function m(U,k,F){return U.index=F,t?(F=U.alternate,F!==null?(F=F.index,F<k?(U.flags|=67108866,k):F):(U.flags|=67108866,k)):(U.flags|=1048576,k)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function A(U,k,F,Z){return k===null||k.tag!==6?(k=Cd(F,U.mode,Z),k.return=U,k):(k=f(k,F),k.return=U,k)}function D(U,k,F,Z){var ge=F.type;return ge===Q?W(U,k,F.props.children,Z,F.key):k!==null&&(k.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===S&&Qr(ge)===k.type)?(k=f(k,F.props),co(k,F),k.return=U,k):(k=nu(F.type,F.key,F.props,null,U.mode,Z),co(k,F),k.return=U,k)}function H(U,k,F,Z){return k===null||k.tag!==4||k.stateNode.containerInfo!==F.containerInfo||k.stateNode.implementation!==F.implementation?(k=Id(F,U.mode,Z),k.return=U,k):(k=f(k,F.children||[]),k.return=U,k)}function W(U,k,F,Z,ge){return k===null||k.tag!==7?(k=Br(F,U.mode,Z,ge),k.return=U,k):(k=f(k,F),k.return=U,k)}function ne(U,k,F){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Cd(""+k,U.mode,F),k.return=U,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case I:return F=nu(k.type,k.key,k.props,null,U.mode,F),co(F,k),F.return=U,F;case O:return k=Id(k,U.mode,F),k.return=U,k;case S:return k=Qr(k),ne(U,k,F)}if(ht(k)||P(k))return k=Br(k,U.mode,F,null),k.return=U,k;if(typeof k.then=="function")return ne(U,cu(k),F);if(k.$$typeof===K)return ne(U,ru(U,k),F);uu(U,k)}return null}function G(U,k,F,Z){var ge=k!==null?k.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return ge!==null?null:A(U,k,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case I:return F.key===ge?D(U,k,F,Z):null;case O:return F.key===ge?H(U,k,F,Z):null;case S:return F=Qr(F),G(U,k,F,Z)}if(ht(F)||P(F))return ge!==null?null:W(U,k,F,Z,null);if(typeof F.then=="function")return G(U,k,cu(F),Z);if(F.$$typeof===K)return G(U,k,ru(U,F),Z);uu(U,F)}return null}function $(U,k,F,Z,ge){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(F)||null,A(k,U,""+Z,ge);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case I:return U=U.get(Z.key===null?F:Z.key)||null,D(k,U,Z,ge);case O:return U=U.get(Z.key===null?F:Z.key)||null,H(k,U,Z,ge);case S:return Z=Qr(Z),$(U,k,F,Z,ge)}if(ht(Z)||P(Z))return U=U.get(F)||null,W(k,U,Z,ge,null);if(typeof Z.then=="function")return $(U,k,F,cu(Z),ge);if(Z.$$typeof===K)return $(U,k,F,ru(k,Z),ge);uu(k,Z)}return null}function fe(U,k,F,Z){for(var ge=null,qe=null,me=k,Ie=k=0,Ve=null;me!==null&&Ie<F.length;Ie++){me.index>Ie?(Ve=me,me=null):Ve=me.sibling;var Fe=G(U,me,F[Ie],Z);if(Fe===null){me===null&&(me=Ve);break}t&&me&&Fe.alternate===null&&s(U,me),k=m(Fe,k,Ie),qe===null?ge=Fe:qe.sibling=Fe,qe=Fe,me=Ve}if(Ie===F.length)return a(U,me),Ue&&$s(U,Ie),ge;if(me===null){for(;Ie<F.length;Ie++)me=ne(U,F[Ie],Z),me!==null&&(k=m(me,k,Ie),qe===null?ge=me:qe.sibling=me,qe=me);return Ue&&$s(U,Ie),ge}for(me=o(me);Ie<F.length;Ie++)Ve=$(me,U,Ie,F[Ie],Z),Ve!==null&&(t&&Ve.alternate!==null&&me.delete(Ve.key===null?Ie:Ve.key),k=m(Ve,k,Ie),qe===null?ge=Ve:qe.sibling=Ve,qe=Ve);return t&&me.forEach(function(er){return s(U,er)}),Ue&&$s(U,Ie),ge}function _e(U,k,F,Z){if(F==null)throw Error(r(151));for(var ge=null,qe=null,me=k,Ie=k=0,Ve=null,Fe=F.next();me!==null&&!Fe.done;Ie++,Fe=F.next()){me.index>Ie?(Ve=me,me=null):Ve=me.sibling;var er=G(U,me,Fe.value,Z);if(er===null){me===null&&(me=Ve);break}t&&me&&er.alternate===null&&s(U,me),k=m(er,k,Ie),qe===null?ge=er:qe.sibling=er,qe=er,me=Ve}if(Fe.done)return a(U,me),Ue&&$s(U,Ie),ge;if(me===null){for(;!Fe.done;Ie++,Fe=F.next())Fe=ne(U,Fe.value,Z),Fe!==null&&(k=m(Fe,k,Ie),qe===null?ge=Fe:qe.sibling=Fe,qe=Fe);return Ue&&$s(U,Ie),ge}for(me=o(me);!Fe.done;Ie++,Fe=F.next())Fe=$(me,U,Ie,Fe.value,Z),Fe!==null&&(t&&Fe.alternate!==null&&me.delete(Fe.key===null?Ie:Fe.key),k=m(Fe,k,Ie),qe===null?ge=Fe:qe.sibling=Fe,qe=Fe);return t&&me.forEach(function(rw){return s(U,rw)}),Ue&&$s(U,Ie),ge}function tt(U,k,F,Z){if(typeof F=="object"&&F!==null&&F.type===Q&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case I:e:{for(var ge=F.key;k!==null;){if(k.key===ge){if(ge=F.type,ge===Q){if(k.tag===7){a(U,k.sibling),Z=f(k,F.props.children),Z.return=U,U=Z;break e}}else if(k.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===S&&Qr(ge)===k.type){a(U,k.sibling),Z=f(k,F.props),co(Z,F),Z.return=U,U=Z;break e}a(U,k);break}else s(U,k);k=k.sibling}F.type===Q?(Z=Br(F.props.children,U.mode,Z,F.key),Z.return=U,U=Z):(Z=nu(F.type,F.key,F.props,null,U.mode,Z),co(Z,F),Z.return=U,U=Z)}return _(U);case O:e:{for(ge=F.key;k!==null;){if(k.key===ge)if(k.tag===4&&k.stateNode.containerInfo===F.containerInfo&&k.stateNode.implementation===F.implementation){a(U,k.sibling),Z=f(k,F.children||[]),Z.return=U,U=Z;break e}else{a(U,k);break}else s(U,k);k=k.sibling}Z=Id(F,U.mode,Z),Z.return=U,U=Z}return _(U);case S:return F=Qr(F),tt(U,k,F,Z)}if(ht(F))return fe(U,k,F,Z);if(P(F)){if(ge=P(F),typeof ge!="function")throw Error(r(150));return F=ge.call(F),_e(U,k,F,Z)}if(typeof F.then=="function")return tt(U,k,cu(F),Z);if(F.$$typeof===K)return tt(U,k,ru(U,F),Z);uu(U,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,k!==null&&k.tag===6?(a(U,k.sibling),Z=f(k,F),Z.return=U,U=Z):(a(U,k),Z=Cd(F,U.mode,Z),Z.return=U,U=Z),_(U)):a(U,k)}return function(U,k,F,Z){try{oo=0;var ge=tt(U,k,F,Z);return Ba=null,ge}catch(me){if(me===za||me===lu)throw me;var qe=wn(29,me,null,U.mode);return qe.lanes=Z,qe.return=U,qe}finally{}}}var Kr=Zg(!0),ey=Zg(!1),ki=!1;function qd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fd(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Li(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ui(t,s,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Qe&2)!==0){var f=o.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),o.pending=s,s=tu(t),kg(t,null,a),s}return eu(t,o,s,a),tu(t)}function uo(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,kl(t,a)}}function Hd(t,s){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?f=m=s:m=m.next=s}else f=m=s;a={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var Gd=!1;function ho(){if(Gd){var t=Ua;if(t!==null)throw t}}function fo(t,s,a,o){Gd=!1;var f=t.updateQueue;ki=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var D=A,H=D.next;D.next=null,_===null?m=H:_.next=H,_=D;var W=t.alternate;W!==null&&(W=W.updateQueue,A=W.lastBaseUpdate,A!==_&&(A===null?W.firstBaseUpdate=H:A.next=H,W.lastBaseUpdate=D))}if(m!==null){var ne=f.baseState;_=0,W=H=D=null,A=m;do{var G=A.lane&-536870913,$=G!==A.lane;if($?(Me&G)===G:(o&G)===G){G!==0&&G===La&&(Gd=!0),W!==null&&(W=W.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var fe=t,_e=A;G=s;var tt=a;switch(_e.tag){case 1:if(fe=_e.payload,typeof fe=="function"){ne=fe.call(tt,ne,G);break e}ne=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=_e.payload,G=typeof fe=="function"?fe.call(tt,ne,G):fe,G==null)break e;ne=b({},ne,G);break e;case 2:ki=!0}}G=A.callback,G!==null&&(t.flags|=64,$&&(t.flags|=8192),$=f.callbacks,$===null?f.callbacks=[G]:$.push(G))}else $={lane:G,tag:A.tag,payload:A.payload,callback:A.callback,next:null},W===null?(H=W=$,D=ne):W=W.next=$,_|=G;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;$=A,A=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);W===null&&(D=ne),f.baseState=D,f.firstBaseUpdate=H,f.lastBaseUpdate=W,m===null&&(f.shared.lanes=0),Hi|=_,t.lanes=_,t.memoizedState=ne}}function ty(t,s){if(typeof t!="function")throw Error(r(191,t));t.call(s)}function ny(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ty(a[t],s)}var qa=V(null),hu=V(0);function sy(t,s){t=ai,le(hu,t),le(qa,s),ai=t|s.baseLanes}function Qd(){le(hu,ai),le(qa,qa.current)}function Yd(){ai=hu.current,se(qa),se(hu)}var xn=V(null),Fn=null;function zi(t){var s=t.alternate;le(_t,_t.current&1),le(xn,t),Fn===null&&(s===null||qa.current!==null||s.memoizedState!==null)&&(Fn=t)}function Kd(t){le(_t,_t.current),le(xn,t),Fn===null&&(Fn=t)}function iy(t){t.tag===22?(le(_t,_t.current),le(xn,t),Fn===null&&(Fn=t)):Bi()}function Bi(){le(_t,_t.current),le(xn,xn.current)}function Nn(t){se(xn),Fn===t&&(Fn=null),se(_t)}var _t=V(0);function du(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||tm(a)||nm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Js=0,Re=null,Ze=null,Rt=null,fu=!1,Fa=!1,$r=!1,mu=0,mo=0,Ha=null,$A=0;function mt(){throw Error(r(321))}function $d(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!Sn(t[a],s[a]))return!1;return!0}function Xd(t,s,a,o,f,m){return Js=m,Re=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,X.H=t===null||t.memoizedState===null?By:df,$r=!1,m=a(o,f),$r=!1,Fa&&(m=ay(s,a,o,f)),ry(t),m}function ry(t){X.H=yo;var s=Ze!==null&&Ze.next!==null;if(Js=0,Rt=Ze=Re=null,fu=!1,mo=0,Ha=null,s)throw Error(r(300));t===null||Ct||(t=t.dependencies,t!==null&&iu(t)&&(Ct=!0))}function ay(t,s,a,o){Re=t;var f=0;do{if(Fa&&(Ha=null),mo=0,Fa=!1,25<=f)throw Error(r(301));if(f+=1,Rt=Ze=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}X.H=qy,m=s(a,o)}while(Fa);return m}function XA(){var t=X.H,s=t.useState()[0];return s=typeof s.then=="function"?po(s):s,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Re.flags|=1024),s}function Wd(){var t=mu!==0;return mu=0,t}function Jd(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function Zd(t){if(fu){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}fu=!1}Js=0,Rt=Ze=Re=null,Fa=!1,mo=mu=0,Ha=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Re.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function Et(){if(Ze===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var s=Rt===null?Re.memoizedState:Rt.next;if(s!==null)Rt=s,Ze=t;else{if(t===null)throw Re.alternate===null?Error(r(467)):Error(r(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Rt===null?Re.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function pu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function po(t){var s=mo;return mo+=1,Ha===null&&(Ha=[]),t=Xg(Ha,t,s),s=Re,(Rt===null?s.memoizedState:Rt.next)===null&&(s=s.alternate,X.H=s===null||s.memoizedState===null?By:df),t}function gu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return po(t);if(t.$$typeof===K)return Kt(t)}throw Error(r(438,String(t)))}function ef(t){var s=null,a=Re.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var o=Re.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(s={data:o.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=pu(),Re.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),o=0;o<t;o++)a[o]=L;return s.index++,a}function Zs(t,s){return typeof s=="function"?s(t):s}function yu(t){var s=Et();return tf(s,Ze,t)}function tf(t,s,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var f=t.baseQueue,m=o.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}s.baseQueue=f=m,o.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{s=f.next;var A=_=null,D=null,H=s,W=!1;do{var ne=H.lane&-536870913;if(ne!==H.lane?(Me&ne)===ne:(Js&ne)===ne){var G=H.revertLane;if(G===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ne===La&&(W=!0);else if((Js&G)===G){H=H.next,G===La&&(W=!0);continue}else ne={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(A=D=ne,_=m):D=D.next=ne,Re.lanes|=G,Hi|=G;ne=H.action,$r&&a(m,ne),m=H.hasEagerState?H.eagerState:a(m,ne)}else G={lane:ne,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(A=D=G,_=m):D=D.next=G,Re.lanes|=ne,Hi|=ne;H=H.next}while(H!==null&&H!==s);if(D===null?_=m:D.next=A,!Sn(m,t.memoizedState)&&(Ct=!0,W&&(a=Ua,a!==null)))throw a;t.memoizedState=m,t.baseState=_,t.baseQueue=D,o.lastRenderedState=m}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function nf(t){var s=Et(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,f=a.pending,m=s.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do m=t(m,_.action),_=_.next;while(_!==f);Sn(m,s.memoizedState)||(Ct=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,o]}function ly(t,s,a){var o=Re,f=Et(),m=Ue;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=s();var _=!Sn((Ze||f).memoizedState,a);if(_&&(f.memoizedState=a,Ct=!0),f=f.queue,af(uy.bind(null,o,f,t),[t]),f.getSnapshot!==s||_||Rt!==null&&Rt.memoizedState.tag&1){if(o.flags|=2048,Ga(9,{destroy:void 0},cy.bind(null,o,f,a,s),null),nt===null)throw Error(r(349));m||(Js&127)!==0||oy(o,s,a)}return a}function oy(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=Re.updateQueue,s===null?(s=pu(),Re.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function cy(t,s,a,o){s.value=a,s.getSnapshot=o,hy(s)&&dy(t)}function uy(t,s,a){return a(function(){hy(s)&&dy(t)})}function hy(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!Sn(t,a)}catch{return!0}}function dy(t){var s=zr(t,2);s!==null&&gn(s,t,2)}function sf(t){var s=on();if(typeof t=="function"){var a=t;if(t=a(),$r){On(!0);try{a()}finally{On(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:t},s}function fy(t,s,a,o){return t.baseState=a,tf(t,Ze,typeof o=="function"?o:Zs)}function WA(t,s,a,o,f){if(Eu(t))throw Error(r(485));if(t=s.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};X.T!==null?a(!0):m.isTransition=!1,o(m),a=s.pending,a===null?(m.next=s.pending=m,my(s,m)):(m.next=a.next,s.pending=a.next=m)}}function my(t,s){var a=s.action,o=s.payload,f=t.state;if(s.isTransition){var m=X.T,_={};X.T=_;try{var A=a(f,o),D=X.S;D!==null&&D(_,A),py(t,s,A)}catch(H){rf(t,s,H)}finally{m!==null&&_.types!==null&&(m.types=_.types),X.T=m}}else try{m=a(f,o),py(t,s,m)}catch(H){rf(t,s,H)}}function py(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){gy(t,s,o)},function(o){return rf(t,s,o)}):gy(t,s,a)}function gy(t,s,a){s.status="fulfilled",s.value=a,yy(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,my(t,a)))}function rf(t,s,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do s.status="rejected",s.reason=a,yy(s),s=s.next;while(s!==o)}t.action=null}function yy(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function vy(t,s){return s}function _y(t,s){if(Ue){var a=nt.formState;if(a!==null){e:{var o=Re;if(Ue){if(it){t:{for(var f=it,m=qn;f.nodeType!==8;){if(!m){f=null;break t}if(f=Hn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){it=Hn(f.nextSibling),o=f.data==="F!";break e}}Vi(o)}o=!1}o&&(s=a[0])}}return a=on(),a.memoizedState=a.baseState=s,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vy,lastRenderedState:s},a.queue=o,a=Ly.bind(null,Re,o),o.dispatch=a,o=sf(!1),m=hf.bind(null,Re,!1,o.queue),o=on(),f={state:s,dispatch:null,action:t,pending:null},o.queue=f,a=WA.bind(null,Re,f,m,a),f.dispatch=a,o.memoizedState=t,[s,a,!1]}function Ey(t){var s=Et();return Ty(s,Ze,t)}function Ty(t,s,a){if(s=tf(t,s,vy)[0],t=yu(Zs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var o=po(s)}catch(_){throw _===za?lu:_}else o=s;s=Et();var f=s.queue,m=f.dispatch;return a!==s.memoizedState&&(Re.flags|=2048,Ga(9,{destroy:void 0},JA.bind(null,f,a),null)),[o,m,t]}function JA(t,s){t.action=s}function by(t){var s=Et(),a=Ze;if(a!==null)return Ty(s,a,t);Et(),s=s.memoizedState,a=Et();var o=a.queue.dispatch;return a.memoizedState=t,[s,o,!1]}function Ga(t,s,a,o){return t={tag:t,create:a,deps:o,inst:s,next:null},s=Re.updateQueue,s===null&&(s=pu(),Re.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,s.lastEffect=t),t}function Ay(){return Et().memoizedState}function vu(t,s,a,o){var f=on();Re.flags|=t,f.memoizedState=Ga(1|s,{destroy:void 0},a,o===void 0?null:o)}function _u(t,s,a,o){var f=Et();o=o===void 0?null:o;var m=f.memoizedState.inst;Ze!==null&&o!==null&&$d(o,Ze.memoizedState.deps)?f.memoizedState=Ga(s,m,a,o):(Re.flags|=t,f.memoizedState=Ga(1|s,m,a,o))}function Sy(t,s){vu(8390656,8,t,s)}function af(t,s){_u(2048,8,t,s)}function ZA(t){Re.flags|=4;var s=Re.updateQueue;if(s===null)s=pu(),Re.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function wy(t){var s=Et().memoizedState;return ZA({ref:s,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function xy(t,s){return _u(4,2,t,s)}function Ny(t,s){return _u(4,4,t,s)}function Ry(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Cy(t,s,a){a=a!=null?a.concat([t]):null,_u(4,4,Ry.bind(null,s,t),a)}function lf(){}function Iy(t,s){var a=Et();s=s===void 0?null:s;var o=a.memoizedState;return s!==null&&$d(s,o[1])?o[0]:(a.memoizedState=[t,s],t)}function jy(t,s){var a=Et();s=s===void 0?null:s;var o=a.memoizedState;if(s!==null&&$d(s,o[1]))return o[0];if(o=t(),$r){On(!0);try{t()}finally{On(!1)}}return a.memoizedState=[o,s],o}function of(t,s,a){return a===void 0||(Js&1073741824)!==0&&(Me&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=Dv(),Re.lanes|=t,Hi|=t,a)}function Dy(t,s,a,o){return Sn(a,s)?a:qa.current!==null?(t=of(t,a,o),Sn(t,s)||(Ct=!0),t):(Js&42)===0||(Js&1073741824)!==0&&(Me&261930)===0?(Ct=!0,t.memoizedState=a):(t=Dv(),Re.lanes|=t,Hi|=t,s)}function Oy(t,s,a,o,f){var m=ae.p;ae.p=m!==0&&8>m?m:8;var _=X.T,A={};X.T=A,hf(t,!1,s,a);try{var D=f(),H=X.S;if(H!==null&&H(A,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=KA(D,o);go(t,s,W,In(t))}else go(t,s,o,In(t))}catch(ne){go(t,s,{then:function(){},status:"rejected",reason:ne},In())}finally{ae.p=m,_!==null&&A.types!==null&&(_.types=A.types),X.T=_}}function eS(){}function cf(t,s,a,o){if(t.tag!==5)throw Error(r(476));var f=My(t).queue;Oy(t,f,s,pe,a===null?eS:function(){return Vy(t),a(o)})}function My(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:pe},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Vy(t){var s=My(t);s.next===null&&(s=t.alternate.memoizedState),go(t,s.next.queue,{},In())}function uf(){return Kt(Oo)}function Py(){return Et().memoizedState}function ky(){return Et().memoizedState}function tS(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=In();t=Li(a);var o=Ui(s,t,a);o!==null&&(gn(o,s,a),uo(o,s,a)),s={cache:Ld()},t.payload=s;return}s=s.return}}function nS(t,s,a){var o=In();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Eu(t)?Uy(s,a):(a=Nd(t,s,a,o),a!==null&&(gn(a,t,o),zy(a,s,o)))}function Ly(t,s,a){var o=In();go(t,s,a,o)}function go(t,s,a,o){var f={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Eu(t))Uy(s,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var _=s.lastRenderedState,A=m(_,a);if(f.hasEagerState=!0,f.eagerState=A,Sn(A,_))return eu(t,s,f,0),nt===null&&Zc(),!1}catch{}finally{}if(a=Nd(t,s,f,o),a!==null)return gn(a,t,o),zy(a,s,o),!0}return!1}function hf(t,s,a,o){if(o={lane:2,revertLane:Ff(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Eu(t)){if(s)throw Error(r(479))}else s=Nd(t,a,o,2),s!==null&&gn(s,t,2)}function Eu(t){var s=t.alternate;return t===Re||s!==null&&s===Re}function Uy(t,s){Fa=fu=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function zy(t,s,a){if((a&4194048)!==0){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,kl(t,a)}}var yo={readContext:Kt,use:gu,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};yo.useEffectEvent=mt;var By={readContext:Kt,use:gu,useCallback:function(t,s){return on().memoizedState=[t,s===void 0?null:s],t},useContext:Kt,useEffect:Sy,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,vu(4194308,4,Ry.bind(null,s,t),a)},useLayoutEffect:function(t,s){return vu(4194308,4,t,s)},useInsertionEffect:function(t,s){vu(4,2,t,s)},useMemo:function(t,s){var a=on();s=s===void 0?null:s;var o=t();if($r){On(!0);try{t()}finally{On(!1)}}return a.memoizedState=[o,s],o},useReducer:function(t,s,a){var o=on();if(a!==void 0){var f=a(s);if($r){On(!0);try{a(s)}finally{On(!1)}}}else f=s;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=nS.bind(null,Re,t),[o.memoizedState,t]},useRef:function(t){var s=on();return t={current:t},s.memoizedState=t},useState:function(t){t=sf(t);var s=t.queue,a=Ly.bind(null,Re,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:lf,useDeferredValue:function(t,s){var a=on();return of(a,t,s)},useTransition:function(){var t=sf(!1);return t=Oy.bind(null,Re,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var o=Re,f=on();if(Ue){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),nt===null)throw Error(r(349));(Me&127)!==0||oy(o,s,a)}f.memoizedState=a;var m={value:a,getSnapshot:s};return f.queue=m,Sy(uy.bind(null,o,m,t),[t]),o.flags|=2048,Ga(9,{destroy:void 0},cy.bind(null,o,m,a,s),null),a},useId:function(){var t=on(),s=nt.identifierPrefix;if(Ue){var a=js,o=Is;a=(o&~(1<<32-yt(o)-1)).toString(32)+a,s="_"+s+"R_"+a,a=mu++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=$A++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:uf,useFormState:_y,useActionState:_y,useOptimistic:function(t){var s=on();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=hf.bind(null,Re,!0,a),a.dispatch=s,[t,s]},useMemoCache:ef,useCacheRefresh:function(){return on().memoizedState=tS.bind(null,Re)},useEffectEvent:function(t){var s=on(),a={impl:t};return s.memoizedState=a,function(){if((Qe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},df={readContext:Kt,use:gu,useCallback:Iy,useContext:Kt,useEffect:af,useImperativeHandle:Cy,useInsertionEffect:xy,useLayoutEffect:Ny,useMemo:jy,useReducer:yu,useRef:Ay,useState:function(){return yu(Zs)},useDebugValue:lf,useDeferredValue:function(t,s){var a=Et();return Dy(a,Ze.memoizedState,t,s)},useTransition:function(){var t=yu(Zs)[0],s=Et().memoizedState;return[typeof t=="boolean"?t:po(t),s]},useSyncExternalStore:ly,useId:Py,useHostTransitionStatus:uf,useFormState:Ey,useActionState:Ey,useOptimistic:function(t,s){var a=Et();return fy(a,Ze,t,s)},useMemoCache:ef,useCacheRefresh:ky};df.useEffectEvent=wy;var qy={readContext:Kt,use:gu,useCallback:Iy,useContext:Kt,useEffect:af,useImperativeHandle:Cy,useInsertionEffect:xy,useLayoutEffect:Ny,useMemo:jy,useReducer:nf,useRef:Ay,useState:function(){return nf(Zs)},useDebugValue:lf,useDeferredValue:function(t,s){var a=Et();return Ze===null?of(a,t,s):Dy(a,Ze.memoizedState,t,s)},useTransition:function(){var t=nf(Zs)[0],s=Et().memoizedState;return[typeof t=="boolean"?t:po(t),s]},useSyncExternalStore:ly,useId:Py,useHostTransitionStatus:uf,useFormState:by,useActionState:by,useOptimistic:function(t,s){var a=Et();return Ze!==null?fy(a,Ze,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ef,useCacheRefresh:ky};qy.useEffectEvent=wy;function ff(t,s,a,o){s=t.memoizedState,a=a(o,s),a=a==null?s:b({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var mf={enqueueSetState:function(t,s,a){t=t._reactInternals;var o=In(),f=Li(o);f.payload=s,a!=null&&(f.callback=a),s=Ui(t,f,o),s!==null&&(gn(s,t,o),uo(s,t,o))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var o=In(),f=Li(o);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Ui(t,f,o),s!==null&&(gn(s,t,o),uo(s,t,o))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=In(),o=Li(a);o.tag=2,s!=null&&(o.callback=s),s=Ui(t,o,a),s!==null&&(gn(s,t,a),uo(s,t,a))}};function Fy(t,s,a,o,f,m,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,_):s.prototype&&s.prototype.isPureReactComponent?!no(a,o)||!no(f,m):!0}function Hy(t,s,a,o){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,o),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,o),s.state!==t&&mf.enqueueReplaceState(s,s.state,null)}function Xr(t,s){var a=s;if("ref"in s){a={};for(var o in s)o!=="ref"&&(a[o]=s[o])}if(t=t.defaultProps){a===s&&(a=b({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function Gy(t){Jc(t)}function Qy(t){console.error(t)}function Yy(t){Jc(t)}function Tu(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(o){setTimeout(function(){throw o})}}function Ky(t,s,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function pf(t,s,a){return a=Li(a),a.tag=3,a.payload={element:null},a.callback=function(){Tu(t,s)},a}function $y(t){return t=Li(t),t.tag=3,t}function Xy(t,s,a,o){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;t.payload=function(){return f(m)},t.callback=function(){Ky(s,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Ky(s,a,o),typeof f!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var A=o.stack;this.componentDidCatch(o.value,{componentStack:A!==null?A:""})})}function sS(t,s,a,o,f){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(s=a.alternate,s!==null&&ka(s,a,f,!0),a=xn.current,a!==null){switch(a.tag){case 31:case 13:return Fn===null?Ou():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,o===ou?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([o]):s.add(o),zf(t,o,f)),!1;case 22:return a.flags|=65536,o===ou?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([o]):a.add(o)),zf(t,o,f)),!1}throw Error(r(435,a.tag))}return zf(t,o,f),Ou(),!1}if(Ue)return s=xn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,o!==Od&&(t=Error(r(422),{cause:o}),ro(Un(t,a)))):(o!==Od&&(s=Error(r(423),{cause:o}),ro(Un(s,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=Un(o,a),f=pf(t.stateNode,o,f),Hd(t,f),pt!==4&&(pt=2)),!1;var m=Error(r(520),{cause:o});if(m=Un(m,a),wo===null?wo=[m]:wo.push(m),pt!==4&&(pt=2),s===null)return!0;o=Un(o,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=pf(a.stateNode,o,t),Hd(a,t),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Gi===null||!Gi.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=$y(f),Xy(f,t,a,o),Hd(a,f),!1}a=a.return}while(a!==null);return!1}var gf=Error(r(461)),Ct=!1;function $t(t,s,a,o){s.child=t===null?ey(s,null,a,o):Kr(s,t.child,a,o)}function Wy(t,s,a,o,f){a=a.render;var m=s.ref;if("ref"in o){var _={};for(var A in o)A!=="ref"&&(_[A]=o[A])}else _=o;return Hr(s),o=Xd(t,s,a,_,m,f),A=Wd(),t!==null&&!Ct?(Jd(t,s,f),ei(t,s,f)):(Ue&&A&&jd(s),s.flags|=1,$t(t,s,o,f),s.child)}function Jy(t,s,a,o,f){if(t===null){var m=a.type;return typeof m=="function"&&!Rd(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,Zy(t,s,m,o,f)):(t=nu(a.type,null,o,s,s.mode,f),t.ref=s.ref,t.return=s,s.child=t)}if(m=t.child,!Sf(t,f)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:no,a(_,o)&&t.ref===s.ref)return ei(t,s,f)}return s.flags|=1,t=Ks(m,o),t.ref=s.ref,t.return=s,s.child=t}function Zy(t,s,a,o,f){if(t!==null){var m=t.memoizedProps;if(no(m,o)&&t.ref===s.ref)if(Ct=!1,s.pendingProps=o=m,Sf(t,f))(t.flags&131072)!==0&&(Ct=!0);else return s.lanes=t.lanes,ei(t,s,f)}return yf(t,s,a,o,f)}function ev(t,s,a,o){var f=o.children,m=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(o=s.child=t.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~m}else o=0,s.child=null;return tv(t,s,m,a,o)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&au(s,m!==null?m.cachePool:null),m!==null?sy(s,m):Qd(),iy(s);else return o=s.lanes=536870912,tv(t,s,m!==null?m.baseLanes|a:a,a,o)}else m!==null?(au(s,m.cachePool),sy(s,m),Bi(),s.memoizedState=null):(t!==null&&au(s,null),Qd(),Bi());return $t(t,s,f,a),s.child}function vo(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function tv(t,s,a,o,f){var m=zd();return m=m===null?null:{parent:Nt._currentValue,pool:m},s.memoizedState={baseLanes:a,cachePool:m},t!==null&&au(s,null),Qd(),iy(s),t!==null&&ka(t,s,o,!0),s.childLanes=f,null}function bu(t,s){return s=Su({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function nv(t,s,a){return Kr(s,t.child,null,a),t=bu(s,s.pendingProps),t.flags|=2,Nn(s),s.memoizedState=null,t}function iS(t,s,a){var o=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Ue){if(o.mode==="hidden")return t=bu(s,o),s.lanes=536870912,vo(null,t);if(Kd(s),(t=it)?(t=m_(t,qn),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Oi!==null?{id:Is,overflow:js}:null,retryLane:536870912,hydrationErrors:null},a=Ug(t),a.return=s,s.child=a,Yt=s,it=null)):t=null,t===null)throw Vi(s);return s.lanes=536870912,null}return bu(s,o)}var m=t.memoizedState;if(m!==null){var _=m.dehydrated;if(Kd(s),f)if(s.flags&256)s.flags&=-257,s=nv(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(r(558));else if(Ct||ka(t,s,a,!1),f=(a&t.childLanes)!==0,Ct||f){if(o=nt,o!==null&&(_=Ll(o,a),_!==0&&_!==m.retryLane))throw m.retryLane=_,zr(t,_),gn(o,t,_),gf;Ou(),s=nv(t,s,a)}else t=m.treeContext,it=Hn(_.nextSibling),Yt=s,Ue=!0,Mi=null,qn=!1,t!==null&&qg(s,t),s=bu(s,o),s.flags|=4096;return s}return t=Ks(t.child,{mode:o.mode,children:o.children}),t.ref=s.ref,s.child=t,t.return=s,t}function Au(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function yf(t,s,a,o,f){return Hr(s),a=Xd(t,s,a,o,void 0,f),o=Wd(),t!==null&&!Ct?(Jd(t,s,f),ei(t,s,f)):(Ue&&o&&jd(s),s.flags|=1,$t(t,s,a,f),s.child)}function sv(t,s,a,o,f,m){return Hr(s),s.updateQueue=null,a=ay(s,o,a,f),ry(t),o=Wd(),t!==null&&!Ct?(Jd(t,s,m),ei(t,s,m)):(Ue&&o&&jd(s),s.flags|=1,$t(t,s,a,m),s.child)}function iv(t,s,a,o,f){if(Hr(s),s.stateNode===null){var m=Oa,_=a.contextType;typeof _=="object"&&_!==null&&(m=Kt(_)),m=new a(o,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=mf,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=o,m.state=s.memoizedState,m.refs={},qd(s),_=a.contextType,m.context=typeof _=="object"&&_!==null?Kt(_):Oa,m.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(ff(s,a,_,o),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&mf.enqueueReplaceState(m,m.state,null),fo(s,o,m,f),ho(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),o=!0}else if(t===null){m=s.stateNode;var A=s.memoizedProps,D=Xr(a,A);m.props=D;var H=m.context,W=a.contextType;_=Oa,typeof W=="object"&&W!==null&&(_=Kt(W));var ne=a.getDerivedStateFromProps;W=typeof ne=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||H!==_)&&Hy(s,m,o,_),ki=!1;var G=s.memoizedState;m.state=G,fo(s,o,m,f),ho(),H=s.memoizedState,A||G!==H||ki?(typeof ne=="function"&&(ff(s,a,ne,o),H=s.memoizedState),(D=ki||Fy(s,a,D,o,G,H,_))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=o,s.memoizedState=H),m.props=o,m.state=H,m.context=_,o=D):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),o=!1)}else{m=s.stateNode,Fd(t,s),_=s.memoizedProps,W=Xr(a,_),m.props=W,ne=s.pendingProps,G=m.context,H=a.contextType,D=Oa,typeof H=="object"&&H!==null&&(D=Kt(H)),A=a.getDerivedStateFromProps,(H=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==ne||G!==D)&&Hy(s,m,o,D),ki=!1,G=s.memoizedState,m.state=G,fo(s,o,m,f),ho();var $=s.memoizedState;_!==ne||G!==$||ki||t!==null&&t.dependencies!==null&&iu(t.dependencies)?(typeof A=="function"&&(ff(s,a,A,o),$=s.memoizedState),(W=ki||Fy(s,a,W,o,G,$,D)||t!==null&&t.dependencies!==null&&iu(t.dependencies))?(H||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,$,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,$,D)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(s.flags|=1024),s.memoizedProps=o,s.memoizedState=$),m.props=o,m.state=$,m.context=D,o=W):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(s.flags|=1024),o=!1)}return m=o,Au(t,s),o=(s.flags&128)!==0,m||o?(m=s.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,t!==null&&o?(s.child=Kr(s,t.child,null,f),s.child=Kr(s,null,a,f)):$t(t,s,a,f),s.memoizedState=m.state,t=s.child):t=ei(t,s,f),t}function rv(t,s,a,o){return qr(),s.flags|=256,$t(t,s,a,o),s.child}var vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _f(t){return{baseLanes:t,cachePool:Kg()}}function Ef(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Cn),t}function av(t,s,a){var o=s.pendingProps,f=!1,m=(s.flags&128)!==0,_;if((_=m)||(_=t!==null&&t.memoizedState===null?!1:(_t.current&2)!==0),_&&(f=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,t===null){if(Ue){if(f?zi(s):Bi(),(t=it)?(t=m_(t,qn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Oi!==null?{id:Is,overflow:js}:null,retryLane:536870912,hydrationErrors:null},a=Ug(t),a.return=s,s.child=a,Yt=s,it=null)):t=null,t===null)throw Vi(s);return nm(t)?s.lanes=32:s.lanes=536870912,null}var A=o.children;return o=o.fallback,f?(Bi(),f=s.mode,A=Su({mode:"hidden",children:A},f),o=Br(o,f,a,null),A.return=s,o.return=s,A.sibling=o,s.child=A,o=s.child,o.memoizedState=_f(a),o.childLanes=Ef(t,_,a),s.memoizedState=vf,vo(null,o)):(zi(s),Tf(s,A))}var D=t.memoizedState;if(D!==null&&(A=D.dehydrated,A!==null)){if(m)s.flags&256?(zi(s),s.flags&=-257,s=bf(t,s,a)):s.memoizedState!==null?(Bi(),s.child=t.child,s.flags|=128,s=null):(Bi(),A=o.fallback,f=s.mode,o=Su({mode:"visible",children:o.children},f),A=Br(A,f,a,null),A.flags|=2,o.return=s,A.return=s,o.sibling=A,s.child=o,Kr(s,t.child,null,a),o=s.child,o.memoizedState=_f(a),o.childLanes=Ef(t,_,a),s.memoizedState=vf,s=vo(null,o));else if(zi(s),nm(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var H=_.dgst;_=H,o=Error(r(419)),o.stack="",o.digest=_,ro({value:o,source:null,stack:null}),s=bf(t,s,a)}else if(Ct||ka(t,s,a,!1),_=(a&t.childLanes)!==0,Ct||_){if(_=nt,_!==null&&(o=Ll(_,a),o!==0&&o!==D.retryLane))throw D.retryLane=o,zr(t,o),gn(_,t,o),gf;tm(A)||Ou(),s=bf(t,s,a)}else tm(A)?(s.flags|=192,s.child=t.child,s=null):(t=D.treeContext,it=Hn(A.nextSibling),Yt=s,Ue=!0,Mi=null,qn=!1,t!==null&&qg(s,t),s=Tf(s,o.children),s.flags|=4096);return s}return f?(Bi(),A=o.fallback,f=s.mode,D=t.child,H=D.sibling,o=Ks(D,{mode:"hidden",children:o.children}),o.subtreeFlags=D.subtreeFlags&65011712,H!==null?A=Ks(H,A):(A=Br(A,f,a,null),A.flags|=2),A.return=s,o.return=s,o.sibling=A,s.child=o,vo(null,o),o=s.child,A=t.child.memoizedState,A===null?A=_f(a):(f=A.cachePool,f!==null?(D=Nt._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=Kg(),A={baseLanes:A.baseLanes|a,cachePool:f}),o.memoizedState=A,o.childLanes=Ef(t,_,a),s.memoizedState=vf,vo(t.child,o)):(zi(s),a=t.child,t=a.sibling,a=Ks(a,{mode:"visible",children:o.children}),a.return=s,a.sibling=null,t!==null&&(_=s.deletions,_===null?(s.deletions=[t],s.flags|=16):_.push(t)),s.child=a,s.memoizedState=null,a)}function Tf(t,s){return s=Su({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Su(t,s){return t=wn(22,t,null,s),t.lanes=0,t}function bf(t,s,a){return Kr(s,t.child,null,a),t=Tf(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function lv(t,s,a){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s),Pd(t.return,s,a)}function Af(t,s,a,o,f,m){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:f,treeForkCount:m}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=f,_.treeForkCount=m)}function ov(t,s,a){var o=s.pendingProps,f=o.revealOrder,m=o.tail;o=o.children;var _=_t.current,A=(_&2)!==0;if(A?(_=_&1|2,s.flags|=128):_&=1,le(_t,_),$t(t,s,o,a),o=Ue?io:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lv(t,a,s);else if(t.tag===19)lv(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)t=a.alternate,t!==null&&du(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Af(s,!1,f,a,m,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(t=f.alternate,t!==null&&du(t)===null){s.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Af(s,!0,a,null,m,o);break;case"together":Af(s,!1,null,null,void 0,o);break;default:s.memoizedState=null}return s.child}function ei(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Hi|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(ka(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,a=Ks(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Ks(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function Sf(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&iu(t)))}function rS(t,s,a){switch(s.tag){case 3:Mt(s,s.stateNode.containerInfo),Pi(s,Nt,t.memoizedState.cache),qr();break;case 27:case 5:br(s);break;case 4:Mt(s,s.stateNode.containerInfo);break;case 10:Pi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Kd(s),null;break;case 13:var o=s.memoizedState;if(o!==null)return o.dehydrated!==null?(zi(s),s.flags|=128,null):(a&s.child.childLanes)!==0?av(t,s,a):(zi(s),t=ei(t,s,a),t!==null?t.sibling:null);zi(s);break;case 19:var f=(t.flags&128)!==0;if(o=(a&s.childLanes)!==0,o||(ka(t,s,a,!1),o=(a&s.childLanes)!==0),f){if(o)return ov(t,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(_t,_t.current),o)break;return null;case 22:return s.lanes=0,ev(t,s,a,s.pendingProps);case 24:Pi(s,Nt,t.memoizedState.cache)}return ei(t,s,a)}function cv(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)Ct=!0;else{if(!Sf(t,a)&&(s.flags&128)===0)return Ct=!1,rS(t,s,a);Ct=(t.flags&131072)!==0}else Ct=!1,Ue&&(s.flags&1048576)!==0&&Bg(s,io,s.index);switch(s.lanes=0,s.tag){case 16:e:{var o=s.pendingProps;if(t=Qr(s.elementType),s.type=t,typeof t=="function")Rd(t)?(o=Xr(t,o),s.tag=1,s=iv(null,s,t,o,a)):(s.tag=0,s=yf(null,s,t,o,a));else{if(t!=null){var f=t.$$typeof;if(f===de){s.tag=11,s=Wy(null,s,t,o,a);break e}else if(f===R){s.tag=14,s=Jy(null,s,t,o,a);break e}}throw s=We(t)||t,Error(r(306,s,""))}}return s;case 0:return yf(t,s,s.type,s.pendingProps,a);case 1:return o=s.type,f=Xr(o,s.pendingProps),iv(t,s,o,f,a);case 3:e:{if(Mt(s,s.stateNode.containerInfo),t===null)throw Error(r(387));o=s.pendingProps;var m=s.memoizedState;f=m.element,Fd(t,s),fo(s,o,null,a);var _=s.memoizedState;if(o=_.cache,Pi(s,Nt,o),o!==m.cache&&kd(s,[Nt],a,!0),ho(),o=_.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=rv(t,s,o,a);break e}else if(o!==f){f=Un(Error(r(424)),s),ro(f),s=rv(t,s,o,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(it=Hn(t.firstChild),Yt=s,Ue=!0,Mi=null,qn=!0,a=ey(s,null,o,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(qr(),o===f){s=ei(t,s,a);break e}$t(t,s,o,a)}s=s.child}return s;case 26:return Au(t,s),t===null?(a=E_(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ue||(a=s.type,t=s.pendingProps,o=zu(Ce.current).createElement(a),o[St]=s,o[zt]=t,Xt(o,a,t),wt(o),s.stateNode=o):s.memoizedState=E_(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return br(s),t===null&&Ue&&(o=s.stateNode=y_(s.type,s.pendingProps,Ce.current),Yt=s,qn=!0,f=it,$i(s.type)?(sm=f,it=Hn(o.firstChild)):it=f),$t(t,s,s.pendingProps.children,a),Au(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Ue&&((f=o=it)&&(o=VS(o,s.type,s.pendingProps,qn),o!==null?(s.stateNode=o,Yt=s,it=Hn(o.firstChild),qn=!1,f=!0):f=!1),f||Vi(s)),br(s),f=s.type,m=s.pendingProps,_=t!==null?t.memoizedProps:null,o=m.children,Jf(f,m)?o=null:_!==null&&Jf(f,_)&&(s.flags|=32),s.memoizedState!==null&&(f=Xd(t,s,XA,null,null,a),Oo._currentValue=f),Au(t,s),$t(t,s,o,a),s.child;case 6:return t===null&&Ue&&((t=a=it)&&(a=PS(a,s.pendingProps,qn),a!==null?(s.stateNode=a,Yt=s,it=null,t=!0):t=!1),t||Vi(s)),null;case 13:return av(t,s,a);case 4:return Mt(s,s.stateNode.containerInfo),o=s.pendingProps,t===null?s.child=Kr(s,null,o,a):$t(t,s,o,a),s.child;case 11:return Wy(t,s,s.type,s.pendingProps,a);case 7:return $t(t,s,s.pendingProps,a),s.child;case 8:return $t(t,s,s.pendingProps.children,a),s.child;case 12:return $t(t,s,s.pendingProps.children,a),s.child;case 10:return o=s.pendingProps,Pi(s,s.type,o.value),$t(t,s,o.children,a),s.child;case 9:return f=s.type._context,o=s.pendingProps.children,Hr(s),f=Kt(f),o=o(f),s.flags|=1,$t(t,s,o,a),s.child;case 14:return Jy(t,s,s.type,s.pendingProps,a);case 15:return Zy(t,s,s.type,s.pendingProps,a);case 19:return ov(t,s,a);case 31:return iS(t,s,a);case 22:return ev(t,s,a,s.pendingProps);case 24:return Hr(s),o=Kt(Nt),t===null?(f=zd(),f===null&&(f=nt,m=Ld(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),s.memoizedState={parent:o,cache:f},qd(s),Pi(s,Nt,f)):((t.lanes&a)!==0&&(Fd(t,s),fo(s,null,null,a),ho()),f=t.memoizedState,m=s.memoizedState,f.parent!==o?(f={parent:o,cache:o},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Pi(s,Nt,o)):(o=m.cache,Pi(s,Nt,o),o!==f.cache&&kd(s,[Nt],a,!0))),$t(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ti(t){t.flags|=4}function wf(t,s,a,o,f){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Pv())t.flags|=8192;else throw Yr=ou,Bd}else t.flags&=-16777217}function uv(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!w_(s))if(Pv())t.flags|=8192;else throw Yr=ou,Bd}function wu(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?jc():536870912,t.lanes|=s,$a|=s)}function _o(t,s){if(!Ue)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function rt(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(s)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=a,s}function aS(t,s,a){var o=s.pendingProps;switch(Dd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(s),null;case 1:return rt(s),null;case 3:return a=s.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ws(Nt),lt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Pa(s)?ti(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Md())),rt(s),null;case 26:var f=s.type,m=s.memoizedState;return t===null?(ti(s),m!==null?(rt(s),uv(s,m)):(rt(s),wf(s,f,null,o,a))):m?m!==t.memoizedState?(ti(s),rt(s),uv(s,m)):(rt(s),s.flags&=-16777217):(t=t.memoizedProps,t!==o&&ti(s),rt(s),wf(s,f,t,o,a)),null;case 27:if(ma(s),a=Ce.current,f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&ti(s);else{if(!o){if(s.stateNode===null)throw Error(r(166));return rt(s),null}t=he.current,Pa(s)?Fg(s):(t=y_(f,o,a),s.stateNode=t,ti(s))}return rt(s),null;case 5:if(ma(s),f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&ti(s);else{if(!o){if(s.stateNode===null)throw Error(r(166));return rt(s),null}if(m=he.current,Pa(s))Fg(s);else{var _=zu(Ce.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?_.createElement(f,{is:o.is}):_.createElement(f)}}m[St]=s,m[zt]=o;e:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break e;for(;_.sibling===null;){if(_.return===null||_.return===s)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=m;e:switch(Xt(m,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ti(s)}}return rt(s),wf(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==o&&ti(s);else{if(typeof o!="string"&&s.stateNode===null)throw Error(r(166));if(t=Ce.current,Pa(s)){if(t=s.stateNode,a=s.memoizedProps,o=null,f=Yt,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[St]=s,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||a_(t.nodeValue,a)),t||Vi(s,!0)}else t=zu(t).createTextNode(o),t[St]=s,s.stateNode=t}return rt(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(o=Pa(s),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[St]=s}else qr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;rt(s),t=!1}else a=Md(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(Nn(s),s):(Nn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return rt(s),null;case 13:if(o=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Pa(s),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[St]=s}else qr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;rt(s),f=!1}else f=Md(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Nn(s),s):(Nn(s),null)}return Nn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=s.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==f&&(o.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),wu(s,s.updateQueue),rt(s),null);case 4:return lt(),t===null&&Yf(s.stateNode.containerInfo),rt(s),null;case 10:return Ws(s.type),rt(s),null;case 19:if(se(_t),o=s.memoizedState,o===null)return rt(s),null;if(f=(s.flags&128)!==0,m=o.rendering,m===null)if(f)_o(o,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(m=du(t),m!==null){for(s.flags|=128,_o(o,!1),t=m.updateQueue,s.updateQueue=t,wu(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)Lg(a,t),a=a.sibling;return le(_t,_t.current&1|2),Ue&&$s(s,o.treeForkCount),s.child}t=t.sibling}o.tail!==null&&an()>Iu&&(s.flags|=128,f=!0,_o(o,!1),s.lanes=4194304)}else{if(!f)if(t=du(m),t!==null){if(s.flags|=128,f=!0,t=t.updateQueue,s.updateQueue=t,wu(s,t),_o(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!Ue)return rt(s),null}else 2*an()-o.renderingStartTime>Iu&&a!==536870912&&(s.flags|=128,f=!0,_o(o,!1),s.lanes=4194304);o.isBackwards?(m.sibling=s.child,s.child=m):(t=o.last,t!==null?t.sibling=m:s.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=an(),t.sibling=null,a=_t.current,le(_t,f?a&1|2:a&1),Ue&&$s(s,o.treeForkCount),t):(rt(s),null);case 22:case 23:return Nn(s),Yd(),o=s.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(s.flags|=8192):o&&(s.flags|=8192),o?(a&536870912)!==0&&(s.flags&128)===0&&(rt(s),s.subtreeFlags&6&&(s.flags|=8192)):rt(s),a=s.updateQueue,a!==null&&wu(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==a&&(s.flags|=2048),t!==null&&se(Gr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Ws(Nt),rt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function lS(t,s){switch(Dd(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Ws(Nt),lt(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return ma(s),null;case 31:if(s.memoizedState!==null){if(Nn(s),s.alternate===null)throw Error(r(340));qr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(Nn(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));qr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return se(_t),null;case 4:return lt(),null;case 10:return Ws(s.type),null;case 22:case 23:return Nn(s),Yd(),t!==null&&se(Gr),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Ws(Nt),null;case 25:return null;default:return null}}function hv(t,s){switch(Dd(s),s.tag){case 3:Ws(Nt),lt();break;case 26:case 27:case 5:ma(s);break;case 4:lt();break;case 31:s.memoizedState!==null&&Nn(s);break;case 13:Nn(s);break;case 19:se(_t);break;case 10:Ws(s.type);break;case 22:case 23:Nn(s),Yd(),t!==null&&se(Gr);break;case 24:Ws(Nt)}}function Eo(t,s){try{var a=s.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var f=o.next;a=f;do{if((a.tag&t)===t){o=void 0;var m=a.create,_=a.inst;o=m(),_.destroy=o}a=a.next}while(a!==f)}}catch(A){Xe(s,s.return,A)}}function qi(t,s,a){try{var o=s.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var m=f.next;o=m;do{if((o.tag&t)===t){var _=o.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,f=s;var D=a,H=A;try{H()}catch(W){Xe(f,D,W)}}}o=o.next}while(o!==m)}}catch(W){Xe(s,s.return,W)}}function dv(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{ny(s,a)}catch(o){Xe(t,t.return,o)}}}function fv(t,s,a){a.props=Xr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Xe(t,s,o)}}function To(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(f){Xe(t,s,f)}}function Ds(t,s){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(f){Xe(t,s,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xe(t,s,f)}else a.current=null}function mv(t){var s=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(f){Xe(t,t.return,f)}}function xf(t,s,a){try{var o=t.stateNode;CS(o,t.type,a,s),o[zt]=s}catch(f){Xe(t,t.return,f)}}function pv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&$i(t.type)||t.tag===4}function Nf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&$i(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rf(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=es));else if(o!==4&&(o===27&&$i(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(Rf(t,s,a),t=t.sibling;t!==null;)Rf(t,s,a),t=t.sibling}function xu(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(o!==4&&(o===27&&$i(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(xu(t,s,a),t=t.sibling;t!==null;)xu(t,s,a),t=t.sibling}function gv(t){var s=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Xt(s,o,a),s[St]=t,s[zt]=a}catch(m){Xe(t,t.return,m)}}var ni=!1,It=!1,Cf=!1,yv=typeof WeakSet=="function"?WeakSet:Set,qt=null;function oS(t,s){if(t=t.containerInfo,Xf=Yu,t=Cg(t),Td(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var f=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,A=-1,D=-1,H=0,W=0,ne=t,G=null;t:for(;;){for(var $;ne!==a||f!==0&&ne.nodeType!==3||(A=_+f),ne!==m||o!==0&&ne.nodeType!==3||(D=_+o),ne.nodeType===3&&(_+=ne.nodeValue.length),($=ne.firstChild)!==null;)G=ne,ne=$;for(;;){if(ne===t)break t;if(G===a&&++H===f&&(A=_),G===m&&++W===o&&(D=_),($=ne.nextSibling)!==null)break;ne=G,G=ne.parentNode}ne=$}a=A===-1||D===-1?null:{start:A,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Wf={focusedElem:t,selectionRange:a},Yu=!1,qt=s;qt!==null;)if(s=qt,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,qt=t;else for(;qt!==null;){switch(s=qt,m=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=s,f=m.memoizedProps,m=m.memoizedState,o=a.stateNode;try{var fe=Xr(a.type,f);t=o.getSnapshotBeforeUpdate(fe,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Xe(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)em(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":em(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=s.sibling,t!==null){t.return=s.return,qt=t;break}qt=s.return}}function vv(t,s,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ii(t,a),o&4&&Eo(5,a);break;case 1:if(ii(t,a),o&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(_){Xe(a,a.return,_)}else{var f=Xr(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(f,s,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(a,a.return,_)}}o&64&&dv(a),o&512&&To(a,a.return);break;case 3:if(ii(t,a),o&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{ny(t,s)}catch(_){Xe(a,a.return,_)}}break;case 27:s===null&&o&4&&gv(a);case 26:case 5:ii(t,a),s===null&&o&4&&mv(a),o&512&&To(a,a.return);break;case 12:ii(t,a);break;case 31:ii(t,a),o&4&&Tv(t,a);break;case 13:ii(t,a),o&4&&bv(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=yS.bind(null,a),kS(t,a))));break;case 22:if(o=a.memoizedState!==null||ni,!o){s=s!==null&&s.memoizedState!==null||It,f=ni;var m=It;ni=o,(It=s)&&!m?ri(t,a,(a.subtreeFlags&8772)!==0):ii(t,a),ni=f,It=m}break;case 30:break;default:ii(t,a)}}function _v(t){var s=t.alternate;s!==null&&(t.alternate=null,_v(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&_a(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,dn=!1;function si(t,s,a){for(a=a.child;a!==null;)Ev(t,s,a),a=a.sibling}function Ev(t,s,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Xn,a)}catch{}switch(a.tag){case 26:It||Ds(a,s),si(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||Ds(a,s);var o=ct,f=dn;$i(a.type)&&(ct=a.stateNode,dn=!1),si(t,s,a),Io(a.stateNode),ct=o,dn=f;break;case 5:It||Ds(a,s);case 6:if(o=ct,f=dn,ct=null,si(t,s,a),ct=o,dn=f,ct!==null)if(dn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(m){Xe(a,s,m)}else try{ct.removeChild(a.stateNode)}catch(m){Xe(a,s,m)}break;case 18:ct!==null&&(dn?(t=ct,d_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),sl(t)):d_(ct,a.stateNode));break;case 4:o=ct,f=dn,ct=a.stateNode.containerInfo,dn=!0,si(t,s,a),ct=o,dn=f;break;case 0:case 11:case 14:case 15:qi(2,a,s),It||qi(4,a,s),si(t,s,a);break;case 1:It||(Ds(a,s),o=a.stateNode,typeof o.componentWillUnmount=="function"&&fv(a,s,o)),si(t,s,a);break;case 21:si(t,s,a);break;case 22:It=(o=It)||a.memoizedState!==null,si(t,s,a),It=o;break;default:si(t,s,a)}}function Tv(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{sl(t)}catch(a){Xe(s,s.return,a)}}}function bv(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{sl(t)}catch(a){Xe(s,s.return,a)}}function cS(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new yv),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new yv),s;default:throw Error(r(435,t.tag))}}function Nu(t,s){var a=cS(t);s.forEach(function(o){if(!a.has(o)){a.add(o);var f=vS.bind(null,t,o);o.then(f,f)}})}function fn(t,s){var a=s.deletions;if(a!==null)for(var o=0;o<a.length;o++){var f=a[o],m=t,_=s,A=_;e:for(;A!==null;){switch(A.tag){case 27:if($i(A.type)){ct=A.stateNode,dn=!1;break e}break;case 5:ct=A.stateNode,dn=!1;break e;case 3:case 4:ct=A.stateNode.containerInfo,dn=!0;break e}A=A.return}if(ct===null)throw Error(r(160));Ev(m,_,f),ct=null,dn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Av(s,t),s=s.sibling}var as=null;function Av(t,s){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(s,t),mn(t),o&4&&(qi(3,t,t.return),Eo(3,t),qi(5,t,t.return));break;case 1:fn(s,t),mn(t),o&512&&(It||a===null||Ds(a,a.return)),o&64&&ni&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var f=as;if(fn(s,t),mn(t),o&512&&(It||a===null||Ds(a,a.return)),o&4){var m=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":m=f.getElementsByTagName("title")[0],(!m||m[vs]||m[St]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(o),f.head.insertBefore(m,f.querySelector("head > title"))),Xt(m,o,a),m[St]=t,wt(m),o=m;break e;case"link":var _=A_("link","href",f).get(o+(a.href||""));if(_){for(var A=0;A<_.length;A++)if(m=_[A],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(A,1);break t}}m=f.createElement(o),Xt(m,o,a),f.head.appendChild(m);break;case"meta":if(_=A_("meta","content",f).get(o+(a.content||""))){for(A=0;A<_.length;A++)if(m=_[A],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(A,1);break t}}m=f.createElement(o),Xt(m,o,a),f.head.appendChild(m);break;default:throw Error(r(468,o))}m[St]=t,wt(m),o=m}t.stateNode=o}else S_(f,t.type,t.stateNode);else t.stateNode=b_(f,o,t.memoizedProps);else m!==o?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,o===null?S_(f,t.type,t.stateNode):b_(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&xf(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(s,t),mn(t),o&512&&(It||a===null||Ds(a,a.return)),a!==null&&o&4&&xf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(s,t),mn(t),o&512&&(It||a===null||Ds(a,a.return)),t.flags&32){f=t.stateNode;try{hn(f,"")}catch(fe){Xe(t,t.return,fe)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,xf(t,f,a!==null?a.memoizedProps:f)),o&1024&&(Cf=!0);break;case 6:if(fn(s,t),mn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(fe){Xe(t,t.return,fe)}}break;case 3:if(Fu=null,f=as,as=Bu(s.containerInfo),fn(s,t),as=f,mn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{sl(s.containerInfo)}catch(fe){Xe(t,t.return,fe)}Cf&&(Cf=!1,Sv(t));break;case 4:o=as,as=Bu(t.stateNode.containerInfo),fn(s,t),mn(t),as=o;break;case 12:fn(s,t),mn(t);break;case 31:fn(s,t),mn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Nu(t,o)));break;case 13:fn(s,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Cu=an()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Nu(t,o)));break;case 22:f=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,H=ni,W=It;if(ni=H||f,It=W||D,fn(s,t),It=W,ni=H,mn(t),o&8192)e:for(s=t.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||D||ni||It||Wr(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){D=a=s;try{if(m=D.stateNode,f)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=D.stateNode;var ne=D.memoizedProps.style,G=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;A.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(fe){Xe(D,D.return,fe)}}}else if(s.tag===6){if(a===null){D=s;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(fe){Xe(D,D.return,fe)}}}else if(s.tag===18){if(a===null){D=s;try{var $=D.stateNode;f?f_($,!0):f_(D.stateNode,!1)}catch(fe){Xe(D,D.return,fe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Nu(t,a))));break;case 19:fn(s,t),mn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Nu(t,o)));break;case 30:break;case 21:break;default:fn(s,t),mn(t)}}function mn(t){var s=t.flags;if(s&2){try{for(var a,o=t.return;o!==null;){if(pv(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,m=Nf(t);xu(t,m,f);break;case 5:var _=a.stateNode;a.flags&32&&(hn(_,""),a.flags&=-33);var A=Nf(t);xu(t,A,_);break;case 3:case 4:var D=a.stateNode.containerInfo,H=Nf(t);Rf(t,H,D);break;default:throw Error(r(161))}}catch(W){Xe(t,t.return,W)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Sv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Sv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function ii(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)vv(t,s.alternate,s),s=s.sibling}function Wr(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:qi(4,s,s.return),Wr(s);break;case 1:Ds(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&fv(s,s.return,a),Wr(s);break;case 27:Io(s.stateNode);case 26:case 5:Ds(s,s.return),Wr(s);break;case 22:s.memoizedState===null&&Wr(s);break;case 30:Wr(s);break;default:Wr(s)}t=t.sibling}}function ri(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var o=s.alternate,f=t,m=s,_=m.flags;switch(m.tag){case 0:case 11:case 15:ri(f,m,a),Eo(4,m);break;case 1:if(ri(f,m,a),o=m,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){Xe(o,o.return,H)}if(o=m,f=o.updateQueue,f!==null){var A=o.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)ty(D[f],A)}catch(H){Xe(o,o.return,H)}}a&&_&64&&dv(m),To(m,m.return);break;case 27:gv(m);case 26:case 5:ri(f,m,a),a&&o===null&&_&4&&mv(m),To(m,m.return);break;case 12:ri(f,m,a);break;case 31:ri(f,m,a),a&&_&4&&Tv(f,m);break;case 13:ri(f,m,a),a&&_&4&&bv(f,m);break;case 22:m.memoizedState===null&&ri(f,m,a),To(m,m.return);break;case 30:break;default:ri(f,m,a)}s=s.sibling}}function If(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ao(a))}function jf(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&ao(t))}function ls(t,s,a,o){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)wv(t,s,a,o),s=s.sibling}function wv(t,s,a,o){var f=s.flags;switch(s.tag){case 0:case 11:case 15:ls(t,s,a,o),f&2048&&Eo(9,s);break;case 1:ls(t,s,a,o);break;case 3:ls(t,s,a,o),f&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&ao(t)));break;case 12:if(f&2048){ls(t,s,a,o),t=s.stateNode;try{var m=s.memoizedProps,_=m.id,A=m.onPostCommit;typeof A=="function"&&A(_,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Xe(s,s.return,D)}}else ls(t,s,a,o);break;case 31:ls(t,s,a,o);break;case 13:ls(t,s,a,o);break;case 23:break;case 22:m=s.stateNode,_=s.alternate,s.memoizedState!==null?m._visibility&2?ls(t,s,a,o):bo(t,s):m._visibility&2?ls(t,s,a,o):(m._visibility|=2,Qa(t,s,a,o,(s.subtreeFlags&10256)!==0||!1)),f&2048&&If(_,s);break;case 24:ls(t,s,a,o),f&2048&&jf(s.alternate,s);break;default:ls(t,s,a,o)}}function Qa(t,s,a,o,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=t,_=s,A=a,D=o,H=_.flags;switch(_.tag){case 0:case 11:case 15:Qa(m,_,A,D,f),Eo(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?Qa(m,_,A,D,f):bo(m,_):(W._visibility|=2,Qa(m,_,A,D,f)),f&&H&2048&&If(_.alternate,_);break;case 24:Qa(m,_,A,D,f),f&&H&2048&&jf(_.alternate,_);break;default:Qa(m,_,A,D,f)}s=s.sibling}}function bo(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,o=s,f=o.flags;switch(o.tag){case 22:bo(a,o),f&2048&&If(o.alternate,o);break;case 24:bo(a,o),f&2048&&jf(o.alternate,o);break;default:bo(a,o)}s=s.sibling}}var Ao=8192;function Ya(t,s,a){if(t.subtreeFlags&Ao)for(t=t.child;t!==null;)xv(t,s,a),t=t.sibling}function xv(t,s,a){switch(t.tag){case 26:Ya(t,s,a),t.flags&Ao&&t.memoizedState!==null&&$S(a,as,t.memoizedState,t.memoizedProps);break;case 5:Ya(t,s,a);break;case 3:case 4:var o=as;as=Bu(t.stateNode.containerInfo),Ya(t,s,a),as=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Ao,Ao=16777216,Ya(t,s,a),Ao=o):Ya(t,s,a));break;default:Ya(t,s,a)}}function Nv(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function So(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];qt=o,Cv(o,t)}Nv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Rv(t),t=t.sibling}function Rv(t){switch(t.tag){case 0:case 11:case 15:So(t),t.flags&2048&&qi(9,t,t.return);break;case 3:So(t);break;case 12:So(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Ru(t)):So(t);break;default:So(t)}}function Ru(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];qt=o,Cv(o,t)}Nv(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:qi(8,s,s.return),Ru(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Ru(s));break;default:Ru(s)}t=t.sibling}}function Cv(t,s){for(;qt!==null;){var a=qt;switch(a.tag){case 0:case 11:case 15:qi(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ao(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,qt=o;else e:for(a=t;qt!==null;){o=qt;var f=o.sibling,m=o.return;if(_v(o),o===a){qt=null;break e}if(f!==null){f.return=m,qt=f;break e}qt=m}}}var uS={getCacheForType:function(t){var s=Kt(Nt),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return Kt(Nt).controller.signal}},hS=typeof WeakMap=="function"?WeakMap:Map,Qe=0,nt=null,De=null,Me=0,$e=0,Rn=null,Fi=!1,Ka=!1,Df=!1,ai=0,pt=0,Hi=0,Jr=0,Of=0,Cn=0,$a=0,wo=null,pn=null,Mf=!1,Cu=0,Iv=0,Iu=1/0,ju=null,Gi=null,Pt=0,Qi=null,Xa=null,li=0,Vf=0,Pf=null,jv=null,xo=0,kf=null;function In(){return(Qe&2)!==0&&Me!==0?Me&-Me:X.T!==null?Ff():Dc()}function Dv(){if(Cn===0)if((Me&536870912)===0||Ue){var t=wr;wr<<=1,(wr&3932160)===0&&(wr=262144),Cn=t}else Cn=536870912;return t=xn.current,t!==null&&(t.flags|=32),Cn}function gn(t,s,a){(t===nt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(Wa(t,0),Yi(t,Me,Cn,!1)),xr(t,a),((Qe&2)===0||t!==nt)&&(t===nt&&((Qe&2)===0&&(Jr|=a),pt===4&&Yi(t,Me,Cn,!1)),Os(t))}function Ov(t,s,a){if((Qe&6)!==0)throw Error(r(327));var o=!a&&(s&127)===0&&(s&t.expiredLanes)===0||Wn(t,s),f=o?mS(t,s):Uf(t,s,!0),m=o;do{if(f===0){Ka&&!o&&Yi(t,s,0,!1);break}else{if(a=t.current.alternate,m&&!dS(a)){f=Uf(t,s,!1),m=!1;continue}if(f===2){if(m=s,t.errorRecoveryDisabledLanes&m)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var A=t;f=wo;var D=A.current.memoizedState.isDehydrated;if(D&&(Wa(A,_).flags|=256),_=Uf(A,_,!1),_!==2){if(Df&&!D){A.errorRecoveryDisabledLanes|=m,Jr|=m,f=4;break e}m=pn,pn=f,m!==null&&(pn===null?pn=m:pn.push.apply(pn,m))}f=_}if(m=!1,f!==2)continue}}if(f===1){Wa(t,0),Yi(t,s,0,!0);break}e:{switch(o=t,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Yi(o,s,Cn,!Fi);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Cu+300-an(),10<f)){if(Yi(o,s,Cn,!Fi),ps(o,0,!0)!==0)break e;li=s,o.timeoutHandle=u_(Mv.bind(null,o,a,pn,ju,Mf,s,Cn,Jr,$a,Fi,m,"Throttled",-0,0),f);break e}Mv(o,a,pn,ju,Mf,s,Cn,Jr,$a,Fi,m,null,-0,0)}}break}while(!0);Os(t)}function Mv(t,s,a,o,f,m,_,A,D,H,W,ne,G,$){if(t.timeoutHandle=-1,ne=s.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:es},xv(s,m,ne);var fe=(m&62914560)===m?Cu-an():(m&4194048)===m?Iv-an():0;if(fe=XS(ne,fe),fe!==null){li=m,t.cancelPendingCommit=fe(qv.bind(null,t,s,m,a,o,f,_,A,D,W,ne,null,G,$)),Yi(t,m,_,!H);return}}qv(t,s,m,a,o,f,_,A,D)}function dS(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var f=a[o],m=f.getSnapshot;f=f.value;try{if(!Sn(m(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Yi(t,s,a,o){s&=~Of,s&=~Jr,t.suspendedLanes|=s,t.pingedLanes&=~s,o&&(t.warmLanes|=s),o=t.expirationTimes;for(var f=s;0<f;){var m=31-yt(f),_=1<<m;o[m]=-1,f&=~_}a!==0&&Nr(t,a,s)}function Du(){return(Qe&6)===0?(No(0),!1):!0}function Lf(){if(De!==null){if($e===0)var t=De.return;else t=De,Xs=Fr=null,Zd(t),Ba=null,oo=0,t=De;for(;t!==null;)hv(t.alternate,t),t=t.return;De=null}}function Wa(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,DS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),li=0,Lf(),nt=t,De=a=Ks(t.current,null),Me=s,$e=0,Rn=null,Fi=!1,Ka=Wn(t,s),Df=!1,$a=Cn=Of=Jr=Hi=pt=0,pn=wo=null,Mf=!1,(s&8)!==0&&(s|=s&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=s;0<o;){var f=31-yt(o),m=1<<f;s|=t[f],o&=~m}return ai=s,Zc(),a}function Vv(t,s){Re=null,X.H=yo,s===za||s===lu?(s=Wg(),$e=3):s===Bd?(s=Wg(),$e=4):$e=s===gf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Rn=s,De===null&&(pt=1,Tu(t,Un(s,t.current)))}function Pv(){var t=xn.current;return t===null?!0:(Me&4194048)===Me?Fn===null:(Me&62914560)===Me||(Me&536870912)!==0?t===Fn:!1}function kv(){var t=X.H;return X.H=yo,t===null?yo:t}function Lv(){var t=X.A;return X.A=uS,t}function Ou(){pt=4,Fi||(Me&4194048)!==Me&&xn.current!==null||(Ka=!0),(Hi&134217727)===0&&(Jr&134217727)===0||nt===null||Yi(nt,Me,Cn,!1)}function Uf(t,s,a){var o=Qe;Qe|=2;var f=kv(),m=Lv();(nt!==t||Me!==s)&&(ju=null,Wa(t,s)),s=!1;var _=pt;e:do try{if($e!==0&&De!==null){var A=De,D=Rn;switch($e){case 8:Lf(),_=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(s=!0);var H=$e;if($e=0,Rn=null,Ja(t,A,D,H),a&&Ka){_=0;break e}break;default:H=$e,$e=0,Rn=null,Ja(t,A,D,H)}}fS(),_=pt;break}catch(W){Vv(t,W)}while(!0);return s&&t.shellSuspendCounter++,Xs=Fr=null,Qe=o,X.H=f,X.A=m,De===null&&(nt=null,Me=0,Zc()),_}function fS(){for(;De!==null;)Uv(De)}function mS(t,s){var a=Qe;Qe|=2;var o=kv(),f=Lv();nt!==t||Me!==s?(ju=null,Iu=an()+500,Wa(t,s)):Ka=Wn(t,s);e:do try{if($e!==0&&De!==null){s=De;var m=Rn;t:switch($e){case 1:$e=0,Rn=null,Ja(t,s,m,1);break;case 2:case 9:if($g(m)){$e=0,Rn=null,zv(s);break}s=function(){$e!==2&&$e!==9||nt!==t||($e=7),Os(t)},m.then(s,s);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:$g(m)?($e=0,Rn=null,zv(s)):($e=0,Rn=null,Ja(t,s,m,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var A=De;if(_?w_(_):A.stateNode.complete){$e=0,Rn=null;var D=A.sibling;if(D!==null)De=D;else{var H=A.return;H!==null?(De=H,Mu(H)):De=null}break t}}$e=0,Rn=null,Ja(t,s,m,5);break;case 6:$e=0,Rn=null,Ja(t,s,m,6);break;case 8:Lf(),pt=6;break e;default:throw Error(r(462))}}pS();break}catch(W){Vv(t,W)}while(!0);return Xs=Fr=null,X.H=o,X.A=f,Qe=a,De!==null?0:(nt=null,Me=0,Zc(),pt)}function pS(){for(;De!==null&&!md();)Uv(De)}function Uv(t){var s=cv(t.alternate,t,ai);t.memoizedProps=t.pendingProps,s===null?Mu(t):De=s}function zv(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=sv(a,s,s.pendingProps,s.type,void 0,Me);break;case 11:s=sv(a,s,s.pendingProps,s.type.render,s.ref,Me);break;case 5:Zd(s);default:hv(a,s),s=De=Lg(s,ai),s=cv(a,s,ai)}t.memoizedProps=t.pendingProps,s===null?Mu(t):De=s}function Ja(t,s,a,o){Xs=Fr=null,Zd(s),Ba=null,oo=0;var f=s.return;try{if(sS(t,f,s,a,Me)){pt=1,Tu(t,Un(a,t.current)),De=null;return}}catch(m){if(f!==null)throw De=f,m;pt=1,Tu(t,Un(a,t.current)),De=null;return}s.flags&32768?(Ue||o===1?t=!0:Ka||(Me&536870912)!==0?t=!1:(Fi=t=!0,(o===2||o===9||o===3||o===6)&&(o=xn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Bv(s,t)):Mu(s)}function Mu(t){var s=t;do{if((s.flags&32768)!==0){Bv(s,Fi);return}t=s.return;var a=aS(s.alternate,s,ai);if(a!==null){De=a;return}if(s=s.sibling,s!==null){De=s;return}De=s=t}while(s!==null);pt===0&&(pt=5)}function Bv(t,s){do{var a=lS(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);pt=6,De=null}function qv(t,s,a,o,f,m,_,A,D){t.cancelPendingCommit=null;do Vu();while(Pt!==0);if((Qe&6)!==0)throw Error(r(327));if(s!==null){if(s===t.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=xd,yd(t,a,m,_,A,D),t===nt&&(De=nt=null,Me=0),Xa=s,Qi=t,li=a,Vf=m,Pf=f,jv=o,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,_S(Ai,function(){return Yv(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||o){o=X.T,X.T=null,f=ae.p,ae.p=2,_=Qe,Qe|=4;try{oS(t,s,a)}finally{Qe=_,ae.p=f,X.T=o}}Pt=1,Fv(),Hv(),Gv()}}function Fv(){if(Pt===1){Pt=0;var t=Qi,s=Xa,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var o=ae.p;ae.p=2;var f=Qe;Qe|=4;try{Av(s,t);var m=Wf,_=Cg(t.containerInfo),A=m.focusedElem,D=m.selectionRange;if(_!==A&&A&&A.ownerDocument&&Rg(A.ownerDocument.documentElement,A)){if(D!==null&&Td(A)){var H=D.start,W=D.end;if(W===void 0&&(W=H),"selectionStart"in A)A.selectionStart=H,A.selectionEnd=Math.min(W,A.value.length);else{var ne=A.ownerDocument||document,G=ne&&ne.defaultView||window;if(G.getSelection){var $=G.getSelection(),fe=A.textContent.length,_e=Math.min(D.start,fe),tt=D.end===void 0?_e:Math.min(D.end,fe);!$.extend&&_e>tt&&(_=tt,tt=_e,_e=_);var U=Ng(A,_e),k=Ng(A,tt);if(U&&k&&($.rangeCount!==1||$.anchorNode!==U.node||$.anchorOffset!==U.offset||$.focusNode!==k.node||$.focusOffset!==k.offset)){var F=ne.createRange();F.setStart(U.node,U.offset),$.removeAllRanges(),_e>tt?($.addRange(F),$.extend(k.node,k.offset)):(F.setEnd(k.node,k.offset),$.addRange(F))}}}}for(ne=[],$=A;$=$.parentNode;)$.nodeType===1&&ne.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ne.length;A++){var Z=ne[A];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Yu=!!Xf,Wf=Xf=null}finally{Qe=f,ae.p=o,X.T=a}}t.current=s,Pt=2}}function Hv(){if(Pt===2){Pt=0;var t=Qi,s=Xa,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var o=ae.p;ae.p=2;var f=Qe;Qe|=4;try{vv(t,s.alternate,s)}finally{Qe=f,ae.p=o,X.T=a}}Pt=3}}function Gv(){if(Pt===4||Pt===3){Pt=0,wc();var t=Qi,s=Xa,a=li,o=jv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Pt=5:(Pt=0,Xa=Qi=null,Qv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Gi=null),Hs(a),s=s.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Xn,s,void 0,(s.current.flags&128)===128)}catch{}if(o!==null){s=X.T,f=ae.p,ae.p=2,X.T=null;try{for(var m=t.onRecoverableError,_=0;_<o.length;_++){var A=o[_];m(A.value,{componentStack:A.stack})}}finally{X.T=s,ae.p=f}}(li&3)!==0&&Vu(),Os(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===kf?xo++:(xo=0,kf=t):xo=0,No(0)}}function Qv(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,ao(s)))}function Vu(){return Fv(),Hv(),Gv(),Yv()}function Yv(){if(Pt!==5)return!1;var t=Qi,s=Vf;Vf=0;var a=Hs(li),o=X.T,f=ae.p;try{ae.p=32>a?32:a,X.T=null,a=Pf,Pf=null;var m=Qi,_=li;if(Pt=0,Xa=Qi=null,li=0,(Qe&6)!==0)throw Error(r(331));var A=Qe;if(Qe|=4,Rv(m.current),wv(m,m.current,_,a),Qe=A,No(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Xn,m)}catch{}return!0}finally{ae.p=f,X.T=o,Qv(t,s)}}function Kv(t,s,a){s=Un(a,s),s=pf(t.stateNode,s,2),t=Ui(t,s,2),t!==null&&(xr(t,2),Os(t))}function Xe(t,s,a){if(t.tag===3)Kv(t,t,a);else for(;s!==null;){if(s.tag===3){Kv(s,t,a);break}else if(s.tag===1){var o=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Gi===null||!Gi.has(o))){t=Un(a,t),a=$y(2),o=Ui(s,a,2),o!==null&&(Xy(a,o,s,t),xr(o,2),Os(o));break}}s=s.return}}function zf(t,s,a){var o=t.pingCache;if(o===null){o=t.pingCache=new hS;var f=new Set;o.set(s,f)}else f=o.get(s),f===void 0&&(f=new Set,o.set(s,f));f.has(a)||(Df=!0,f.add(a),t=gS.bind(null,t,s,a),s.then(t,t))}function gS(t,s,a){var o=t.pingCache;o!==null&&o.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Me&a)===a&&(pt===4||pt===3&&(Me&62914560)===Me&&300>an()-Cu?(Qe&2)===0&&Wa(t,0):Of|=a,$a===Me&&($a=0)),Os(t)}function $v(t,s){s===0&&(s=jc()),t=zr(t,s),t!==null&&(xr(t,s),Os(t))}function yS(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),$v(t,a)}function vS(t,s){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(s),$v(t,a)}function _S(t,s){return Vt(t,s)}var Pu=null,Za=null,Bf=!1,ku=!1,qf=!1,Ki=0;function Os(t){t!==Za&&t.next===null&&(Za===null?Pu=Za=t:Za=Za.next=t),ku=!0,Bf||(Bf=!0,TS())}function No(t,s){if(!qf&&ku){qf=!0;do for(var a=!1,o=Pu;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var m=0;else{var _=o.suspendedLanes,A=o.pingedLanes;m=(1<<31-yt(42|t)+1)-1,m&=f&~(_&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,Zv(o,m))}else m=Me,m=ps(o,o===nt?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||Wn(o,m)||(a=!0,Zv(o,m));o=o.next}while(a);qf=!1}}function ES(){Xv()}function Xv(){ku=Bf=!1;var t=0;Ki!==0&&jS()&&(t=Ki);for(var s=an(),a=null,o=Pu;o!==null;){var f=o.next,m=Wv(o,s);m===0?(o.next=null,a===null?Pu=f:a.next=f,f===null&&(Za=a)):(a=o,(t!==0||(m&3)!==0)&&(ku=!0)),o=f}Pt!==0&&Pt!==5||No(t),Ki!==0&&(Ki=0)}function Wv(t,s){for(var a=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var _=31-yt(m),A=1<<_,D=f[_];D===-1?((A&a)===0||(A&o)!==0)&&(f[_]=gd(A,s)):D<=s&&(t.expiredLanes|=A),m&=~A}if(s=nt,a=Me,a=ps(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===s&&($e===2||$e===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&bi(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Wn(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(o!==null&&bi(o),Hs(a)){case 2:case 8:a=Pl;break;case 32:a=Ai;break;case 268435456:a=xc;break;default:a=Ai}return o=Jv.bind(null,t),a=Vt(a,o),t.callbackPriority=s,t.callbackNode=a,s}return o!==null&&o!==null&&bi(o),t.callbackPriority=2,t.callbackNode=null,2}function Jv(t,s){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Vu()&&t.callbackNode!==a)return null;var o=Me;return o=ps(t,t===nt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Ov(t,o,s),Wv(t,an()),t.callbackNode!=null&&t.callbackNode===a?Jv.bind(null,t):null)}function Zv(t,s){if(Vu())return null;Ov(t,s,!0)}function TS(){OS(function(){(Qe&6)!==0?Vt(Vl,ES):Xv()})}function Ff(){if(Ki===0){var t=La;t===0&&(t=fs,fs<<=1,(fs&261888)===0&&(fs=256)),Ki=t}return Ki}function e_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Aa(""+t)}function t_(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function bS(t,s,a,o,f){if(s==="submit"&&a&&a.stateNode===f){var m=e_((f[zt]||null).action),_=o.submitter;_&&(s=(s=_[zt]||null)?e_(s.formAction):_.getAttribute("formAction"),s!==null&&(m=s,_=null));var A=new xs("action","action",null,o,f);t.push({event:A,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ki!==0){var D=_?t_(f,_):new FormData(f);cf(a,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(A.preventDefault(),D=_?t_(f,_):new FormData(f),cf(a,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var Hf=0;Hf<wd.length;Hf++){var Gf=wd[Hf],AS=Gf.toLowerCase(),SS=Gf[0].toUpperCase()+Gf.slice(1);rs(AS,"on"+SS)}rs(Dg,"onAnimationEnd"),rs(Og,"onAnimationIteration"),rs(Mg,"onAnimationStart"),rs("dblclick","onDoubleClick"),rs("focusin","onFocus"),rs("focusout","onBlur"),rs(zA,"onTransitionRun"),rs(BA,"onTransitionStart"),rs(qA,"onTransitionCancel"),rs(Vg,"onTransitionEnd"),bs("onMouseEnter",["mouseout","mouseover"]),bs("onMouseLeave",["mouseout","mouseover"]),bs("onPointerEnter",["pointerout","pointerover"]),bs("onPointerLeave",["pointerout","pointerover"]),Ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ts("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ro));function n_(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],f=o.event;o=o.listeners;e:{var m=void 0;if(s)for(var _=o.length-1;0<=_;_--){var A=o[_],D=A.instance,H=A.currentTarget;if(A=A.listener,D!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=H;try{m(f)}catch(W){Jc(W)}f.currentTarget=null,m=D}else for(_=0;_<o.length;_++){if(A=o[_],D=A.instance,H=A.currentTarget,A=A.listener,D!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=H;try{m(f)}catch(W){Jc(W)}f.currentTarget=null,m=D}}}}function Oe(t,s){var a=s[va];a===void 0&&(a=s[va]=new Set);var o=t+"__bubble";a.has(o)||(s_(s,t,2,!1),a.add(o))}function Qf(t,s,a){var o=0;s&&(o|=4),s_(a,t,o,s)}var Lu="_reactListening"+Math.random().toString(36).slice(2);function Yf(t){if(!t[Lu]){t[Lu]=!0,Ul.forEach(function(a){a!=="selectionchange"&&(wS.has(a)||Qf(a,!1,t),Qf(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Lu]||(s[Lu]=!0,Qf("selectionchange",!1,s))}}function s_(t,s,a,o){switch(D_(s)){case 2:var f=ZS;break;case 8:f=ew;break;default:f=om}a=f.bind(null,s,a,t),f=void 0,!Dr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(s,a,{capture:!0,passive:f}):t.addEventListener(s,a,!0):f!==void 0?t.addEventListener(s,a,{passive:f}):t.addEventListener(s,a,!1)}function Kf(t,s,a,o,f){var m=o;if((s&1)===0&&(s&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var A=o.stateNode.containerInfo;if(A===f)break;if(_===4)for(_=o.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;A!==null;){if(_=_s(A),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){o=m=_;continue e}A=A.parentNode}}o=o.return}Ci(function(){var H=m,W=Vn(a),ne=[];e:{var G=Pg.get(t);if(G!==void 0){var $=xs,fe=t;switch(t){case"keypress":if(Mr(a)===0)break e;case"keydown":case"keyup":$=$c;break;case"focusin":fe="focus",$=Pr;break;case"focusout":fe="blur",$=Pr;break;case"beforeblur":case"afterblur":$=Pr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=zc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=v;break;case Dg:case Og:case Mg:$=qc;break;case Vg:$=w;break;case"scroll":case"scrollend":$=Wl;break;case"wheel":$=Y;break;case"copy":case"cut":case"paste":$=Fc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Ys;break;case"toggle":case"beforetoggle":$=Ne}var _e=(s&4)!==0,tt=!_e&&(t==="scroll"||t==="scrollend"),U=_e?G!==null?G+"Capture":null:G;_e=[];for(var k=H,F;k!==null;){var Z=k;if(F=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||F===null||U===null||(Z=ts(k,U),Z!=null&&_e.push(Co(k,Z,F))),tt)break;k=k.return}0<_e.length&&(G=new $(G,fe,null,a,W),ne.push({event:G,listeners:_e}))}}if((s&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",G&&a!==Kl&&(fe=a.relatedTarget||a.fromElement)&&(_s(fe)||fe[ys]))break e;if(($||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,$?(fe=a.relatedTarget||a.toElement,$=H,fe=fe?_s(fe):null,fe!==null&&(tt=c(fe),_e=fe.tag,fe!==tt||_e!==5&&_e!==27&&_e!==6)&&(fe=null)):($=null,fe=H),$!==fe)){if(_e=Jl,Z="onMouseLeave",U="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Ys,Z="onPointerLeave",U="onPointerEnter",k="pointer"),tt=$==null?G:bn($),F=fe==null?G:bn(fe),G=new _e(Z,k+"leave",$,a,W),G.target=tt,G.relatedTarget=F,Z=null,_s(W)===H&&(_e=new _e(U,k+"enter",fe,a,W),_e.target=F,_e.relatedTarget=tt,Z=_e),tt=Z,$&&fe)t:{for(_e=xS,U=$,k=fe,F=0,Z=U;Z;Z=_e(Z))F++;Z=0;for(var ge=k;ge;ge=_e(ge))Z++;for(;0<F-Z;)U=_e(U),F--;for(;0<Z-F;)k=_e(k),Z--;for(;F--;){if(U===k||k!==null&&U===k.alternate){_e=U;break t}U=_e(U),k=_e(k)}_e=null}else _e=null;$!==null&&i_(ne,G,$,_e,!1),fe!==null&&tt!==null&&i_(ne,tt,fe,_e,!0)}}e:{if(G=H?bn(H):window,$=G.nodeName&&G.nodeName.toLowerCase(),$==="select"||$==="input"&&G.type==="file")var qe=Tg;else if(_g(G))if(bg)qe=kA;else{qe=VA;var me=MA}else $=G.nodeName,!$||$.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&ba(H.elementType)&&(qe=Tg):qe=PA;if(qe&&(qe=qe(t,H))){Eg(ne,qe,a,W);break e}me&&me(t,G,H),t==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&Gl(G,"number",G.value)}switch(me=H?bn(H):window,t){case"focusin":(_g(me)||me.contentEditable==="true")&&(Ia=me,bd=H,so=null);break;case"focusout":so=bd=Ia=null;break;case"mousedown":Ad=!0;break;case"contextmenu":case"mouseup":case"dragend":Ad=!1,Ig(ne,a,W);break;case"selectionchange":if(UA)break;case"keydown":case"keyup":Ig(ne,a,W)}var Ie;if(Ge)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Ca?kr(t,a)&&(Ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ve="onCompositionStart");Ve&&(Cs&&a.locale!=="ko"&&(Ca||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Ca&&(Ie=Xl()):(ws=W,$l="value"in ws?ws.value:ws.textContent,Ca=!0)),me=Uu(H,Ve),0<me.length&&(Ve=new Rs(Ve,t,null,a,W),ne.push({event:Ve,listeners:me}),Ie?Ve.data=Ie:(Ie=Ra(a),Ie!==null&&(Ve.data=Ie)))),(Ie=kn?IA(t,a):jA(t,a))&&(Ve=Uu(H,"onBeforeInput"),0<Ve.length&&(me=new Rs("onBeforeInput","beforeinput",null,a,W),ne.push({event:me,listeners:Ve}),me.data=Ie)),bS(ne,t,H,a,W)}n_(ne,s)})}function Co(t,s,a){return{instance:t,listener:s,currentTarget:a}}function Uu(t,s){for(var a=s+"Capture",o=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ts(t,a),f!=null&&o.unshift(Co(t,f,m)),f=ts(t,s),f!=null&&o.push(Co(t,f,m))),t.tag===3)return o;t=t.return}return[]}function xS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function i_(t,s,a,o,f){for(var m=s._reactName,_=[];a!==null&&a!==o;){var A=a,D=A.alternate,H=A.stateNode;if(A=A.tag,D!==null&&D===o)break;A!==5&&A!==26&&A!==27||H===null||(D=H,f?(H=ts(a,m),H!=null&&_.unshift(Co(a,H,D))):f||(H=ts(a,m),H!=null&&_.push(Co(a,H,D)))),a=a.return}_.length!==0&&t.push({event:s,listeners:_})}var NS=/\r\n?/g,RS=/\u0000|\uFFFD/g;function r_(t){return(typeof t=="string"?t:""+t).replace(NS,`
`).replace(RS,"")}function a_(t,s){return s=r_(s),r_(t)===s}function et(t,s,a,o,f,m){switch(a){case"children":typeof o=="string"?s==="body"||s==="textarea"&&o===""||hn(t,o):(typeof o=="number"||typeof o=="bigint")&&s!=="body"&&hn(t,""+o);break;case"className":An(t,"class",o);break;case"tabIndex":An(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":An(t,a,o);break;case"style":Yl(t,o,m);break;case"data":if(s!=="object"){An(t,"data",o);break}case"src":case"href":if(o===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Aa(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&et(t,s,"name",f.name,f,null),et(t,s,"formEncType",f.formEncType,f,null),et(t,s,"formMethod",f.formMethod,f,null),et(t,s,"formTarget",f.formTarget,f,null)):(et(t,s,"encType",f.encType,f,null),et(t,s,"method",f.method,f,null),et(t,s,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Aa(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=es);break;case"onScroll":o!=null&&Oe("scroll",t);break;case"onScrollEnd":o!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Aa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),Ea(t,"popover",o);break;case"xlinkActuate":xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":xt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":xt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":xt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":xt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ea(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Uc.get(a)||a,Ea(t,a,o))}}function $f(t,s,a,o,f,m){switch(a){case"style":Yl(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?hn(t,o):(typeof o=="number"||typeof o=="bigint")&&hn(t,""+o);break;case"onScroll":o!=null&&Oe("scroll",t);break;case"onScrollEnd":o!=null&&Oe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=es);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),m=t[zt]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(s,m,f),typeof o=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,o,f);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Ea(t,a,o)}}}function Xt(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var o=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var _=a[m];if(_!=null)switch(m){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:et(t,s,m,_,a,null)}}f&&et(t,s,"srcSet",a.srcSet,a,null),o&&et(t,s,"src",a.src,a,null);return;case"input":Oe("invalid",t);var A=m=_=f=null,D=null,H=null;for(o in a)if(a.hasOwnProperty(o)){var W=a[o];if(W!=null)switch(o){case"name":f=W;break;case"type":_=W;break;case"checked":D=W;break;case"defaultChecked":H=W;break;case"value":m=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,s));break;default:et(t,s,o,W,a,null)}}Pc(t,m,A,D,H,_,f,!1);return;case"select":Oe("invalid",t),o=_=m=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":m=A;break;case"defaultValue":_=A;break;case"multiple":o=A;default:et(t,s,f,A,a,null)}s=m,a=_,t.multiple=!!o,s!=null?wi(t,!!o,s,!1):a!=null&&wi(t,!!o,a,!0);return;case"textarea":Oe("invalid",t),m=f=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(A=a[_],A!=null))switch(_){case"value":o=A;break;case"defaultValue":f=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:et(t,s,_,A,a,null)}xi(t,o,f,m);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(o=a[D],o!=null))switch(D){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:et(t,s,D,o,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(o=0;o<Ro.length;o++)Oe(Ro[o],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(o=a[H],o!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:et(t,s,H,o,a,null)}return;default:if(ba(s)){for(W in a)a.hasOwnProperty(W)&&(o=a[W],o!==void 0&&$f(t,s,W,o,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(o=a[A],o!=null&&et(t,s,A,o,a,null))}function CS(t,s,a,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,A=null,D=null,H=null,W=null;for($ in a){var ne=a[$];if(a.hasOwnProperty($)&&ne!=null)switch($){case"checked":break;case"value":break;case"defaultValue":D=ne;default:o.hasOwnProperty($)||et(t,s,$,null,o,ne)}}for(var G in o){var $=o[G];if(ne=a[G],o.hasOwnProperty(G)&&($!=null||ne!=null))switch(G){case"type":m=$;break;case"name":f=$;break;case"checked":H=$;break;case"defaultChecked":W=$;break;case"value":_=$;break;case"defaultValue":A=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:$!==ne&&et(t,s,G,$,o,ne)}}Ta(t,_,A,D,H,W,m,f);return;case"select":$=_=A=G=null;for(m in a)if(D=a[m],a.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":$=D;default:o.hasOwnProperty(m)||et(t,s,m,null,o,D)}for(f in o)if(m=o[f],D=a[f],o.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":G=m;break;case"defaultValue":A=m;break;case"multiple":_=m;default:m!==D&&et(t,s,f,m,o,D)}s=A,a=_,o=$,G!=null?wi(t,!!a,G,!1):!!o!=!!a&&(s!=null?wi(t,!!a,s,!0):wi(t,!!a,a?[]:"",!1));return;case"textarea":$=G=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!o.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:et(t,s,A,null,o,f)}for(_ in o)if(f=o[_],m=a[_],o.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":G=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&et(t,s,_,f,o,m)}kc(t,G,$);return;case"option":for(var fe in a)if(G=a[fe],a.hasOwnProperty(fe)&&G!=null&&!o.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:et(t,s,fe,null,o,G)}for(D in o)if(G=o[D],$=a[D],o.hasOwnProperty(D)&&G!==$&&(G!=null||$!=null))switch(D){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:et(t,s,D,G,o,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)G=a[_e],a.hasOwnProperty(_e)&&G!=null&&!o.hasOwnProperty(_e)&&et(t,s,_e,null,o,G);for(H in o)if(G=o[H],$=a[H],o.hasOwnProperty(H)&&G!==$&&(G!=null||$!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:et(t,s,H,G,o,$)}return;default:if(ba(s)){for(var tt in a)G=a[tt],a.hasOwnProperty(tt)&&G!==void 0&&!o.hasOwnProperty(tt)&&$f(t,s,tt,void 0,o,G);for(W in o)G=o[W],$=a[W],!o.hasOwnProperty(W)||G===$||G===void 0&&$===void 0||$f(t,s,W,G,o,$);return}}for(var U in a)G=a[U],a.hasOwnProperty(U)&&G!=null&&!o.hasOwnProperty(U)&&et(t,s,U,null,o,G);for(ne in o)G=o[ne],$=a[ne],!o.hasOwnProperty(ne)||G===$||G==null&&$==null||et(t,s,ne,G,o,$)}function l_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function IS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var f=a[o],m=f.transferSize,_=f.initiatorType,A=f.duration;if(m&&A&&l_(_)){for(_=0,A=f.responseEnd,o+=1;o<a.length;o++){var D=a[o],H=D.startTime;if(H>A)break;var W=D.transferSize,ne=D.initiatorType;W&&l_(ne)&&(D=D.responseEnd,_+=W*(D<A?1:(A-H)/(D-H)))}if(--o,s+=8*(m+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Xf=null,Wf=null;function zu(t){return t.nodeType===9?t:t.ownerDocument}function o_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function c_(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Jf(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Zf=null;function jS(){var t=window.event;return t&&t.type==="popstate"?t===Zf?!1:(Zf=t,!0):(Zf=null,!1)}var u_=typeof setTimeout=="function"?setTimeout:void 0,DS=typeof clearTimeout=="function"?clearTimeout:void 0,h_=typeof Promise=="function"?Promise:void 0,OS=typeof queueMicrotask=="function"?queueMicrotask:typeof h_<"u"?function(t){return h_.resolve(null).then(t).catch(MS)}:u_;function MS(t){setTimeout(function(){throw t})}function $i(t){return t==="head"}function d_(t,s){var a=s,o=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(f),sl(s);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Io(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Io(a);for(var m=a.firstChild;m;){var _=m.nextSibling,A=m.nodeName;m[vs]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=_}}else a==="body"&&Io(t.ownerDocument.body);a=f}while(a);sl(s)}function f_(t,s){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function em(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":em(a),_a(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function VS(t,s,a,o){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[vs])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function PS(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Hn(t.nextSibling),t===null))return null;return t}function m_(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Hn(t.nextSibling),t===null))return null;return t}function tm(t){return t.data==="$?"||t.data==="$~"}function nm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function kS(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var o=function(){s(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Hn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var sm=null;function p_(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return Hn(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function g_(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function y_(t,s,a){switch(s=zu(a),t){case"html":if(t=s.documentElement,!t)throw Error(r(452));return t;case"head":if(t=s.head,!t)throw Error(r(453));return t;case"body":if(t=s.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Io(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);_a(t)}var Gn=new Map,v_=new Set;function Bu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var oi=ae.d;ae.d={f:LS,r:US,D:zS,C:BS,L:qS,m:FS,X:GS,S:HS,M:QS};function LS(){var t=oi.f(),s=Du();return t||s}function US(t){var s=Mn(t);s!==null&&s.tag===5&&s.type==="form"?Vy(s):oi.r(t)}var el=typeof document>"u"?null:document;function __(t,s,a){var o=el;if(o&&typeof s=="string"&&s){var f=un(s);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),v_.has(f)||(v_.add(f),t={rel:t,crossOrigin:a,href:s},o.querySelector(f)===null&&(s=o.createElement("link"),Xt(s,"link",t),wt(s),o.head.appendChild(s)))}}function zS(t){oi.D(t),__("dns-prefetch",t,null)}function BS(t,s){oi.C(t,s),__("preconnect",t,s)}function qS(t,s,a){oi.L(t,s,a);var o=el;if(o&&t&&s){var f='link[rel="preload"][as="'+un(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+un(a.imageSizes)+'"]')):f+='[href="'+un(t)+'"]';var m=f;switch(s){case"style":m=tl(t);break;case"script":m=nl(t)}Gn.has(m)||(t=b({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),Gn.set(m,t),o.querySelector(f)!==null||s==="style"&&o.querySelector(jo(m))||s==="script"&&o.querySelector(Do(m))||(s=o.createElement("link"),Xt(s,"link",t),wt(s),o.head.appendChild(s)))}}function FS(t,s){oi.m(t,s);var a=el;if(a&&t){var o=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+un(o)+'"][href="'+un(t)+'"]',m=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=nl(t)}if(!Gn.has(m)&&(t=b({rel:"modulepreload",href:t},s),Gn.set(m,t),a.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Do(m)))return}o=a.createElement("link"),Xt(o,"link",t),wt(o),a.head.appendChild(o)}}}function HS(t,s,a){oi.S(t,s,a);var o=el;if(o&&t){var f=Es(o).hoistableStyles,m=tl(t);s=s||"default";var _=f.get(m);if(!_){var A={loading:0,preload:null};if(_=o.querySelector(jo(m)))A.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":s},a),(a=Gn.get(m))&&im(t,a);var D=_=o.createElement("link");wt(D),Xt(D,"link",t),D._p=new Promise(function(H,W){D.onload=H,D.onerror=W}),D.addEventListener("load",function(){A.loading|=1}),D.addEventListener("error",function(){A.loading|=2}),A.loading|=4,qu(_,s,o)}_={type:"stylesheet",instance:_,count:1,state:A},f.set(m,_)}}}function GS(t,s){oi.X(t,s);var a=el;if(a&&t){var o=Es(a).hoistableScripts,f=nl(t),m=o.get(f);m||(m=a.querySelector(Do(f)),m||(t=b({src:t,async:!0},s),(s=Gn.get(f))&&rm(t,s),m=a.createElement("script"),wt(m),Xt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function QS(t,s){oi.M(t,s);var a=el;if(a&&t){var o=Es(a).hoistableScripts,f=nl(t),m=o.get(f);m||(m=a.querySelector(Do(f)),m||(t=b({src:t,async:!0,type:"module"},s),(s=Gn.get(f))&&rm(t,s),m=a.createElement("script"),wt(m),Xt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function E_(t,s,a,o){var f=(f=Ce.current)?Bu(f):null;if(!f)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=tl(a.href),a=Es(f).hoistableStyles,o=a.get(s),o||(o={type:"style",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=tl(a.href);var m=Es(f).hoistableStyles,_=m.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,_),(m=f.querySelector(jo(t)))&&!m._p&&(_.instance=m,_.state.loading=5),Gn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gn.set(t,a),m||YS(f,t,a,_.state))),s&&o===null)throw Error(r(528,""));return _}if(s&&o!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=nl(a),a=Es(f).hoistableScripts,o=a.get(s),o||(o={type:"script",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function tl(t){return'href="'+un(t)+'"'}function jo(t){return'link[rel="stylesheet"]['+t+"]"}function T_(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function YS(t,s,a,o){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?o.loading=1:(s=t.createElement("link"),o.preload=s,s.addEventListener("load",function(){return o.loading|=1}),s.addEventListener("error",function(){return o.loading|=2}),Xt(s,"link",a),wt(s),t.head.appendChild(s))}function nl(t){return'[src="'+un(t)+'"]'}function Do(t){return"script[async]"+t}function b_(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var o=t.querySelector('style[data-href~="'+un(a.href)+'"]');if(o)return s.instance=o,wt(o),o;var f=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),wt(o),Xt(o,"style",f),qu(o,a.precedence,t),s.instance=o;case"stylesheet":f=tl(a.href);var m=t.querySelector(jo(f));if(m)return s.state.loading|=4,s.instance=m,wt(m),m;o=T_(a),(f=Gn.get(f))&&im(o,f),m=(t.ownerDocument||t).createElement("link"),wt(m);var _=m;return _._p=new Promise(function(A,D){_.onload=A,_.onerror=D}),Xt(m,"link",o),s.state.loading|=4,qu(m,a.precedence,t),s.instance=m;case"script":return m=nl(a.src),(f=t.querySelector(Do(m)))?(s.instance=f,wt(f),f):(o=a,(f=Gn.get(m))&&(o=b({},a),rm(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),wt(f),Xt(f,"link",o),t.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(o=s.instance,s.state.loading|=4,qu(o,a.precedence,t));return s.instance}function qu(t,s,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,m=f,_=0;_<o.length;_++){var A=o[_];if(A.dataset.precedence===s)m=A;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function im(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function rm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Fu=null;function A_(t,s,a){if(Fu===null){var o=new Map,f=Fu=new Map;f.set(a,o)}else f=Fu,o=f.get(a),o||(o=new Map,f.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var m=a[f];if(!(m[vs]||m[St]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(s)||"";_=t+_;var A=o.get(_);A?A.push(m):o.set(_,[m])}}return o}function S_(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function KS(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function w_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function $S(t,s,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=tl(o.href),m=s.querySelector(jo(f));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=Hu.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=m,wt(m);return}m=s.ownerDocument||s,o=T_(o),(f=Gn.get(f))&&im(o,f),m=m.createElement("link"),wt(m);var _=m;_._p=new Promise(function(A,D){_.onload=A,_.onerror=D}),Xt(m,"link",o),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Hu.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var am=0;function XS(t,s){return t.stylesheets&&t.count===0&&Qu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Qu(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+s);0<t.imgBytes&&am===0&&(am=62500*IS());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Qu(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>am?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function Hu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gu=null;function Qu(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gu=new Map,s.forEach(WS,t),Gu=null,Hu.call(t))}function WS(t,s){if(!(s.state.loading&4)){var a=Gu.get(t);if(a)var o=a.get(null);else{a=new Map,Gu.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}f=s.instance,_=f.getAttribute("data-precedence"),m=a.get(_)||o,m===o&&a.set(null,f),a.set(_,f),this.count++,o=Hu.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),s.state.loading|=4}}var Oo={$$typeof:K,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function JS(t,s,a,o,f,m,_,A,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gs(0),this.hiddenUpdates=gs(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function x_(t,s,a,o,f,m,_,A,D,H,W,ne){return t=new JS(t,s,a,_,D,H,W,ne,A),s=1,m===!0&&(s|=24),m=wn(3,null,null,s),t.current=m,m.stateNode=t,s=Ld(),s.refCount++,t.pooledCache=s,s.refCount++,m.memoizedState={element:o,isDehydrated:a,cache:s},qd(m),t}function N_(t){return t?(t=Oa,t):Oa}function R_(t,s,a,o,f,m){f=N_(f),o.context===null?o.context=f:o.pendingContext=f,o=Li(s),o.payload={element:a},m=m===void 0?null:m,m!==null&&(o.callback=m),a=Ui(t,o,s),a!==null&&(gn(a,t,s),uo(a,t,s))}function C_(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function lm(t,s){C_(t,s),(t=t.alternate)&&C_(t,s)}function I_(t){if(t.tag===13||t.tag===31){var s=zr(t,67108864);s!==null&&gn(s,t,67108864),lm(t,67108864)}}function j_(t){if(t.tag===13||t.tag===31){var s=In();s=Rr(s);var a=zr(t,s);a!==null&&gn(a,t,s),lm(t,s)}}var Yu=!0;function ZS(t,s,a,o){var f=X.T;X.T=null;var m=ae.p;try{ae.p=2,om(t,s,a,o)}finally{ae.p=m,X.T=f}}function ew(t,s,a,o){var f=X.T;X.T=null;var m=ae.p;try{ae.p=8,om(t,s,a,o)}finally{ae.p=m,X.T=f}}function om(t,s,a,o){if(Yu){var f=cm(o);if(f===null)Kf(t,s,o,Ku,a),O_(t,o);else if(nw(f,t,s,a,o))o.stopPropagation();else if(O_(t,o),s&4&&-1<tw.indexOf(t)){for(;f!==null;){var m=Mn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=ms(m.pendingLanes);if(_!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var D=1<<31-yt(_);A.entanglements[1]|=D,_&=~D}Os(m),(Qe&6)===0&&(Iu=an()+500,No(0))}}break;case 31:case 13:A=zr(m,2),A!==null&&gn(A,m,2),Du(),lm(m,2)}if(m=cm(o),m===null&&Kf(t,s,o,Ku,a),m===f)break;f=m}f!==null&&o.stopPropagation()}else Kf(t,s,o,null,a)}}function cm(t){return t=Vn(t),um(t)}var Ku=null;function um(t){if(Ku=null,t=_s(t),t!==null){var s=c(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=d(s),t!==null)return t;t=null}else if(a===31){if(t=p(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Ku=t,null}function D_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sr()){case Vl:return 2;case Pl:return 8;case Ai:case pd:return 32;case xc:return 268435456;default:return 32}default:return 32}}var hm=!1,Xi=null,Wi=null,Ji=null,Mo=new Map,Vo=new Map,Zi=[],tw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O_(t,s){switch(t){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":Mo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vo.delete(s.pointerId)}}function Po(t,s,a,o,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:s,domEventName:a,eventSystemFlags:o,nativeEvent:m,targetContainers:[f]},s!==null&&(s=Mn(s),s!==null&&I_(s)),t):(t.eventSystemFlags|=o,s=t.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),t)}function nw(t,s,a,o,f){switch(s){case"focusin":return Xi=Po(Xi,t,s,a,o,f),!0;case"dragenter":return Wi=Po(Wi,t,s,a,o,f),!0;case"mouseover":return Ji=Po(Ji,t,s,a,o,f),!0;case"pointerover":var m=f.pointerId;return Mo.set(m,Po(Mo.get(m)||null,t,s,a,o,f)),!0;case"gotpointercapture":return m=f.pointerId,Vo.set(m,Po(Vo.get(m)||null,t,s,a,o,f)),!0}return!1}function M_(t){var s=_s(t.target);if(s!==null){var a=c(s);if(a!==null){if(s=a.tag,s===13){if(s=d(a),s!==null){t.blockedOn=s,Jn(t.priority,function(){j_(a)});return}}else if(s===31){if(s=p(a),s!==null){t.blockedOn=s,Jn(t.priority,function(){j_(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $u(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=cm(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Kl=o,a.target.dispatchEvent(o),Kl=null}else return s=Mn(a),s!==null&&I_(s),t.blockedOn=a,!1;s.shift()}return!0}function V_(t,s,a){$u(t)&&a.delete(s)}function sw(){hm=!1,Xi!==null&&$u(Xi)&&(Xi=null),Wi!==null&&$u(Wi)&&(Wi=null),Ji!==null&&$u(Ji)&&(Ji=null),Mo.forEach(V_),Vo.forEach(V_)}function Xu(t,s){t.blockedOn===s&&(t.blockedOn=null,hm||(hm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,sw)))}var Wu=null;function P_(t){Wu!==t&&(Wu=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Wu===t&&(Wu=null);for(var s=0;s<t.length;s+=3){var a=t[s],o=t[s+1],f=t[s+2];if(typeof o!="function"){if(um(o||a)===null)continue;break}var m=Mn(a);m!==null&&(t.splice(s,3),s-=3,cf(m,{pending:!0,data:f,method:a.method,action:o},o,f))}}))}function sl(t){function s(D){return Xu(D,t)}Xi!==null&&Xu(Xi,t),Wi!==null&&Xu(Wi,t),Ji!==null&&Xu(Ji,t),Mo.forEach(s),Vo.forEach(s);for(var a=0;a<Zi.length;a++){var o=Zi[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Zi.length&&(a=Zi[0],a.blockedOn===null);)M_(a),a.blockedOn===null&&Zi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var f=a[o],m=a[o+1],_=f[zt]||null;if(typeof m=="function")_||P_(a);else if(_){var A=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[zt]||null)A=_.formAction;else if(um(f)!==null)continue}else A=_.action;typeof A=="function"?a[o+1]=A:(a.splice(o,3),o-=3),P_(a)}}}function k_(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function dm(t){this._internalRoot=t}Ju.prototype.render=dm.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,o=In();R_(a,o,t,s,null,null)},Ju.prototype.unmount=dm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;R_(t.current,2,null,t,null,null),Du(),s[ys]=null}};function Ju(t){this._internalRoot=t}Ju.prototype.unstable_scheduleHydration=function(t){if(t){var s=Dc();t={blockedOn:null,target:t,priority:s};for(var a=0;a<Zi.length&&s!==0&&s<Zi[a].priority;a++);Zi.splice(a,0,t),a===0&&M_(t)}};var L_=e.version;if(L_!=="19.2.1")throw Error(r(527,L_,"19.2.1"));ae.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(s),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var iw={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zu.isDisabled&&Zu.supportsFiber)try{Xn=Zu.inject(iw),Gt=Zu}catch{}}return Lo.createRoot=function(t,s){if(!l(t))throw Error(r(299));var a=!1,o="",f=Gy,m=Qy,_=Yy;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=x_(t,1,!1,null,null,a,o,null,f,m,_,k_),t[ys]=s.current,Yf(t),new dm(s)},Lo.hydrateRoot=function(t,s,a){if(!l(t))throw Error(r(299));var o=!1,f="",m=Gy,_=Qy,A=Yy,D=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),s=x_(t,1,!0,s,a??null,o,f,D,m,_,A,k_),s.context=N_(null),a=s.current,o=In(),o=Rr(o),f=Li(o),f.callback=null,Ui(a,f,o),a=o,s.current.lanes=a,xr(s,a),Os(s),t[ys]=s.current,Yf(t),new Ju(s)},Lo.version="19.2.1",Lo}var K_;function mw(){if(K_)return pm.exports;K_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),pm.exports=fw(),pm.exports}var pw=mw();var $_="popstate";function gw(i={}){function e(r,l){let{pathname:c,search:d,hash:p}=r.location;return Om("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:Jo(l)}return vw(e,n,null,i)}function ut(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Dn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yw(){return Math.random().toString(36).substring(2,10)}function X_(i,e){return{usr:i.state,key:i.key,idx:e}}function Om(i,e,n=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Tl(e):e,state:n,key:e&&e.key||r||yw()}}function Jo({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Tl(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function vw(i,e,n,r={}){let{window:l=document.defaultView,v5Compat:c=!1}=r,d=l.history,p="POP",g=null,y=T();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function T(){return(d.state||{idx:null}).idx}function b(){p="POP";let z=T(),J=z==null?null:z-y;y=z,g&&g({action:p,location:Q.location,delta:J})}function N(z,J){p="PUSH";let ee=Om(Q.location,z,J);y=T()+1;let K=X_(ee,y),de=Q.createHref(ee);try{d.pushState(K,"",de)}catch(ve){if(ve instanceof DOMException&&ve.name==="DataCloneError")throw ve;l.location.assign(de)}c&&g&&g({action:p,location:Q.location,delta:1})}function I(z,J){p="REPLACE";let ee=Om(Q.location,z,J);y=T();let K=X_(ee,y),de=Q.createHref(ee);d.replaceState(K,"",de),c&&g&&g({action:p,location:Q.location,delta:0})}function O(z){return _w(z)}let Q={get action(){return p},get location(){return i(l,d)},listen(z){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener($_,b),g=z,()=>{l.removeEventListener($_,b),g=null}},createHref(z){return e(l,z)},createURL:O,encodeLocation(z){let J=O(z);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:N,replace:I,go(z){return d.go(z)}};return Q}function _w(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:Jo(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function DT(i,e,n="/"){return Ew(i,e,n,!1)}function Ew(i,e,n,r){let l=typeof e=="string"?Tl(e):e,c=pi(l.pathname||"/",n);if(c==null)return null;let d=OT(i);Tw(d);let p=null;for(let g=0;p==null&&g<d.length;++g){let y=Dw(c);p=Iw(d[g],y,r)}return p}function OT(i,e=[],n=[],r="",l=!1){let c=(d,p,g=l,y)=>{let T={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(r)&&g)return;ut(T.relativePath.startsWith(r),`Absolute route path "${T.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(r.length)}let b=di([r,T.relativePath]),N=n.concat(T);d.children&&d.children.length>0&&(ut(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),OT(d.children,e,N,b,g)),!(d.path==null&&!d.index)&&e.push({path:b,score:Rw(b,d.index),routesMeta:N})};return i.forEach((d,p)=>{if(d.path===""||!d.path?.includes("?"))c(d,p);else for(let g of MT(d.path))c(d,p,!0,g)}),e}function MT(i){let e=i.split("/");if(e.length===0)return[];let[n,...r]=e,l=n.endsWith("?"),c=n.replace(/\?$/,"");if(r.length===0)return l?[c,""]:[c];let d=MT(r.join("/")),p=[];return p.push(...d.map(g=>g===""?c:[c,g].join("/"))),l&&p.push(...d),p.map(g=>i.startsWith("/")&&g===""?"/":g)}function Tw(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Cw(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var bw=/^:[\w-]+$/,Aw=3,Sw=2,ww=1,xw=10,Nw=-2,W_=i=>i==="*";function Rw(i,e){let n=i.split("/"),r=n.length;return n.some(W_)&&(r+=Nw),e&&(r+=Sw),n.filter(l=>!W_(l)).reduce((l,c)=>l+(bw.test(c)?Aw:c===""?ww:xw),r)}function Cw(i,e){return i.length===e.length&&i.slice(0,-1).every((r,l)=>r===e[l])?i[i.length-1]-e[e.length-1]:0}function Iw(i,e,n=!1){let{routesMeta:r}=i,l={},c="/",d=[];for(let p=0;p<r.length;++p){let g=r[p],y=p===r.length-1,T=c==="/"?e:e.slice(c.length)||"/",b=_h({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},T),N=g.route;if(!b&&y&&n&&!r[r.length-1].route.index&&(b=_h({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},T)),!b)return null;Object.assign(l,b.params),d.push({params:l,pathname:di([c,b.pathname]),pathnameBase:kw(di([c,b.pathnameBase])),route:N}),b.pathnameBase!=="/"&&(c=di([c,b.pathnameBase]))}return d}function _h(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,r]=jw(i.path,i.caseSensitive,i.end),l=e.match(n);if(!l)return null;let c=l[0],d=c.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:r.reduce((y,{paramName:T,isOptional:b},N)=>{if(T==="*"){let O=p[N]||"";d=c.slice(0,c.length-O.length).replace(/(.)\/+$/,"$1")}const I=p[N];return b&&!I?y[T]=void 0:y[T]=(I||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:i}}function jw(i,e=!1,n=!0){Dn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,g)=>(r.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),r]}function Dw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function pi(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=i.charAt(n);return r&&r!=="/"?null:i.slice(n)||"/"}var Ow=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mw=i=>Ow.test(i);function Vw(i,e="/"){let{pathname:n,search:r="",hash:l=""}=typeof i=="string"?Tl(i):i,c;if(n)if(Mw(n))c=n;else{if(n.includes("//")){let d=n;n=n.replace(/\/\/+/g,"/"),Dn(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${n}`)}n.startsWith("/")?c=J_(n.substring(1),"/"):c=J_(n,e)}else c=e;return{pathname:c,search:Lw(r),hash:Uw(l)}}function J_(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function _m(i,e,n,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Pw(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hp(i){let e=Pw(i);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function dp(i,e,n,r=!1){let l;typeof i=="string"?l=Tl(i):(l={...i},ut(!l.pathname||!l.pathname.includes("?"),_m("?","pathname","search",l)),ut(!l.pathname||!l.pathname.includes("#"),_m("#","pathname","hash",l)),ut(!l.search||!l.search.includes("#"),_m("#","search","hash",l)));let c=i===""||l.pathname==="",d=c?"/":l.pathname,p;if(d==null)p=n;else{let b=e.length-1;if(!r&&d.startsWith("..")){let N=d.split("/");for(;N[0]==="..";)N.shift(),b-=1;l.pathname=N.join("/")}p=b>=0?e[b]:"/"}let g=Vw(l,p),y=d&&d!=="/"&&d.endsWith("/"),T=(c||d===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||T)&&(g.pathname+="/"),g}var di=i=>i.join("/").replace(/\/\/+/g,"/"),kw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Lw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Uw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function zw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function Bw(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var VT=["POST","PUT","PATCH","DELETE"];new Set(VT);var qw=["GET",...VT];new Set(qw);var bl=M.createContext(null);bl.displayName="DataRouter";var Uh=M.createContext(null);Uh.displayName="DataRouterState";M.createContext(!1);var PT=M.createContext({isTransitioning:!1});PT.displayName="ViewTransition";var Fw=M.createContext(new Map);Fw.displayName="Fetchers";var Hw=M.createContext(null);Hw.displayName="Await";var $n=M.createContext(null);$n.displayName="Navigation";var hc=M.createContext(null);hc.displayName="Location";var hs=M.createContext({outlet:null,matches:[],isDataRoute:!1});hs.displayName="Route";var fp=M.createContext(null);fp.displayName="RouteError";function Gw(i,{relative:e}={}){ut(Al(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=M.useContext($n),{hash:l,pathname:c,search:d}=dc(i,{relative:e}),p=c;return n!=="/"&&(p=c==="/"?n:di([n,c])),r.createHref({pathname:p,search:d,hash:l})}function Al(){return M.useContext(hc)!=null}function qs(){return ut(Al(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(hc).location}var kT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LT(i){M.useContext($n).static||M.useLayoutEffect(i)}function cn(){let{isDataRoute:i}=M.useContext(hs);return i?rx():Qw()}function Qw(){ut(Al(),"useNavigate() may be used only in the context of a <Router> component.");let i=M.useContext(bl),{basename:e,navigator:n}=M.useContext($n),{matches:r}=M.useContext(hs),{pathname:l}=qs(),c=JSON.stringify(hp(r)),d=M.useRef(!1);return LT(()=>{d.current=!0}),M.useCallback((g,y={})=>{if(Dn(d.current,kT),!d.current)return;if(typeof g=="number"){n.go(g);return}let T=dp(g,JSON.parse(c),l,y.relative==="path");i==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:di([e,T.pathname])),(y.replace?n.replace:n.push)(T,y.state,y)},[e,n,c,l,i])}M.createContext(null);function Yw(){let{matches:i}=M.useContext(hs),e=i[i.length-1];return e?e.params:{}}function dc(i,{relative:e}={}){let{matches:n}=M.useContext(hs),{pathname:r}=qs(),l=JSON.stringify(hp(n));return M.useMemo(()=>dp(i,JSON.parse(l),r,e==="path"),[i,l,r,e])}function Kw(i,e){return UT(i,e)}function UT(i,e,n,r,l){ut(Al(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=M.useContext($n),{matches:d}=M.useContext(hs),p=d[d.length-1],g=p?p.params:{},y=p?p.pathname:"/",T=p?p.pathnameBase:"/",b=p&&p.route;{let ee=b&&b.path||"";zT(y,!b||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let N=qs(),I;if(e){let ee=typeof e=="string"?Tl(e):e;ut(T==="/"||ee.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),I=ee}else I=N;let O=I.pathname||"/",Q=O;if(T!=="/"){let ee=T.replace(/^\//,"").split("/");Q="/"+O.replace(/^\//,"").split("/").slice(ee.length).join("/")}let z=DT(i,{pathname:Q});Dn(b||z!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Dn(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=Zw(z&&z.map(ee=>Object.assign({},ee,{params:Object.assign({},g,ee.params),pathname:di([T,c.encodeLocation?c.encodeLocation(ee.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?T:di([T,c.encodeLocation?c.encodeLocation(ee.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathnameBase])})),d,n,r,l);return e&&J?M.createElement(hc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},J):J}function $w(){let i=ix(),e=zw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:c},"ErrorBoundary")," or"," ",M.createElement("code",{style:c},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:l},n):null,d)}var Xw=M.createElement($w,null),Ww=class extends M.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?M.createElement(hs.Provider,{value:this.props.routeContext},M.createElement(fp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Jw({routeContext:i,match:e,children:n}){let r=M.useContext(bl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(hs.Provider,{value:i},n)}function Zw(i,e=[],n=null,r=null,l=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let c=i,d=n?.errors;if(d!=null){let T=c.findIndex(b=>b.route.id&&d?.[b.route.id]!==void 0);ut(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,T+1))}let p=!1,g=-1;if(n)for(let T=0;T<c.length;T++){let b=c[T];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=T),b.route.id){let{loaderData:N,errors:I}=n,O=b.route.loader&&!N.hasOwnProperty(b.route.id)&&(!I||I[b.route.id]===void 0);if(b.route.lazy||O){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let y=n&&r?(T,b)=>{r(T,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Bw(n.matches),errorInfo:b})}:void 0;return c.reduceRight((T,b,N)=>{let I,O=!1,Q=null,z=null;n&&(I=d&&b.route.id?d[b.route.id]:void 0,Q=b.route.errorElement||Xw,p&&(g<0&&N===0?(zT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,z=null):g===N&&(O=!0,z=b.route.hydrateFallbackElement||null)));let J=e.concat(c.slice(0,N+1)),ee=()=>{let K;return I?K=Q:O?K=z:b.route.Component?K=M.createElement(b.route.Component,null):b.route.element?K=b.route.element:K=T,M.createElement(Jw,{match:b,routeContext:{outlet:T,matches:J,isDataRoute:n!=null},children:K})};return n&&(b.route.ErrorBoundary||b.route.errorElement||N===0)?M.createElement(Ww,{location:n.location,revalidation:n.revalidation,component:Q,error:I,children:ee(),routeContext:{outlet:null,matches:J,isDataRoute:!0},onError:y}):ee()},null)}function mp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ex(i){let e=M.useContext(bl);return ut(e,mp(i)),e}function tx(i){let e=M.useContext(Uh);return ut(e,mp(i)),e}function nx(i){let e=M.useContext(hs);return ut(e,mp(i)),e}function pp(i){let e=nx(i),n=e.matches[e.matches.length-1];return ut(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function sx(){return pp("useRouteId")}function ix(){let i=M.useContext(fp),e=tx("useRouteError"),n=pp("useRouteError");return i!==void 0?i:e.errors?.[n]}function rx(){let{router:i}=ex("useNavigate"),e=pp("useNavigate"),n=M.useRef(!1);return LT(()=>{n.current=!0}),M.useCallback(async(l,c={})=>{Dn(n.current,kT),n.current&&(typeof l=="number"?await i.navigate(l):await i.navigate(l,{fromRouteId:e,...c}))},[i,e])}var Z_={};function zT(i,e,n){!e&&!Z_[i]&&(Z_[i]=!0,Dn(!1,n))}M.memo(ax);function ax({routes:i,future:e,state:n,unstable_onError:r}){return UT(i,void 0,n,r,e)}function Mm({to:i,replace:e,state:n,relative:r}){ut(Al(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=M.useContext($n);Dn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=M.useContext(hs),{pathname:d}=qs(),p=cn(),g=dp(i,hp(c),d,r==="path"),y=JSON.stringify(g);return M.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:r})},[p,y,r,e,n]),null}function Ft(i){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lx({basename:i="/",children:e=null,location:n,navigationType:r="POP",navigator:l,static:c=!1,unstable_useTransitions:d}){ut(!Al(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=i.replace(/^\/*/,"/"),g=M.useMemo(()=>({basename:p,navigator:l,static:c,unstable_useTransitions:d,future:{}}),[p,l,c,d]);typeof n=="string"&&(n=Tl(n));let{pathname:y="/",search:T="",hash:b="",state:N=null,key:I="default"}=n,O=M.useMemo(()=>{let Q=pi(y,p);return Q==null?null:{location:{pathname:Q,search:T,hash:b,state:N,key:I},navigationType:r}},[p,y,T,b,N,I,r]);return Dn(O!=null,`<Router basename="${p}"> is not able to match the URL "${y}${T}${b}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:M.createElement($n.Provider,{value:g},M.createElement(hc.Provider,{children:e,value:O}))}function BT({children:i,location:e}){return Kw(Vm(i),e)}function Vm(i,e=[]){let n=[];return M.Children.forEach(i,(r,l)=>{if(!M.isValidElement(r))return;let c=[...e,l];if(r.type===M.Fragment){n.push.apply(n,Vm(r.props.children,c));return}ut(r.type===Ft,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=Vm(r.props.children,c)),n.push(d)}),n}var lh="get",oh="application/x-www-form-urlencoded";function zh(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function ox(i){return zh(i)&&i.tagName.toLowerCase()==="button"}function cx(i){return zh(i)&&i.tagName.toLowerCase()==="form"}function ux(i){return zh(i)&&i.tagName.toLowerCase()==="input"}function hx(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function dx(i,e){return i.button===0&&(!e||e==="_self")&&!hx(i)}function Pm(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((e,n)=>{let r=i[n];return e.concat(Array.isArray(r)?r.map(l=>[n,l]):[[n,r]])},[]))}function fx(i,e){let n=Pm(i);return e&&e.forEach((r,l)=>{n.has(l)||e.getAll(l).forEach(c=>{n.append(l,c)})}),n}var eh=null;function mx(){if(eh===null)try{new FormData(document.createElement("form"),0),eh=!1}catch{eh=!0}return eh}var px=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Em(i){return i!=null&&!px.has(i)?(Dn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oh}"`),null):i}function gx(i,e){let n,r,l,c,d;if(cx(i)){let p=i.getAttribute("action");r=p?pi(p,e):null,n=i.getAttribute("method")||lh,l=Em(i.getAttribute("enctype"))||oh,c=new FormData(i)}else if(ox(i)||ux(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||p.getAttribute("action");if(r=g?pi(g,e):null,n=i.getAttribute("formmethod")||p.getAttribute("method")||lh,l=Em(i.getAttribute("formenctype"))||Em(p.getAttribute("enctype"))||oh,c=new FormData(p,i),!mx()){let{name:y,type:T,value:b}=i;if(T==="image"){let N=y?`${y}.`:"";c.append(`${N}x`,"0"),c.append(`${N}y`,"0")}else y&&c.append(y,b)}}else{if(zh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=lh,r=null,l=oh,d=i}return c&&l==="text/plain"&&(d=c,c=void 0),{action:r,method:n.toLowerCase(),encType:l,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function yx(i,e,n){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&pi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function vx(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _x(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Ex(i,e,n){let r=await Promise.all(i.map(async l=>{let c=e.routes[l.route.id];if(c){let d=await vx(c,n);return d.links?d.links():[]}return[]}));return Sx(r.flat(1).filter(_x).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function eE(i,e,n,r,l,c){let d=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>d(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{let T=r.routes[g.route.id];if(!T||!T.hasLoader)return!1;if(d(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Tx(i,e,{includeHydrateFallback:n}={}){return bx(i.map(r=>{let l=e.routes[r.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function bx(i){return[...new Set(i)]}function Ax(i){let e={},n=Object.keys(i).sort();for(let r of n)e[r]=i[r];return e}function Sx(i,e){let n=new Set;return new Set(e),i.reduce((r,l)=>{let c=JSON.stringify(Ax(l));return n.has(c)||(n.add(c),r.push({key:c,link:l})),r},[])}function qT(){let i=M.useContext(bl);return gp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function wx(){let i=M.useContext(Uh);return gp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var yp=M.createContext(void 0);yp.displayName="FrameworkContext";function FT(){let i=M.useContext(yp);return gp(i,"You must render this element inside a <HydratedRouter> element"),i}function xx(i,e){let n=M.useContext(yp),[r,l]=M.useState(!1),[c,d]=M.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:T,onTouchStart:b}=e,N=M.useRef(null);M.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let Q=J=>{J.forEach(ee=>{d(ee.isIntersecting)})},z=new IntersectionObserver(Q,{threshold:.5});return N.current&&z.observe(N.current),()=>{z.disconnect()}}},[i]),M.useEffect(()=>{if(r){let Q=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(Q)}}},[r]);let I=()=>{l(!0)},O=()=>{l(!1),d(!1)};return n?i!=="intent"?[c,N,{}]:[c,N,{onFocus:Uo(p,I),onBlur:Uo(g,O),onMouseEnter:Uo(y,I),onMouseLeave:Uo(T,O),onTouchStart:Uo(b,I)}]:[!1,N,{}]}function Uo(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function Nx({page:i,...e}){let{router:n}=qT(),r=M.useMemo(()=>DT(n.routes,i,n.basename),[n.routes,i,n.basename]);return r?M.createElement(Cx,{page:i,matches:r,...e}):null}function Rx(i){let{manifest:e,routeModules:n}=FT(),[r,l]=M.useState([]);return M.useEffect(()=>{let c=!1;return Ex(i,e,n).then(d=>{c||l(d)}),()=>{c=!0}},[i,e,n]),r}function Cx({page:i,matches:e,...n}){let r=qs(),{manifest:l,routeModules:c}=FT(),{basename:d}=qT(),{loaderData:p,matches:g}=wx(),y=M.useMemo(()=>eE(i,e,g,l,r,"data"),[i,e,g,l,r]),T=M.useMemo(()=>eE(i,e,g,l,r,"assets"),[i,e,g,l,r]),b=M.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let O=new Set,Q=!1;if(e.forEach(J=>{let ee=l.routes[J.route.id];!ee||!ee.hasLoader||(!y.some(K=>K.route.id===J.route.id)&&J.route.id in p&&c[J.route.id]?.shouldRevalidate||ee.hasClientLoader?Q=!0:O.add(J.route.id))}),O.size===0)return[];let z=yx(i,d,"data");return Q&&O.size>0&&z.searchParams.set("_routes",e.filter(J=>O.has(J.route.id)).map(J=>J.route.id).join(",")),[z.pathname+z.search]},[d,p,r,l,y,e,i,c]),N=M.useMemo(()=>Tx(T,l),[T,l]),I=Rx(T);return M.createElement(M.Fragment,null,b.map(O=>M.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),N.map(O=>M.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),I.map(({key:O,link:Q})=>M.createElement("link",{key:O,nonce:n.nonce,...Q})))}function Ix(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var HT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{HT&&(window.__reactRouterVersion="7.10.1")}catch{}function jx({basename:i,children:e,unstable_useTransitions:n,window:r}){let l=M.useRef();l.current==null&&(l.current=gw({window:r,v5Compat:!0}));let c=l.current,[d,p]=M.useState({action:c.action,location:c.location}),g=M.useCallback(y=>{n===!1?p(y):M.startTransition(()=>p(y))},[n]);return M.useLayoutEffect(()=>c.listen(g),[c,g]),M.createElement(lx,{basename:i,children:e,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:n===!0})}var GT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ae=M.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:l,reloadDocument:c,replace:d,state:p,target:g,to:y,preventScrollReset:T,viewTransition:b,...N},I){let{basename:O,unstable_useTransitions:Q}=M.useContext($n),z=typeof y=="string"&&GT.test(y),J,ee=!1;if(typeof y=="string"&&z&&(J=y,HT))try{let L=new URL(window.location.href),x=y.startsWith("//")?new URL(L.protocol+y):new URL(y),P=pi(x.pathname,O);x.origin===L.origin&&P!=null?y=P+x.search+x.hash:ee=!0}catch{Dn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=Gw(y,{relative:l}),[de,ve,B]=xx(r,N),R=Vx(y,{replace:d,state:p,target:g,preventScrollReset:T,relative:l,viewTransition:b,unstable_useTransitions:Q});function S(L){e&&e(L),L.defaultPrevented||R(L)}let C=M.createElement("a",{...N,...B,href:J||K,onClick:ee||c?e:S,ref:Ix(I,ve),target:g,"data-discover":!z&&n==="render"?"true":void 0});return de&&!z?M.createElement(M.Fragment,null,C,M.createElement(Nx,{page:K})):C});Ae.displayName="Link";var Dx=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:l=!1,style:c,to:d,viewTransition:p,children:g,...y},T){let b=dc(d,{relative:y.relative}),N=qs(),I=M.useContext(Uh),{navigator:O,basename:Q}=M.useContext($n),z=I!=null&&zx(b)&&p===!0,J=O.encodeLocation?O.encodeLocation(b).pathname:b.pathname,ee=N.pathname,K=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||(ee=ee.toLowerCase(),K=K?K.toLowerCase():null,J=J.toLowerCase()),K&&Q&&(K=pi(K,Q)||K);const de=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let ve=ee===J||!l&&ee.startsWith(J)&&ee.charAt(de)==="/",B=K!=null&&(K===J||!l&&K.startsWith(J)&&K.charAt(J.length)==="/"),R={isActive:ve,isPending:B,isTransitioning:z},S=ve?e:void 0,C;typeof r=="function"?C=r(R):C=[r,ve?"active":null,B?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let L=typeof c=="function"?c(R):c;return M.createElement(Ae,{...y,"aria-current":S,className:C,ref:T,style:L,to:d,viewTransition:p},typeof g=="function"?g(R):g)});Dx.displayName="NavLink";var Ox=M.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:l,state:c,method:d=lh,action:p,onSubmit:g,relative:y,preventScrollReset:T,viewTransition:b,...N},I)=>{let{unstable_useTransitions:O}=M.useContext($n),Q=Lx(),z=Ux(p,{relative:y}),J=d.toLowerCase()==="get"?"get":"post",ee=typeof p=="string"&&GT.test(p),K=de=>{if(g&&g(de),de.defaultPrevented)return;de.preventDefault();let ve=de.nativeEvent.submitter,B=ve?.getAttribute("formmethod")||d,R=()=>Q(ve||de.currentTarget,{fetcherKey:e,method:B,navigate:n,replace:l,state:c,relative:y,preventScrollReset:T,viewTransition:b});O&&n!==!1?M.startTransition(()=>R()):R()};return M.createElement("form",{ref:I,method:J,action:z,onSubmit:r?g:K,...N,"data-discover":!ee&&i==="render"?"true":void 0})});Ox.displayName="Form";function Mx(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QT(i){let e=M.useContext(bl);return ut(e,Mx(i)),e}function Vx(i,{target:e,replace:n,state:r,preventScrollReset:l,relative:c,viewTransition:d,unstable_useTransitions:p}={}){let g=cn(),y=qs(),T=dc(i,{relative:c});return M.useCallback(b=>{if(dx(b,e)){b.preventDefault();let N=n!==void 0?n:Jo(y)===Jo(T),I=()=>g(i,{replace:N,state:r,preventScrollReset:l,relative:c,viewTransition:d});p?M.startTransition(()=>I()):I()}},[y,g,T,n,r,e,i,l,c,d,p])}function YT(i){Dn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=M.useRef(Pm(i)),n=M.useRef(!1),r=qs(),l=M.useMemo(()=>fx(r.search,n.current?null:e.current),[r.search]),c=cn(),d=M.useCallback((p,g)=>{const y=Pm(typeof p=="function"?p(new URLSearchParams(l)):p);n.current=!0,c("?"+y,g)},[c,l]);return[l,d]}var Px=0,kx=()=>`__${String(++Px)}__`;function Lx(){let{router:i}=QT("useSubmit"),{basename:e}=M.useContext($n),n=sx(),r=i.fetch,l=i.navigate;return M.useCallback(async(c,d={})=>{let{action:p,method:g,encType:y,formData:T,body:b}=gx(c,e);if(d.navigate===!1){let N=d.fetcherKey||kx();await r(N,n,d.action||p,{preventScrollReset:d.preventScrollReset,formData:T,body:b,formMethod:d.method||g,formEncType:d.encType||y,flushSync:d.flushSync})}else await l(d.action||p,{preventScrollReset:d.preventScrollReset,formData:T,body:b,formMethod:d.method||g,formEncType:d.encType||y,replace:d.replace,state:d.state,fromRouteId:n,flushSync:d.flushSync,viewTransition:d.viewTransition})},[r,l,e,n])}function Ux(i,{relative:e}={}){let{basename:n}=M.useContext($n),r=M.useContext(hs);ut(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),c={...dc(i||".",{relative:e})},d=qs();if(i==null){c.search=d.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(T=>T==="")){p.delete("index"),g.filter(b=>b).forEach(b=>p.append("index",b));let T=p.toString();c.search=T?`?${T}`:""}}return(!i||i===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:di([n,c.pathname])),Jo(c)}function zx(i,{relative:e}={}){let n=M.useContext(PT);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=QT("useViewTransitionState"),l=dc(i,{relative:e});if(!n.isTransitioning)return!1;let c=pi(n.currentLocation.pathname,r)||n.currentLocation.pathname,d=pi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return _h(l.pathname,d)!=null||_h(l.pathname,c)!=null}const Bx=()=>{};var tE={};const KT=function(i){const e=[];let n=0;for(let r=0;r<i.length;r++){let l=i.charCodeAt(r);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++r)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},qx=function(i){const e=[];let n=0,r=0;for(;n<i.length;){const l=i[n++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=i[n++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=i[n++],d=i[n++],p=i[n++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const c=i[n++],d=i[n++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},$T={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<i.length;l+=3){const c=i[l],d=l+1<i.length,p=d?i[l+1]:0,g=l+2<i.length,y=g?i[l+2]:0,T=c>>2,b=(c&3)<<4|p>>4;let N=(p&15)<<2|y>>6,I=y&63;g||(I=64,d||(N=64)),r.push(n[T],n[b],n[N],n[I])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(KT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):qx(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<i.length;){const c=n[i.charAt(l++)],p=l<i.length?n[i.charAt(l)]:0;++l;const y=l<i.length?n[i.charAt(l)]:64;++l;const b=l<i.length?n[i.charAt(l)]:64;if(++l,c==null||p==null||y==null||b==null)throw new Fx;const N=c<<2|p>>4;if(r.push(N),y!==64){const I=p<<4&240|y>>2;if(r.push(I),b!==64){const O=y<<6&192|b;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Fx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hx=function(i){const e=KT(i);return $T.encodeByteArray(e,!0)},Eh=function(i){return Hx(i).replace(/\./g,"")},XT=function(i){try{return $T.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Gx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Qx=()=>Gx().__FIREBASE_DEFAULTS__,Yx=()=>{if(typeof process>"u"||typeof tE>"u")return;const i=tE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Kx=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&XT(i[1]);return e&&JSON.parse(e)},Bh=()=>{try{return Bx()||Qx()||Yx()||Kx()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},WT=i=>Bh()?.emulatorHosts?.[i],$x=i=>{const e=WT(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},JT=()=>Bh()?.config,ZT=i=>Bh()?.[`_${i}`];class Xx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Sl(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function e0(i){return(await fetch(i,{credentials:"include"})).ok}function Wx(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",l=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Eh(JSON.stringify(n)),Eh(JSON.stringify(d)),""].join(".")}const Qo={};function Jx(){const i={prod:[],emulator:[]};for(const e of Object.keys(Qo))Qo[e]?i.emulator.push(e):i.prod.push(e);return i}function Zx(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let nE=!1;function t0(i,e){if(typeof window>"u"||typeof document>"u"||!Sl(window.location.host)||Qo[i]===e||Qo[i]||nE)return;Qo[i]=e;function n(N){return`__firebase__banner__${N}`}const r="__firebase__banner",c=Jx().prod.length>0;function d(){const N=document.getElementById(r);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function g(N,I){N.setAttribute("width","24"),N.setAttribute("id",I),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{nE=!0,d()},N}function T(N,I){N.setAttribute("id",I),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function b(){const N=Zx(r),I=n("text"),O=document.getElementById(I)||document.createElement("span"),Q=n("learnmore"),z=document.getElementById(Q)||document.createElement("a"),J=n("preprendIcon"),ee=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const K=N.element;p(K),T(z,Q);const de=y();g(ee,J),K.append(ee,O,z,de),document.body.appendChild(K)}c?(O.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function tN(){const i=Bh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sN(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function iN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rN(){const i=rn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function aN(){return!tN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lN(){try{return typeof indexedDB=="object"}catch{return!1}}function oN(){return new Promise((i,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),i(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}const cN="FirebaseError";class Ti extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=cN,Object.setPrototypeOf(this,Ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fc.prototype.create)}}class fc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?uN(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Ti(l,p,r)}}function uN(i,e){return i.replace(hN,(n,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const hN=/\{\$([^}]+)}/g;function dN(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function sa(i,e){if(i===e)return!0;const n=Object.keys(i),r=Object.keys(e);for(const l of n){if(!r.includes(l))return!1;const c=i[l],d=e[l];if(sE(c)&&sE(d)){if(!sa(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function sE(i){return i!==null&&typeof i=="object"}function mc(i){const e=[];for(const[n,r]of Object.entries(i))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zo(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Bo(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function fN(i,e){const n=new mN(i,e);return n.subscribe.bind(n)}class mN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let l;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");pN(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:r},l.next===void 0&&(l.next=Tm),l.error===void 0&&(l.error=Tm),l.complete===void 0&&(l.complete=Tm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pN(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Tm(){}function Lt(i){return i&&i._delegate?i._delegate:i}class ia{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Zr="[DEFAULT]";class gN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Xx;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vN(e))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=Zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zr){return this.instances.has(e)}getOptions(e=Zr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zr){return this.component?this.component.multipleInstances?e:Zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yN(i){return i===Zr?void 0:i}function vN(i){return i.instantiationMode==="EAGER"}class _N{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Pe||(Pe={}));const EN={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},TN=Pe.INFO,bN={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},AN=(i,e,...n)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),l=bN[e];if(l)console[l](`[${r}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vp{constructor(e){this.name=e,this._logLevel=TN,this._logHandler=AN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const SN=(i,e)=>e.some(n=>i instanceof n);let iE,rE;function wN(){return iE||(iE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xN(){return rE||(rE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const n0=new WeakMap,km=new WeakMap,s0=new WeakMap,bm=new WeakMap,_p=new WeakMap;function NN(i){const e=new Promise((n,r)=>{const l=()=>{i.removeEventListener("success",c),i.removeEventListener("error",d)},c=()=>{n(ar(i.result)),l()},d=()=>{r(i.error),l()};i.addEventListener("success",c),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&n0.set(n,i)}).catch(()=>{}),_p.set(e,i),e}function RN(i){if(km.has(i))return;const e=new Promise((n,r)=>{const l=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",d),i.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{r(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",c),i.addEventListener("error",d),i.addEventListener("abort",d)});km.set(i,e)}let Lm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return km.get(i);if(e==="objectStoreNames")return i.objectStoreNames||s0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ar(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function CN(i){Lm=i(Lm)}function IN(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=i.call(Am(this),e,...n);return s0.set(r,e.sort?e.sort():[e]),ar(r)}:xN().includes(i)?function(...e){return i.apply(Am(this),e),ar(n0.get(this))}:function(...e){return ar(i.apply(Am(this),e))}}function jN(i){return typeof i=="function"?IN(i):(i instanceof IDBTransaction&&RN(i),SN(i,wN())?new Proxy(i,Lm):i)}function ar(i){if(i instanceof IDBRequest)return NN(i);if(bm.has(i))return bm.get(i);const e=jN(i);return e!==i&&(bm.set(i,e),_p.set(e,i)),e}const Am=i=>_p.get(i);function DN(i,e,{blocked:n,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(i,e),p=ar(d);return r&&d.addEventListener("upgradeneeded",g=>{r(ar(d.result),g.oldVersion,g.newVersion,ar(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const ON=["get","getKey","getAll","getAllKeys","count"],MN=["put","add","delete","clear"],Sm=new Map;function aE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Sm.get(e))return Sm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,l=MN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||ON.includes(n)))return;const c=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),l&&g.done]))[0]};return Sm.set(e,c),c}CN(i=>({...i,get:(e,n,r)=>aE(e,n)||i.get(e,n,r),has:(e,n)=>!!aE(e,n)||i.has(e,n)}));class VN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function PN(i){return i.getComponent()?.type==="VERSION"}const Um="@firebase/app",lE="0.14.6";const gi=new vp("@firebase/app"),kN="@firebase/app-compat",LN="@firebase/analytics-compat",UN="@firebase/analytics",zN="@firebase/app-check-compat",BN="@firebase/app-check",qN="@firebase/auth",FN="@firebase/auth-compat",HN="@firebase/database",GN="@firebase/data-connect",QN="@firebase/database-compat",YN="@firebase/functions",KN="@firebase/functions-compat",$N="@firebase/installations",XN="@firebase/installations-compat",WN="@firebase/messaging",JN="@firebase/messaging-compat",ZN="@firebase/performance",e1="@firebase/performance-compat",t1="@firebase/remote-config",n1="@firebase/remote-config-compat",s1="@firebase/storage",i1="@firebase/storage-compat",r1="@firebase/firestore",a1="@firebase/ai",l1="@firebase/firestore-compat",o1="firebase",c1="12.6.0";const zm="[DEFAULT]",u1={[Um]:"fire-core",[kN]:"fire-core-compat",[UN]:"fire-analytics",[LN]:"fire-analytics-compat",[BN]:"fire-app-check",[zN]:"fire-app-check-compat",[qN]:"fire-auth",[FN]:"fire-auth-compat",[HN]:"fire-rtdb",[GN]:"fire-data-connect",[QN]:"fire-rtdb-compat",[YN]:"fire-fn",[KN]:"fire-fn-compat",[$N]:"fire-iid",[XN]:"fire-iid-compat",[WN]:"fire-fcm",[JN]:"fire-fcm-compat",[ZN]:"fire-perf",[e1]:"fire-perf-compat",[t1]:"fire-rc",[n1]:"fire-rc-compat",[s1]:"fire-gcs",[i1]:"fire-gcs-compat",[r1]:"fire-fst",[l1]:"fire-fst-compat",[a1]:"fire-vertex","fire-js":"fire-js",[o1]:"fire-js-all"};const Th=new Map,h1=new Map,Bm=new Map;function oE(i,e){try{i.container.addComponent(e)}catch(n){gi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function ml(i){const e=i.name;if(Bm.has(e))return gi.debug(`There were multiple attempts to register component ${e}.`),!1;Bm.set(e,i);for(const n of Th.values())oE(n,i);for(const n of h1.values())oE(n,i);return!0}function Ep(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Qn(i){return i==null?!1:i.settings!==void 0}const d1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new fc("app","Firebase",d1);class f1{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}const wl=c1;function Tp(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const r={name:zm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw lr.create("bad-app-name",{appName:String(l)});if(n||(n=JT()),!n)throw lr.create("no-options");const c=Th.get(l);if(c){if(sa(n,c.options)&&sa(r,c.config))return c;throw lr.create("duplicate-app",{appName:l})}const d=new _N(l);for(const g of Bm.values())d.addComponent(g);const p=new f1(n,r,d);return Th.set(l,p),p}function i0(i=zm){const e=Th.get(i);if(!e&&i===zm&&JT())return Tp();if(!e)throw lr.create("no-app",{appName:i});return e}function or(i,e,n){let r=u1[i]??i;n&&(r+=`-${n}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gi.warn(d.join(" "));return}ml(new ia(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const m1="firebase-heartbeat-database",p1=1,Zo="firebase-heartbeat-store";let wm=null;function r0(){return wm||(wm=DN(m1,p1,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Zo)}catch(n){console.warn(n)}}}}).catch(i=>{throw lr.create("idb-open",{originalErrorMessage:i.message})})),wm}async function g1(i){try{const n=(await r0()).transaction(Zo),r=await n.objectStore(Zo).get(a0(i));return await n.done,r}catch(e){if(e instanceof Ti)gi.warn(e.message);else{const n=lr.create("idb-get",{originalErrorMessage:e?.message});gi.warn(n.message)}}}async function cE(i,e){try{const r=(await r0()).transaction(Zo,"readwrite");await r.objectStore(Zo).put(e,a0(i)),await r.done}catch(n){if(n instanceof Ti)gi.warn(n.message);else{const r=lr.create("idb-set",{originalErrorMessage:n?.message});gi.warn(r.message)}}}function a0(i){return`${i.name}!${i.options.appId}`}const y1=1024,v1=30;class _1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new T1(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=uE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>v1){const l=b1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){gi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=uE(),{heartbeatsToSend:n,unsentEntries:r}=E1(this._heartbeatsCache.heartbeats),l=Eh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return gi.warn(e),""}}}function uE(){return new Date().toISOString().substring(0,10)}function E1(i,e=y1){const n=[];let r=i.slice();for(const l of i){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),hE(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),hE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class T1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lN()?oN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await g1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function hE(i){return Eh(JSON.stringify({version:2,heartbeats:i})).length}function b1(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let r=1;r<i.length;r++)i[r].date<n&&(n=i[r].date,e=r);return e}function A1(i){ml(new ia("platform-logger",e=>new VN(e),"PRIVATE")),ml(new ia("heartbeat",e=>new _1(e),"PRIVATE")),or(Um,lE,i),or(Um,lE,"esm2020"),or("fire-js","")}A1("");function l0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const S1=l0,o0=new fc("auth","Firebase",l0());const bh=new vp("@firebase/auth");function w1(i,...e){bh.logLevel<=Pe.WARN&&bh.warn(`Auth (${wl}): ${i}`,...e)}function ch(i,...e){bh.logLevel<=Pe.ERROR&&bh.error(`Auth (${wl}): ${i}`,...e)}function cs(i,...e){throw bp(i,...e)}function Vs(i,...e){return bp(i,...e)}function c0(i,e,n){const r={...S1(),[e]:n};return new fc("auth","Firebase",r).create(e,{appName:i.name})}function fi(i){return c0(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bp(i,...e){if(typeof i!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(n,...r)}return o0.create(i,...e)}function Ee(i,e,...n){if(!i)throw bp(e,...n)}function ui(i){const e="INTERNAL ASSERTION FAILED: "+i;throw ch(e),new Error(e)}function yi(i,e){i||ui(e)}function qm(){return typeof self<"u"&&self.location?.href||""}function x1(){return dE()==="http:"||dE()==="https:"}function dE(){return typeof self<"u"&&self.location?.protocol||null}function N1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(x1()||sN()||"connection"in navigator)?navigator.onLine:!0}function R1(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class pc{constructor(e,n){this.shortDelay=e,this.longDelay=n,yi(n>e,"Short delay should be less than long delay!"),this.isMobile=eN()||iN()}get(){return N1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ap(i,e){yi(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class u0{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const C1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const I1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],j1=new pc(3e4,6e4);function yr(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function vr(i,e,n,r,l={}){return h0(i,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const p=mc({key:i.config.apiKey,...d}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:g,...c};return nN()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&Sl(i.emulatorConfig.host)&&(y.credentials="include"),u0.fetch()(await d0(i,i.config.apiHost,n,p),y)})}async function h0(i,e,n){i._canInitEmulator=!1;const r={...C1,...e};try{const l=new O1(i),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw th(i,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(i,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw th(i,"email-already-in-use",d);if(g==="USER_DISABLED")throw th(i,"user-disabled",d);const T=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw c0(i,T,y);cs(i,T)}}catch(l){if(l instanceof Ti)throw l;cs(i,"network-request-failed",{message:String(l)})}}async function gc(i,e,n,r,l={}){const c=await vr(i,e,n,r,l);return"mfaPendingCredential"in c&&cs(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function d0(i,e,n,r){const l=`${e}${n}?${r}`,c=i,d=c.config.emulator?Ap(i.config,l):`${i.config.apiScheme}://${l}`;return I1.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function D1(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class O1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Vs(this.auth,"network-request-failed")),j1.get())})}}function th(i,e,n){const r={appName:i.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=Vs(i,e,r);return l.customData._tokenResponse=n,l}function fE(i){return i!==void 0&&i.enterprise!==void 0}class M1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return D1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function V1(i,e){return vr(i,"GET","/v2/recaptchaConfig",yr(i,e))}async function P1(i,e){return vr(i,"POST","/v1/accounts:delete",e)}async function Ah(i,e){return vr(i,"POST","/v1/accounts:lookup",e)}function Yo(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function k1(i,e=!1){const n=Lt(i),r=await n.getIdToken(e),l=Sp(r);Ee(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Yo(xm(l.auth_time)),issuedAtTime:Yo(xm(l.iat)),expirationTime:Yo(xm(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function xm(i){return Number(i)*1e3}function Sp(i){const[e,n,r]=i.split(".");if(e===void 0||n===void 0||r===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const l=XT(n);return l?JSON.parse(l):(ch("Failed to decode base64 JWT payload"),null)}catch(l){return ch("Caught error parsing JWT payload as JSON",l?.toString()),null}}function mE(i){const e=Sp(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ec(i,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ti&&L1(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function L1({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class U1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Fm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yo(this.lastLoginAt),this.creationTime=Yo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Sh(i){const e=i.auth,n=await i.getIdToken(),r=await ec(i,Ah(e,{idToken:n}));Ee(r?.users.length,e,"internal-error");const l=r.users[0];i._notifyReloadListener(l);const c=l.providerUserInfo?.length?f0(l.providerUserInfo):[],d=B1(i.providerData,c),p=i.isAnonymous,g=!(i.email&&l.passwordHash)&&!d?.length,y=p?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Fm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(i,T)}async function z1(i){const e=Lt(i);await Sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function B1(i,e){return[...i.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function f0(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function q1(i,e){const n=await h0(i,{},async()=>{const r=mc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=i.config,d=await d0(i,l,"/v1/token",`key=${c}`),p=await i._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return i.emulatorConfig&&Sl(i.emulatorConfig.host)&&(g.credentials="include"),u0.fetch()(d,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function F1(i,e){return vr(i,"POST","/v2/accounts:revokeToken",yr(i,e))}class ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=mE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:l,expiresIn:c}=await q1(e,n);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:l,expirationTime:c}=n,d=new ul;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(Ee(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Ee(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ul,this.toJSON())}_performRefresh(){return ui("not implemented")}}function tr(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class os{constructor({uid:e,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new U1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Fm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await ec(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return k1(this,e)}reload(){return z1(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new os({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Sh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(fi(this.auth));const e=await this.getIdToken();return await ec(this,P1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:b,emailVerified:N,isAnonymous:I,providerData:O,stsTokenManager:Q}=n;Ee(b&&Q,e,"internal-error");const z=ul.fromJSON(this.name,Q);Ee(typeof b=="string",e,"internal-error"),tr(r,e.name),tr(l,e.name),Ee(typeof N=="boolean",e,"internal-error"),Ee(typeof I=="boolean",e,"internal-error"),tr(c,e.name),tr(d,e.name),tr(p,e.name),tr(g,e.name),tr(y,e.name),tr(T,e.name);const J=new os({uid:b,auth:e,email:l,emailVerified:N,displayName:r,isAnonymous:I,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:z,createdAt:y,lastLoginAt:T});return O&&Array.isArray(O)&&(J.providerData=O.map(ee=>({...ee}))),g&&(J._redirectEventId=g),J}static async _fromIdTokenResponse(e,n,r=!1){const l=new ul;l.updateFromServerResponse(n);const c=new os({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await Sh(c),c}static async _fromGetAccountInfoResponse(e,n,r){const l=n.users[0];Ee(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?f0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new ul;p.updateFromIdToken(r);const g=new os({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Fm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const pE=new Map;function hi(i){yi(i instanceof Function,"Expected a class definition");let e=pE.get(i);return e?(yi(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,pE.set(i,e),e)}class m0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}m0.type="NONE";const gE=m0;function uh(i,e,n){return`firebase:${i}:${e}:${n}`}class hl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=uh(this.userKey,l.apiKey,c),this.fullPersistenceKey=uh("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ah(this.auth,{idToken:e}).catch(()=>{});return n?os._fromGetAccountInfoResponse(this.auth,n,e):null}return os._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new hl(hi(gE),e,r);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||hi(gE);const d=uh(r,e.config.apiKey,e.name);let p=null;for(const y of n)try{const T=await y._get(d);if(T){let b;if(typeof T=="string"){const N=await Ah(e,{idToken:T}).catch(()=>{});if(!N)break;b=await os._fromGetAccountInfoResponse(e,N,T)}else b=os._fromJSON(e,T);y!==c&&(p=b),c=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new hl(c,e,r):(c=g[0],p&&await c._set(d,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new hl(c,e,r))}}function yE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(v0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(p0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(E0(e))return"Blackberry";if(T0(e))return"Webos";if(g0(e))return"Safari";if((e.includes("chrome/")||y0(e))&&!e.includes("edge/"))return"Chrome";if(_0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(n);if(r?.length===2)return r[1]}return"Other"}function p0(i=rn()){return/firefox\//i.test(i)}function g0(i=rn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function y0(i=rn()){return/crios\//i.test(i)}function v0(i=rn()){return/iemobile/i.test(i)}function _0(i=rn()){return/android/i.test(i)}function E0(i=rn()){return/blackberry/i.test(i)}function T0(i=rn()){return/webos/i.test(i)}function wp(i=rn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function H1(i=rn()){return wp(i)&&!!window.navigator?.standalone}function G1(){return rN()&&document.documentMode===10}function b0(i=rn()){return wp(i)||_0(i)||T0(i)||E0(i)||/windows phone/i.test(i)||v0(i)}function A0(i,e=[]){let n;switch(i){case"Browser":n=yE(rn());break;case"Worker":n=`${yE(rn())}-${i}`;break;default:n=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wl}/${r}`}class Q1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((d,p)=>{try{const g=e(c);d(g)}catch(g){p(g)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Y1(i,e={}){return vr(i,"GET","/v2/passwordPolicy",yr(i,e))}const K1=6;class $1{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??K1,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class X1{constructor(e,n,r,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vE(this),this.idTokenSubscription=new vE(this),this.beforeStateQueue=new Q1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=o0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await hl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ah(this,{idToken:e}),r=await os._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Qn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=R1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qn(this.app))return Promise.reject(fi(this));const n=e?Lt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(fi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qn(this.app)?Promise.reject(fi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Y1(this),n=new $1(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await F1(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hi(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await hl.create(this,[hi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,l);return()=>{d=!0,g()}}else{const g=e.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=A0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&w1(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ca(i){return Lt(i)}class vE{constructor(e){this.auth=e,this.observer=null,this.addObserver=fN(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function W1(i){qh=i}function S0(i){return qh.loadJS(i)}function J1(){return qh.recaptchaEnterpriseScript}function Z1(){return qh.gapiScript}function eR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class tR{constructor(){this.enterprise=new nR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class nR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const sR="recaptcha-enterprise",w0="NO_RECAPTCHA";class iR{constructor(e){this.type=sR,this.auth=ca(e)}async verify(e="verify",n=!1){async function r(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{V1(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new M1(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(g=>{p(g)})})}function l(c,d,p){const g=window.grecaptcha;fE(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(w0)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tR().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(p=>{if(!n&&fE(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=J1();g.length!==0&&(g+=p),S0(g).then(()=>{l(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function _E(i,e,n,r=!1,l=!1){const c=new iR(i);let d;if(l)d=w0;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Hm(i,e,n,r,l){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await _E(i,e,n,n==="getOobCode");return r(i,c)}else return r(i,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await _E(i,e,n,n==="getOobCode");return r(i,d)}else return Promise.reject(c)})}function rR(i,e){const n=Ep(i,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(sa(c,e??{}))return l;cs(l,"already-initialized")}return n.initialize({options:e})}function aR(i,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(hi);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e?.popupRedirectResolver)}function lR(i,e,n){const r=ca(i);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=x0(e),{host:d,port:p}=oR(e),g=p===null?"":`:${p}`,y={url:`${c}//${d}${g}/`},T=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(sa(y,r.config.emulator)&&sa(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,Sl(d)?(e0(`${c}//${d}${g}`),t0("Auth",!0)):cR()}function x0(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function oR(i){const e=x0(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:EE(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:EE(d)}}}function EE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function cR(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class xp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ui("not implemented")}_getIdTokenResponse(e){return ui("not implemented")}_linkToIdToken(e,n){return ui("not implemented")}_getReauthenticationResolver(e){return ui("not implemented")}}async function uR(i,e){return vr(i,"POST","/v1/accounts:signUp",e)}async function hR(i,e){return gc(i,"POST","/v1/accounts:signInWithPassword",yr(i,e))}async function dR(i,e){return gc(i,"POST","/v1/accounts:signInWithEmailLink",yr(i,e))}async function fR(i,e){return gc(i,"POST","/v1/accounts:signInWithEmailLink",yr(i,e))}class tc extends xp{constructor(e,n,r,l=null){super("password",r),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new tc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new tc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hm(e,n,"signInWithPassword",hR);case"emailLink":return dR(e,{email:this._email,oobCode:this._password});default:cs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hm(e,r,"signUpPassword",uR);case"emailLink":return fR(e,{idToken:n,email:this._email,oobCode:this._password});default:cs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function dl(i,e){return gc(i,"POST","/v1/accounts:signInWithIdp",yr(i,e))}const mR="http://localhost";class ra extends xp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):cs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=n;if(!r||!l)return null;const d=new ra(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return dl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,dl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,dl(e,n)}buildRequest(){const e={requestUri:mR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mc(n)}return e}}function pR(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gR(i){const e=zo(Bo(i)).link,n=e?zo(Bo(e)).deep_link_id:null,r=zo(Bo(i)).deep_link_id;return(r?zo(Bo(r)).link:null)||r||n||e||i}class Np{constructor(e){const n=zo(Bo(e)),r=n.apiKey??null,l=n.oobCode??null,c=pR(n.mode??null);Ee(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=gR(e);try{return new Np(n)}catch{return null}}}class xl{constructor(){this.providerId=xl.PROVIDER_ID}static credential(e,n){return tc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Np.parseLink(n);return Ee(r,"argument-error"),tc._fromEmailAndCode(e,r.code,r.tenantId)}}xl.PROVIDER_ID="password";xl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class N0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class yc extends N0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class nr extends yc{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nr.credential(e.oauthAccessToken)}catch{return null}}}nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";nr.PROVIDER_ID="facebook.com";class ci extends yc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ra._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ci.credential(n,r)}catch{return null}}}ci.GOOGLE_SIGN_IN_METHOD="google.com";ci.PROVIDER_ID="google.com";class sr extends yc{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sr.credential(e.oauthAccessToken)}catch{return null}}}sr.GITHUB_SIGN_IN_METHOD="github.com";sr.PROVIDER_ID="github.com";class ir extends yc{constructor(){super("twitter.com")}static credential(e,n){return ra._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ir.credential(n,r)}catch{return null}}}ir.TWITTER_SIGN_IN_METHOD="twitter.com";ir.PROVIDER_ID="twitter.com";async function yR(i,e){return gc(i,"POST","/v1/accounts:signUp",yr(i,e))}class aa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,l=!1){const c=await os._fromIdTokenResponse(e,r,l),d=TE(r);return new aa({user:c,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const l=TE(r);return new aa({user:e,providerId:l,_tokenResponse:r,operationType:n})}}function TE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class wh extends Ti{constructor(e,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,wh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,l){return new wh(e,n,r,l)}}function R0(i,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?wh._fromErrorAndOperation(i,c,e,r):c})}async function vR(i,e,n=!1){const r=await ec(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return aa._forOperation(i,"link",r)}async function _R(i,e,n=!1){const{auth:r}=i;if(Qn(r.app))return Promise.reject(fi(r));const l="reauthenticate";try{const c=await ec(i,R0(r,l,e,i),n);Ee(c.idToken,r,"internal-error");const d=Sp(c.idToken);Ee(d,r,"internal-error");const{sub:p}=d;return Ee(i.uid===p,r,"user-mismatch"),aa._forOperation(i,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&cs(r,"user-mismatch"),c}}async function C0(i,e,n=!1){if(Qn(i.app))return Promise.reject(fi(i));const r="signIn",l=await R0(i,r,e),c=await aa._fromIdTokenResponse(i,r,l);return n||await i._updateCurrentUser(c.user),c}async function ER(i,e){return C0(ca(i),e)}async function I0(i){const e=ca(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function j0(i,e,n){if(Qn(i.app))return Promise.reject(fi(i));const r=ca(i),d=await Hm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yR).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&I0(i),g}),p=await aa._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function TR(i,e,n){return Qn(i.app)?Promise.reject(fi(i)):ER(Lt(i),xl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&I0(i),r})}function bR(i,e,n,r){return Lt(i).onIdTokenChanged(e,n,r)}function AR(i,e,n){return Lt(i).beforeAuthStateChanged(e,n)}function SR(i,e,n,r){return Lt(i).onAuthStateChanged(e,n,r)}function wR(i){return Lt(i).signOut()}const xh="__sak";class D0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const xR=1e3,NR=10;class O0 extends D0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=b0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&e(n,l,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);G1()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,NR):l()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},xR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}O0.type="LOCAL";const RR=O0;class M0 extends D0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}M0.type="SESSION";const V0=M0;function CR(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Fh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const r=new Fh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async y=>y(n.origin,c)),g=await CR(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fh.receivers=[];function Rp(i="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return i+n}class IR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,g)=>{const y=Rp("",20);l.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(b){const N=b;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(N.data.response);break;default:clearTimeout(T),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ps(){return window}function jR(i){Ps().location.href=i}function P0(){return typeof Ps().WorkerGlobalScope<"u"&&typeof Ps().importScripts=="function"}async function DR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OR(){return navigator?.serviceWorker?.controller||null}function MR(){return P0()?self:null}const k0="firebaseLocalStorageDb",VR=1,Nh="firebaseLocalStorage",L0="fbase_key";class vc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hh(i,e){return i.transaction([Nh],e?"readwrite":"readonly").objectStore(Nh)}function PR(){const i=indexedDB.deleteDatabase(k0);return new vc(i).toPromise()}function Gm(){const i=indexedDB.open(k0,VR);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(Nh,{keyPath:L0})}catch(l){n(l)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(Nh)?e(r):(r.close(),await PR(),e(await Gm()))})})}async function bE(i,e,n){const r=Hh(i,!0).put({[L0]:e,value:n});return new vc(r).toPromise()}async function kR(i,e){const n=Hh(i,!1).get(e),r=await new vc(n).toPromise();return r===void 0?null:r.value}function AE(i,e){const n=Hh(i,!0).delete(e);return new vc(n).toPromise()}const LR=800,UR=3;class U0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>UR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return P0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fh._getInstance(MR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await DR(),!this.activeServiceWorker)return;this.sender=new IR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gm();return await bE(e,xh,"1"),await AE(e,xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>bE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>kR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>AE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Hh(l,!1).getAll();return new vc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}U0.type="LOCAL";const zR=U0;new pc(3e4,6e4);function BR(i,e){return e?hi(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Cp extends xp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return dl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return dl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qR(i){return C0(i.auth,new Cp(i),i.bypassAuthState)}function FR(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),_R(n,new Cp(i),i.bypassAuthState)}async function HR(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),vR(n,new Cp(i),i.bypassAuthState)}class z0{constructor(e,n,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qR;case"linkViaPopup":case"linkViaRedirect":return HR;case"reauthViaPopup":case"reauthViaRedirect":return FR;default:cs(this.auth,"internal-error")}}resolve(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const GR=new pc(2e3,1e4);class cl extends z0{constructor(e,n,r,l,c){super(e,n,l,c),this.provider=r,this.authWindow=null,this.pollId=null,cl.currentPopupAction&&cl.currentPopupAction.cancel(),cl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){yi(this.filter.length===1,"Popup operations only handle one event");const e=Rp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Vs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GR.get())};e()}}cl.currentPopupAction=null;const QR="pendingRedirect",hh=new Map;class YR extends z0{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=hh.get(this.auth._key());if(!e){try{const r=await KR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}hh.set(this.auth._key(),e)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KR(i,e){const n=WR(e),r=XR(i);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function $R(i,e){hh.set(i._key(),e)}function XR(i){return hi(i._redirectPersistence)}function WR(i){return uh(QR,i.config.apiKey,i.name)}async function JR(i,e,n=!1){if(Qn(i.app))return Promise.reject(fi(i));const r=ca(i),l=BR(r,e),d=await new YR(r,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const ZR=600*1e3;class eC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!B0(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Vs(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZR&&this.cachedEventUids.clear(),this.cachedEventUids.has(SE(e))}saveEventToCache(e){this.cachedEventUids.add(SE(e)),this.lastProcessedEventTime=Date.now()}}function SE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function B0({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function tC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return B0(i);default:return!1}}async function nC(i,e={}){return vr(i,"GET","/v1/projects",e)}const sC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iC=/^https?/;async function rC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await nC(i);for(const n of e)try{if(aC(n))return}catch{}cs(i,"unauthorized-domain")}function aC(i){const e=qm(),{protocol:n,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&r===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!iC.test(n))return!1;if(sC.test(i))return r===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const lC=new pc(3e4,6e4);function wE(){const i=Ps().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function oC(i){return new Promise((e,n)=>{function r(){wE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wE(),n(Vs(i,"network-request-failed"))},timeout:lC.get()})}if(Ps().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ps().gapi?.load)r();else{const l=eR("iframefcb");return Ps()[l]=()=>{gapi.load?r():n(Vs(i,"network-request-failed"))},S0(`${Z1()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw dh=null,e})}let dh=null;function cC(i){return dh=dh||oC(i),dh}const uC=new pc(5e3,15e3),hC="__/auth/iframe",dC="emulator/auth/iframe",fC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pC(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Ap(e,dC):`https://${i.config.authDomain}/${hC}`,r={apiKey:e.apiKey,appName:i.name,v:wl},l=mC.get(i.config.apiHost);l&&(r.eid=l);const c=i._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${mc(r).slice(1)}`}async function gC(i){const e=await cC(i),n=Ps().gapi;return Ee(n,i,"internal-error"),e.open({where:document.body,url:pC(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fC,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Vs(i,"network-request-failed"),p=Ps().setTimeout(()=>{c(d)},uC.get());function g(){Ps().clearTimeout(p),l(r)}r.ping(g).then(g,()=>{c(d)})}))}const yC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vC=500,_C=600,EC="_blank",TC="http://localhost";class xE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bC(i,e,n,r=vC,l=_C){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...yC,width:r.toString(),height:l.toString(),top:c,left:d},y=rn().toLowerCase();n&&(p=y0(y)?EC:n),p0(y)&&(e=e||TC,g.scrollbars="yes");const T=Object.entries(g).reduce((N,[I,O])=>`${N}${I}=${O},`,"");if(H1(y)&&p!=="_self")return AC(e||"",p),new xE(null);const b=window.open(e||"",p,T);Ee(b,i,"popup-blocked");try{b.focus()}catch{}return new xE(b)}function AC(i,e){const n=document.createElement("a");n.href=i,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const SC="__/auth/handler",wC="emulator/auth/handler",xC=encodeURIComponent("fac");async function NE(i,e,n,r,l,c){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:r,v:wl,eventId:l};if(e instanceof N0){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",dN(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))d[T]=b}if(e instanceof yc){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(d.scopes=T.join(","))}i.tenantId&&(d.tid=i.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const g=await i._getAppCheckToken(),y=g?`#${xC}=${encodeURIComponent(g)}`:"";return`${NC(i)}?${mc(p).slice(1)}${y}`}function NC({config:i}){return i.emulator?Ap(i,wC):`https://${i.authDomain}/${SC}`}const Nm="webStorageSupport";class RC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=V0,this._completeRedirectFn=JR,this._overrideRedirectResult=$R}async _openPopup(e,n,r,l){yi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await NE(e,n,r,qm(),l);return bC(e,c,Rp())}async _openRedirect(e,n,r,l){await this._originValidation(e);const c=await NE(e,n,r,qm(),l);return jR(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(yi(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await gC(e),r=new eC(e);return n.register("authEvent",l=>(Ee(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nm,{type:Nm},l=>{const c=l?.[0]?.[Nm];c!==void 0&&n(!!c),cs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return b0()||g0()||wp()}}const CC=RC;var RE="@firebase/auth",CE="1.11.1";class IC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function jC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DC(i){ml(new ia("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;Ee(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:p,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A0(i)},y=new X1(r,l,c,g);return aR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ml(new ia("auth-internal",e=>{const n=ca(e.getProvider("auth").getImmediate());return(r=>new IC(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(RE,CE,jC(i)),or(RE,CE,"esm2020")}const OC=300,MC=ZT("authIdTokenMaxAge")||OC;let IE=null;const VC=i=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>MC)return;const l=n?.token;IE!==l&&(IE=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function q0(i=i0()){const e=Ep(i,"auth");if(e.isInitialized())return e.getImmediate();const n=rR(i,{popupRedirectResolver:CC,persistence:[zR,RR,V0]}),r=ZT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=VC(c.toString());AR(n,d,()=>d(n.currentUser)),bR(n,p=>d(p))}}const l=WT("auth");return l&&lR(n,`http://${l}`),n}function PC(){return document.getElementsByTagName("head")?.[0]??document}W1({loadJS(i){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=l=>{const c=Vs("internal-error");c.customData=l,n(c)},r.type="text/javascript",r.charset="UTF-8",PC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DC("Browser");var kC="firebase",LC="12.6.0";or(kC,LC,"app");var jE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cr,F0;(function(){var i;function e(R,S){function C(){}C.prototype=S.prototype,R.F=S.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(L,x,P){for(var j=Array(arguments.length-2),We=2;We<arguments.length;We++)j[We-2]=arguments[We];return S.prototype[x].apply(L,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(R,S,C){C||(C=0);const L=Array(16);if(typeof S=="string")for(var x=0;x<16;++x)L[x]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(x=0;x<16;++x)L[x]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=R.g[0],C=R.g[1],x=R.g[2];let P=R.g[3],j;j=S+(P^C&(x^P))+L[0]+3614090360&4294967295,S=C+(j<<7&4294967295|j>>>25),j=P+(x^S&(C^x))+L[1]+3905402710&4294967295,P=S+(j<<12&4294967295|j>>>20),j=x+(C^P&(S^C))+L[2]+606105819&4294967295,x=P+(j<<17&4294967295|j>>>15),j=C+(S^x&(P^S))+L[3]+3250441966&4294967295,C=x+(j<<22&4294967295|j>>>10),j=S+(P^C&(x^P))+L[4]+4118548399&4294967295,S=C+(j<<7&4294967295|j>>>25),j=P+(x^S&(C^x))+L[5]+1200080426&4294967295,P=S+(j<<12&4294967295|j>>>20),j=x+(C^P&(S^C))+L[6]+2821735955&4294967295,x=P+(j<<17&4294967295|j>>>15),j=C+(S^x&(P^S))+L[7]+4249261313&4294967295,C=x+(j<<22&4294967295|j>>>10),j=S+(P^C&(x^P))+L[8]+1770035416&4294967295,S=C+(j<<7&4294967295|j>>>25),j=P+(x^S&(C^x))+L[9]+2336552879&4294967295,P=S+(j<<12&4294967295|j>>>20),j=x+(C^P&(S^C))+L[10]+4294925233&4294967295,x=P+(j<<17&4294967295|j>>>15),j=C+(S^x&(P^S))+L[11]+2304563134&4294967295,C=x+(j<<22&4294967295|j>>>10),j=S+(P^C&(x^P))+L[12]+1804603682&4294967295,S=C+(j<<7&4294967295|j>>>25),j=P+(x^S&(C^x))+L[13]+4254626195&4294967295,P=S+(j<<12&4294967295|j>>>20),j=x+(C^P&(S^C))+L[14]+2792965006&4294967295,x=P+(j<<17&4294967295|j>>>15),j=C+(S^x&(P^S))+L[15]+1236535329&4294967295,C=x+(j<<22&4294967295|j>>>10),j=S+(x^P&(C^x))+L[1]+4129170786&4294967295,S=C+(j<<5&4294967295|j>>>27),j=P+(C^x&(S^C))+L[6]+3225465664&4294967295,P=S+(j<<9&4294967295|j>>>23),j=x+(S^C&(P^S))+L[11]+643717713&4294967295,x=P+(j<<14&4294967295|j>>>18),j=C+(P^S&(x^P))+L[0]+3921069994&4294967295,C=x+(j<<20&4294967295|j>>>12),j=S+(x^P&(C^x))+L[5]+3593408605&4294967295,S=C+(j<<5&4294967295|j>>>27),j=P+(C^x&(S^C))+L[10]+38016083&4294967295,P=S+(j<<9&4294967295|j>>>23),j=x+(S^C&(P^S))+L[15]+3634488961&4294967295,x=P+(j<<14&4294967295|j>>>18),j=C+(P^S&(x^P))+L[4]+3889429448&4294967295,C=x+(j<<20&4294967295|j>>>12),j=S+(x^P&(C^x))+L[9]+568446438&4294967295,S=C+(j<<5&4294967295|j>>>27),j=P+(C^x&(S^C))+L[14]+3275163606&4294967295,P=S+(j<<9&4294967295|j>>>23),j=x+(S^C&(P^S))+L[3]+4107603335&4294967295,x=P+(j<<14&4294967295|j>>>18),j=C+(P^S&(x^P))+L[8]+1163531501&4294967295,C=x+(j<<20&4294967295|j>>>12),j=S+(x^P&(C^x))+L[13]+2850285829&4294967295,S=C+(j<<5&4294967295|j>>>27),j=P+(C^x&(S^C))+L[2]+4243563512&4294967295,P=S+(j<<9&4294967295|j>>>23),j=x+(S^C&(P^S))+L[7]+1735328473&4294967295,x=P+(j<<14&4294967295|j>>>18),j=C+(P^S&(x^P))+L[12]+2368359562&4294967295,C=x+(j<<20&4294967295|j>>>12),j=S+(C^x^P)+L[5]+4294588738&4294967295,S=C+(j<<4&4294967295|j>>>28),j=P+(S^C^x)+L[8]+2272392833&4294967295,P=S+(j<<11&4294967295|j>>>21),j=x+(P^S^C)+L[11]+1839030562&4294967295,x=P+(j<<16&4294967295|j>>>16),j=C+(x^P^S)+L[14]+4259657740&4294967295,C=x+(j<<23&4294967295|j>>>9),j=S+(C^x^P)+L[1]+2763975236&4294967295,S=C+(j<<4&4294967295|j>>>28),j=P+(S^C^x)+L[4]+1272893353&4294967295,P=S+(j<<11&4294967295|j>>>21),j=x+(P^S^C)+L[7]+4139469664&4294967295,x=P+(j<<16&4294967295|j>>>16),j=C+(x^P^S)+L[10]+3200236656&4294967295,C=x+(j<<23&4294967295|j>>>9),j=S+(C^x^P)+L[13]+681279174&4294967295,S=C+(j<<4&4294967295|j>>>28),j=P+(S^C^x)+L[0]+3936430074&4294967295,P=S+(j<<11&4294967295|j>>>21),j=x+(P^S^C)+L[3]+3572445317&4294967295,x=P+(j<<16&4294967295|j>>>16),j=C+(x^P^S)+L[6]+76029189&4294967295,C=x+(j<<23&4294967295|j>>>9),j=S+(C^x^P)+L[9]+3654602809&4294967295,S=C+(j<<4&4294967295|j>>>28),j=P+(S^C^x)+L[12]+3873151461&4294967295,P=S+(j<<11&4294967295|j>>>21),j=x+(P^S^C)+L[15]+530742520&4294967295,x=P+(j<<16&4294967295|j>>>16),j=C+(x^P^S)+L[2]+3299628645&4294967295,C=x+(j<<23&4294967295|j>>>9),j=S+(x^(C|~P))+L[0]+4096336452&4294967295,S=C+(j<<6&4294967295|j>>>26),j=P+(C^(S|~x))+L[7]+1126891415&4294967295,P=S+(j<<10&4294967295|j>>>22),j=x+(S^(P|~C))+L[14]+2878612391&4294967295,x=P+(j<<15&4294967295|j>>>17),j=C+(P^(x|~S))+L[5]+4237533241&4294967295,C=x+(j<<21&4294967295|j>>>11),j=S+(x^(C|~P))+L[12]+1700485571&4294967295,S=C+(j<<6&4294967295|j>>>26),j=P+(C^(S|~x))+L[3]+2399980690&4294967295,P=S+(j<<10&4294967295|j>>>22),j=x+(S^(P|~C))+L[10]+4293915773&4294967295,x=P+(j<<15&4294967295|j>>>17),j=C+(P^(x|~S))+L[1]+2240044497&4294967295,C=x+(j<<21&4294967295|j>>>11),j=S+(x^(C|~P))+L[8]+1873313359&4294967295,S=C+(j<<6&4294967295|j>>>26),j=P+(C^(S|~x))+L[15]+4264355552&4294967295,P=S+(j<<10&4294967295|j>>>22),j=x+(S^(P|~C))+L[6]+2734768916&4294967295,x=P+(j<<15&4294967295|j>>>17),j=C+(P^(x|~S))+L[13]+1309151649&4294967295,C=x+(j<<21&4294967295|j>>>11),j=S+(x^(C|~P))+L[4]+4149444226&4294967295,S=C+(j<<6&4294967295|j>>>26),j=P+(C^(S|~x))+L[11]+3174756917&4294967295,P=S+(j<<10&4294967295|j>>>22),j=x+(S^(P|~C))+L[2]+718787259&4294967295,x=P+(j<<15&4294967295|j>>>17),j=C+(P^(x|~S))+L[9]+3951481745&4294967295,R.g[0]=R.g[0]+S&4294967295,R.g[1]=R.g[1]+(x+(j<<21&4294967295|j>>>11))&4294967295,R.g[2]=R.g[2]+x&4294967295,R.g[3]=R.g[3]+P&4294967295}r.prototype.v=function(R,S){S===void 0&&(S=R.length);const C=S-this.blockSize,L=this.C;let x=this.h,P=0;for(;P<S;){if(x==0)for(;P<=C;)l(this,R,P),P+=this.blockSize;if(typeof R=="string"){for(;P<S;)if(L[x++]=R.charCodeAt(P++),x==this.blockSize){l(this,L),x=0;break}}else for(;P<S;)if(L[x++]=R[P++],x==this.blockSize){l(this,L),x=0;break}}this.h=x,this.o+=S},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var S=1;S<R.length-8;++S)R[S]=0;S=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=S&255,S/=256;for(this.v(R),R=Array(16),S=0,C=0;C<4;++C)for(let L=0;L<32;L+=8)R[S++]=this.g[C]>>>L&255;return R};function c(R,S){var C=p;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=S(R)}function d(R,S){this.h=S;const C=[];let L=!0;for(let x=R.length-1;x>=0;x--){const P=R[x]|0;L&&P==S||(C[x]=P,L=!1)}this.g=C}var p={};function g(R){return-128<=R&&R<128?c(R,function(S){return new d([S|0],S<0?-1:0)}):new d([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return b;if(R<0)return z(y(-R));const S=[];let C=1;for(let L=0;R>=C;L++)S[L]=R/C|0,C*=4294967296;return new d(S,0)}function T(R,S){if(R.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(R.charAt(0)=="-")return z(T(R.substring(1),S));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(S,8));let L=b;for(let P=0;P<R.length;P+=8){var x=Math.min(8,R.length-P);const j=parseInt(R.substring(P,P+x),S);x<8?(x=y(Math.pow(S,x)),L=L.j(x).add(y(j))):(L=L.j(C),L=L.add(y(j)))}return L}var b=g(0),N=g(1),I=g(16777216);i=d.prototype,i.m=function(){if(Q(this))return-z(this).m();let R=0,S=1;for(let C=0;C<this.g.length;C++){const L=this.i(C);R+=(L>=0?L:4294967296+L)*S,S*=4294967296}return R},i.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(O(this))return"0";if(Q(this))return"-"+z(this).toString(R);const S=y(Math.pow(R,6));var C=this;let L="";for(;;){const x=de(C,S).g;C=J(C,x.j(S));let P=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=x,O(C))return P+L;for(;P.length<6;)P="0"+P;L=P+L}},i.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function O(R){if(R.h!=0)return!1;for(let S=0;S<R.g.length;S++)if(R.g[S]!=0)return!1;return!0}function Q(R){return R.h==-1}i.l=function(R){return R=J(this,R),Q(R)?-1:O(R)?0:1};function z(R){const S=R.g.length,C=[];for(let L=0;L<S;L++)C[L]=~R.g[L];return new d(C,~R.h).add(N)}i.abs=function(){return Q(this)?z(this):this},i.add=function(R){const S=Math.max(this.g.length,R.g.length),C=[];let L=0;for(let x=0;x<=S;x++){let P=L+(this.i(x)&65535)+(R.i(x)&65535),j=(P>>>16)+(this.i(x)>>>16)+(R.i(x)>>>16);L=j>>>16,P&=65535,j&=65535,C[x]=j<<16|P}return new d(C,C[C.length-1]&-2147483648?-1:0)};function J(R,S){return R.add(z(S))}i.j=function(R){if(O(this)||O(R))return b;if(Q(this))return Q(R)?z(this).j(z(R)):z(z(this).j(R));if(Q(R))return z(this.j(z(R)));if(this.l(I)<0&&R.l(I)<0)return y(this.m()*R.m());const S=this.g.length+R.g.length,C=[];for(var L=0;L<2*S;L++)C[L]=0;for(L=0;L<this.g.length;L++)for(let x=0;x<R.g.length;x++){const P=this.i(L)>>>16,j=this.i(L)&65535,We=R.i(x)>>>16,ht=R.i(x)&65535;C[2*L+2*x]+=j*ht,ee(C,2*L+2*x),C[2*L+2*x+1]+=P*ht,ee(C,2*L+2*x+1),C[2*L+2*x+1]+=j*We,ee(C,2*L+2*x+1),C[2*L+2*x+2]+=P*We,ee(C,2*L+2*x+2)}for(R=0;R<S;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=S;R<2*S;R++)C[R]=0;return new d(C,0)};function ee(R,S){for(;(R[S]&65535)!=R[S];)R[S+1]+=R[S]>>>16,R[S]&=65535,S++}function K(R,S){this.g=R,this.h=S}function de(R,S){if(O(S))throw Error("division by zero");if(O(R))return new K(b,b);if(Q(R))return S=de(z(R),S),new K(z(S.g),z(S.h));if(Q(S))return S=de(R,z(S)),new K(z(S.g),S.h);if(R.g.length>30){if(Q(R)||Q(S))throw Error("slowDivide_ only works with positive integers.");for(var C=N,L=S;L.l(R)<=0;)C=ve(C),L=ve(L);var x=B(C,1),P=B(L,1);for(L=B(L,2),C=B(C,2);!O(L);){var j=P.add(L);j.l(R)<=0&&(x=x.add(C),P=j),L=B(L,1),C=B(C,1)}return S=J(R,x.j(S)),new K(x,S)}for(x=b;R.l(S)>=0;){for(C=Math.max(1,Math.floor(R.m()/S.m())),L=Math.ceil(Math.log(C)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),P=y(C),j=P.j(S);Q(j)||j.l(R)>0;)C-=L,P=y(C),j=P.j(S);O(P)&&(P=N),x=x.add(P),R=J(R,j)}return new K(x,R)}i.B=function(R){return de(this,R).h},i.and=function(R){const S=Math.max(this.g.length,R.g.length),C=[];for(let L=0;L<S;L++)C[L]=this.i(L)&R.i(L);return new d(C,this.h&R.h)},i.or=function(R){const S=Math.max(this.g.length,R.g.length),C=[];for(let L=0;L<S;L++)C[L]=this.i(L)|R.i(L);return new d(C,this.h|R.h)},i.xor=function(R){const S=Math.max(this.g.length,R.g.length),C=[];for(let L=0;L<S;L++)C[L]=this.i(L)^R.i(L);return new d(C,this.h^R.h)};function ve(R){const S=R.g.length+1,C=[];for(let L=0;L<S;L++)C[L]=R.i(L)<<1|R.i(L-1)>>>31;return new d(C,R.h)}function B(R,S){const C=S>>5;S%=32;const L=R.g.length-C,x=[];for(let P=0;P<L;P++)x[P]=S>0?R.i(P+C)>>>S|R.i(P+C+1)<<32-S:R.i(P+C);return new d(x,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,F0=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,cr=d}).apply(typeof jE<"u"?jE:typeof self<"u"?self:typeof window<"u"?window:{});var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var H0,qo,G0,fh,Qm,Q0,Y0,K0;(function(){var i,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof nh=="object"&&nh];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function l(h,v){if(v)e:{var E=r;h=h.split(".");for(var w=0;w<h.length-1;w++){var q=h[w];if(!(q in E))break e;E=E[q]}h=h[h.length-1],w=E[h],v=v(w),v!=w&&v!=null&&e(E,h,{configurable:!0,writable:!0,value:v})}}l("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(h){return h||function(v){var E=[],w;for(w in v)Object.prototype.hasOwnProperty.call(v,w)&&E.push([w,v[w]]);return E}});var c=c||{},d=this||self;function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function g(h,v,E){return h.call.apply(h.bind,arguments)}function y(h,v,E){return y=g,y.apply(null,arguments)}function T(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function b(h,v){function E(){}E.prototype=v.prototype,h.Z=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(w,q,Y){for(var re=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)re[Ne-2]=arguments[Ne];return v.prototype[q].apply(w,re)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function I(h){const v=h.length;if(v>0){const E=Array(v);for(let w=0;w<v;w++)E[w]=h[w];return E}return[]}function O(h,v){for(let w=1;w<arguments.length;w++){const q=arguments[w];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=h.length||0;const Y=q.length||0;h.length=E+Y;for(let re=0;re<Y;re++)h[E+re]=q[re]}else h.push(q)}}class Q{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function z(h){d.setTimeout(()=>{throw h},0)}function J(){var h=R;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class ee{constructor(){this.h=this.g=null}add(v,E){const w=K.get();w.set(v,E),this.h?this.h.next=w:this.g=w,this.h=w}}var K=new Q(()=>new de,h=>h.reset());class de{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,B=!1,R=new ee,S=()=>{const h=Promise.resolve(void 0);ve=()=>{h.then(C)}};function C(){for(var h;h=J();){try{h.h.call(h.g)}catch(E){z(E)}var v=K;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}B=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};d.addEventListener("test",E,v),d.removeEventListener("test",E,v)}catch{}return h})();function j(h){return/^[\s\xa0]*$/.test(h)}function We(h,v){x.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}b(We,x),We.prototype.init=function(h,v){const E=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&We.Z.h.call(this)},We.prototype.h=function(){We.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ht="closure_listenable_"+(Math.random()*1e6|0),X=0;function ae(h,v,E,w,q){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!w,this.ha=q,this.key=++X,this.da=this.fa=!1}function pe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function oe(h,v,E){for(const w in h)v.call(E,h[w],w,h)}function je(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function V(h){const v={};for(const E in h)v[E]=h[E];return v}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(h,v){let E,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(E in w)h[E]=w[E];for(let Y=0;Y<se.length;Y++)E=se[Y],Object.prototype.hasOwnProperty.call(w,E)&&(h[E]=w[E])}}function he(h){this.src=h,this.g={},this.h=0}he.prototype.add=function(h,v,E,w,q){const Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);const re=Ce(h,v,w,q);return re>-1?(v=h[re],E||(v.fa=!1)):(v=new ae(v,this.src,Y,!!w,q),v.fa=E,h.push(v)),v};function be(h,v){const E=v.type;if(E in h.g){var w=h.g[E],q=Array.prototype.indexOf.call(w,v,void 0),Y;(Y=q>=0)&&Array.prototype.splice.call(w,q,1),Y&&(pe(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Ce(h,v,E,w){for(let q=0;q<h.length;++q){const Y=h[q];if(!Y.da&&Y.listener==v&&Y.capture==!!E&&Y.ha==w)return q}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),Mt={};function lt(h,v,E,w,q){if(Array.isArray(v)){for(let Y=0;Y<v.length;Y++)lt(h,v[Y],E,w,q);return null}return E=Ml(E),h&&h[ht]?h.J(v,E,p(w)?!!w.capture:!1,q):br(h,v,E,!1,w,q)}function br(h,v,E,w,q,Y){if(!v)throw Error("Invalid event type");const re=p(q)?!!q.capture:!!q;let Ne=Ar(h);if(Ne||(h[ze]=Ne=new he(h)),E=Ne.add(v,E,w,re,Y),E.proxy)return E;if(w=ma(),E.proxy=w,w.src=h,w.listener=E,h.addEventListener)P||(q=re),q===void 0&&(q=!1),h.addEventListener(v.toString(),w,q);else if(h.attachEvent)h.attachEvent(ds(v.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ma(){function h(E){return v.call(h.src,h.listener,E)}const v=Dl;return h}function pa(h,v,E,w,q){if(Array.isArray(v))for(var Y=0;Y<v.length;Y++)pa(h,v[Y],E,w,q);else w=p(w)?!!w.capture:!!w,E=Ml(E),h&&h[ht]?(h=h.i,Y=String(v).toString(),Y in h.g&&(v=h.g[Y],E=Ce(v,E,w,q),E>-1&&(pe(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete h.g[Y],h.h--)))):h&&(h=Ar(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Ce(v,E,w,q)),(E=h>-1?v[h]:null)&&ga(E))}function ga(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[ht])be(v.i,h);else{var E=h.type,w=h.proxy;v.removeEventListener?v.removeEventListener(E,w,h.capture):v.detachEvent?v.detachEvent(ds(E),w):v.addListener&&v.removeListener&&v.removeListener(w),(E=Ar(v))?(be(E,h),E.h==0&&(E.src=null,v[ze]=null)):pe(h)}}}function ds(h){return h in Mt?Mt[h]:Mt[h]="on"+h}function Dl(h,v){if(h.da)h=!0;else{v=new We(v,this);const E=h.listener,w=h.ha||h.src;h.fa&&ga(h),h=E.call(w,v)}return h}function Ar(h){return h=h[ze],h instanceof he?h:null}var Ol="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ml(h){return typeof h=="function"?h:(h[Ol]||(h[Ol]=function(v){return h.handleEvent(v)}),h[Ol])}function bt(){L.call(this),this.i=new he(this),this.M=this,this.G=null}b(bt,L),bt.prototype[ht]=!0,bt.prototype.removeEventListener=function(h,v,E,w){pa(this,h,v,E,w)};function Vt(h,v){var E,w=h.G;if(w)for(E=[];w;w=w.G)E.push(w);if(h=h.M,w=v.type||v,typeof v=="string")v=new x(v,h);else if(v instanceof x)v.target=v.target||h;else{var q=v;v=new x(w,h),le(v,q)}q=!0;let Y,re;if(E)for(re=E.length-1;re>=0;re--)Y=v.g=E[re],q=bi(Y,w,!0,v)&&q;if(Y=v.g=h,q=bi(Y,w,!0,v)&&q,q=bi(Y,w,!1,v)&&q,E)for(re=0;re<E.length;re++)Y=v.g=E[re],q=bi(Y,w,!1,v)&&q}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const E=h.g[v];for(let w=0;w<E.length;w++)pe(E[w]);delete h.g[v],h.h--}}this.G=null},bt.prototype.J=function(h,v,E,w){return this.i.add(String(h),v,!1,E,w)},bt.prototype.K=function(h,v,E,w){return this.i.add(String(h),v,!0,E,w)};function bi(h,v,E,w){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let q=!0;for(let Y=0;Y<v.length;++Y){const re=v[Y];if(re&&!re.da&&re.capture==E){const Ne=re.listener,vt=re.ha||re.src;re.fa&&be(h.i,re),q=Ne.call(vt,w)!==!1&&q}}return q&&!w.defaultPrevented}function md(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:d.setTimeout(h,v||0)}function wc(h){h.g=md(()=>{h.g=null,h.i&&(h.i=!1,wc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class an extends L{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:wc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sr(h){L.call(this),this.h=h,this.g={}}b(Sr,L);var Vl=[];function Pl(h){oe(h.g,function(v,E){this.g.hasOwnProperty(E)&&ga(v)},h),h.g={}}Sr.prototype.N=function(){Sr.Z.N.call(this),Pl(this)},Sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ai=d.JSON.stringify,pd=d.JSON.parse,xc=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Nc(){}function Rc(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gt(){x.call(this,"d")}b(Gt,x);function On(){x.call(this,"c")}b(On,x);var yt={},Cc=null;function ya(){return Cc=Cc||new bt}yt.Ia="serverreachability";function Ic(h){x.call(this,yt.Ia,h)}b(Ic,x);function fs(h){const v=ya();Vt(v,new Ic(v))}yt.STAT_EVENT="statevent";function wr(h,v){x.call(this,yt.STAT_EVENT,h),this.stat=v}b(wr,x);function At(h){const v=ya();Vt(v,new wr(v,h))}yt.Ja="timingevent";function ms(h,v){x.call(this,yt.Ja,h),this.size=v}b(ms,x);function ps(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function gd(h,v,E,w,q,Y){h.info(function(){if(h.g)if(Y){var re="",Ne=Y.split("&");for(let Ge=0;Ge<Ne.length;Ge++){var vt=Ne[Ge].split("=");if(vt.length>1){const ot=vt[0];vt=vt[1];const kn=ot.split("_");re=kn.length>=2&&kn[1]=="type"?re+(ot+"="+vt+"&"):re+(ot+"=redacted&")}}}else re=null;else re=Y;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+v+`
`+E+`
`+re})}function jc(h,v,E,w,q,Y,re){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+v+`
`+E+`
`+Y+" "+re})}function gs(h,v,E,w){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+yd(h,E)+(w?" "+w:"")})}function xr(h,v){h.info(function(){return"TIMEOUT: "+v})}Wn.prototype.info=function(){};function yd(h,v){if(!h.g)return v;if(!v)return null;try{const Y=JSON.parse(v);if(Y){for(h=0;h<Y.length;h++)if(Array.isArray(Y[h])){var E=Y[h];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var q=w[0];if(q!="noop"&&q!="stop"&&q!="close")for(let re=1;re<w.length;re++)w[re]=""}}}}return Ai(Y)}catch{return v}}var Nr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},kl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ll;function Rr(){}b(Rr,Nc),Rr.prototype.g=function(){return new XMLHttpRequest},Ll=new Rr;function Hs(h){return encodeURIComponent(String(h))}function Dc(h){var v=1;h=h.split(":");const E=[];for(;v>0&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function Jn(h,v,E,w){this.j=h,this.i=v,this.l=E,this.S=w||1,this.V=new Sr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var St={},zt={};function ys(h,v,E){h.M=1,h.A=Cr(xt(v)),h.u=E,h.R=!0,va(h,null)}function va(h,v){h.F=Date.now(),vs(h),h.B=xt(h.A);var E=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),ba(E.i,"t",w),h.C=0,E=h.j.L,h.h=new Zn,h.g=Yc(h.j,E?v:null,!h.u),h.P>0&&(h.O=new an(y(h.Y,h,h.g),h.P)),v=h.V,E=h.g,w=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(Vl[0]=q.toString()),q=Vl);for(let Y=0;Y<q.length;Y++){const re=lt(E,q[Y],w||v.handleEvent,!1,v.h||v);if(!re)break;v.g[re.key]=re}v=h.J?V(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),fs(),gd(h.i,h.v,h.B,h.l,h.S,h.u)}Jn.prototype.ba=function(h){h=h.target;const v=this.O;v&&ns(h)==3?v.j():this.Y(h)},Jn.prototype.Y=function(h){try{if(h==this.g)e:{const Ne=ns(this.g),vt=this.g.ya(),Ge=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Qt(this.g)))){this.K||Ne!=4||vt==7||(vt==8||Ge<=0?fs(3):fs(2)),_s(this);var v=this.g.ca();this.X=v;var E=vd(this);if(this.o=v==200,jc(this.i,this.v,this.B,this.l,this.S,Ne,v),this.o){if(this.U&&!this.L){t:{if(this.g){var w,q=this.g;if((w=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(w)){var Y=w;break t}}Y=null}if(h=Y)gs(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Es(this,h);else{this.o=!1,this.m=3,At(12),bn(this),Mn(this);break e}}if(this.R){h=!0;let ot;for(;!this.K&&this.C<E.length;)if(ot=Mc(this,E),ot==zt){Ne==4&&(this.m=4,At(14),h=!1),gs(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==St){this.m=4,At(15),gs(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else gs(this.i,this.l,ot,null),Es(this,ot);if(Oc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||E.length!=0||this.h.h||(this.m=1,At(16),h=!1),this.o=this.o&&h,!h)gs(this.i,this.l,E,"[Invalid Chunked Response]"),bn(this),Mn(this);else if(E.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Zl(re),re.P=!0,At(11))}}else gs(this.i,this.l,E,null),Es(this,E);Ne==4&&bn(this),this.o&&!this.K&&(Ne==4?Fc(this.j,this):(this.o=!1,vs(this)))}else Qs(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),bn(this),Mn(this)}}}catch{}finally{}};function vd(h){if(!Oc(h))return h.g.la();const v=Qt(h.g);if(v==="")return"";let E="";const w=v.length,q=ns(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return bn(h),Mn(h),"";h.h.i=new d.TextDecoder}for(let Y=0;Y<w;Y++)h.h.h=!0,E+=h.h.i.decode(v[Y],{stream:!(q&&Y==w-1)});return v.length=0,h.h.g+=E,h.C=0,h.h.g}function Oc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Mc(h,v){var E=h.C,w=v.indexOf(`
`,E);return w==-1?zt:(E=Number(v.substring(E,w)),isNaN(E)?St:(w+=1,w+E>v.length?zt:(v=v.slice(w,w+E),h.C=w+E,v)))}Jn.prototype.cancel=function(){this.K=!0,bn(this)};function vs(h){h.T=Date.now()+h.H,_a(h,h.H)}function _a(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=ps(y(h.aa,h),v)}function _s(h){h.D&&(d.clearTimeout(h.D),h.D=null)}Jn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(xr(this.i,this.B),this.M!=2&&(fs(),At(17)),bn(this),this.m=2,Mn(this)):_a(this,this.T-h)};function Mn(h){h.j.I==0||h.K||Fc(h.j,h)}function bn(h){_s(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,Pl(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Es(h,v){try{var E=h.j;if(E.I!=0&&(E.g==h||bs(E.h,h))){if(!h.L&&bs(E.h,h)&&E.I==3){try{var w=E.Ba.g.parse(v)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Na(E),ji(E);else break e;Pr(E),At(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=ps(y(E.Va,E),6e3));Ts(E.h)<=1&&E.ta&&(E.ta=void 0)}else Rs(E,11)}else if((h.L||E.g==h)&&Na(E),!j(v))for(q=E.Ba.g.parse(v),v=0;v<q.length;v++){let Ge=q[v];const ot=Ge[0];if(!(ot<=E.K))if(E.K=ot,Ge=Ge[1],E.I==2)if(Ge[0]=="c"){E.M=Ge[1],E.ba=Ge[2];const kn=Ge[3];kn!=null&&(E.ka=kn,E.j.info("VER="+E.ka));const Cs=Ge[4];Cs!=null&&(E.za=Cs,E.j.info("SVER="+E.za));const ss=Ge[5];ss!=null&&typeof ss=="number"&&ss>0&&(w=1.5*ss,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const is=h.g;if(is){const kr=is.g?is.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kr){var Y=w.h;Y.g||kr.indexOf("spdy")==-1&&kr.indexOf("quic")==-1&&kr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Bl(Y,Y.h),Y.h=null))}if(w.G){const Ra=is.g?is.g.getResponseHeader("X-HTTP-Session-Id"):null;Ra&&(w.wa=Ra,Ke(w.J,w.G,Ra))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var re=h;if(w.na=Qc(w,w.L?w.ba:null,w.W),re.L){ql(w.h,re);var Ne=re,vt=w.O;vt&&(Ne.H=vt),Ne.D&&(_s(Ne),vs(Ne)),w.g=re}else Bc(w);E.i.length>0&&Ns(E)}else Ge[0]!="stop"&&Ge[0]!="close"||Rs(E,7);else E.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Rs(E,7):Wl(E):Ge[0]!="noop"&&E.l&&E.l.qa(Ge),E.A=0)}}fs(4)}catch{}}var wt=class{constructor(h,v){this.g=h,this.map=v}};function Ul(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ts(h){return h.h?1:h.g?h.g.size:0}function bs(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Bl(h,v){h.g?h.g.add(v):h.h=v}function ql(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Ul.prototype.cancel=function(){if(this.i=Fl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Fl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.G);return v}return I(h.i)}var Vc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ea(h,v){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const w=h[E].indexOf("=");let q,Y=null;w>=0?(q=h[E].substring(0,w),Y=h[E].substring(w+1)):q=h[E],v(q,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function An(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof An?(this.l=h.l,Bt(this,h.j),this.o=h.o,this.g=h.g,Si(this,h.u),this.h=h.h,Hl(this,Uc(h.i)),this.m=h.m):h&&(v=String(h).match(Vc))?(this.l=!1,Bt(this,v[1]||"",!0),this.o=As(v[2]||""),this.g=As(v[3]||"",!0),Si(this,v[4]),this.h=As(v[5]||"",!0),Hl(this,v[6]||"",!0),this.m=As(v[7]||"")):(this.l=!1,this.i=new xi(null,this.l))}An.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Ir(v,Ta,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Ir(v,Ta,!0),"@"),h.push(Hs(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Ir(E,E.charAt(0)=="/"?Gl:Pc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Ir(E,kc)),h.join("")},An.prototype.resolve=function(h){const v=xt(this);let E=!!h.j;E?Bt(v,h.j):E=!!h.o,E?v.o=h.o:E=!!h.g,E?v.g=h.g:E=h.u!=null;var w=h.h;if(E)Si(v,h.u);else if(E=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var q=v.h.lastIndexOf("/");q!=-1&&(w=v.h.slice(0,q+1)+w)}if(q=w,q==".."||q==".")w="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){w=q.lastIndexOf("/",0)==0,q=q.split("/");const Y=[];for(let re=0;re<q.length;){const Ne=q[re++];Ne=="."?w&&re==q.length&&Y.push(""):Ne==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),w&&re==q.length&&Y.push("")):(Y.push(Ne),w=!0)}w=Y.join("/")}else w=q}return E?v.h=w:E=h.i.toString()!=="",E?Hl(v,Uc(h.i)):E=!!h.m,E&&(v.m=h.m),v};function xt(h){return new An(h)}function Bt(h,v,E){h.j=E?As(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Si(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function Hl(h,v,E){v instanceof xi?(h.i=v,Aa(h.i,h.l)):(E||(v=Ir(v,wi)),h.i=new xi(v,h.l))}function Ke(h,v,E){h.i.set(v,E)}function Cr(h){return Ke(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function As(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ir(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,un),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function un(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ta=/[#\/\?@]/g,Pc=/[#\?:]/g,Gl=/[#\?]/g,wi=/[#\?@]/g,kc=/#/g;function xi(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function hn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ea(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}i=xi.prototype,i.add=function(h,v){hn(this),this.i=null,h=Ni(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function Lc(h,v){hn(h),v=Ni(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Ql(h,v){return hn(h),v=Ni(h,v),h.g.has(v)}i.forEach=function(h,v){hn(this),this.g.forEach(function(E,w){E.forEach(function(q){h.call(v,q,w,this)},this)},this)};function Yl(h,v){hn(h);let E=[];if(typeof v=="string")Ql(h,v)&&(E=E.concat(h.g.get(Ni(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)E=E.concat(h[v]);return E}i.set=function(h,v){return hn(this),this.i=null,h=Ni(this,h),Ql(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},i.get=function(h,v){return h?(h=Yl(this,h),h.length>0?String(h[0]):v):v};function ba(h,v,E){Lc(h,v),E.length>0&&(h.i=null,h.g.set(Ni(h,v),I(E)),h.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let w=0;w<v.length;w++){var E=v[w];const q=Hs(E);E=Yl(this,E);for(let Y=0;Y<E.length;Y++){let re=q;E[Y]!==""&&(re+="="+Hs(E[Y])),h.push(re)}}return this.i=h.join("&")};function Uc(h){const v=new xi;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Ni(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Aa(h,v){v&&!h.j&&(hn(h),h.i=null,h.g.forEach(function(E,w){const q=w.toLowerCase();w!=q&&(Lc(this,w),ba(this,q,E))},h)),h.j=v}function es(h,v){const E=new Wn;if(d.Image){const w=new Image;w.onload=T(Vn,E,"TestLoadImage: loaded",!0,v,w),w.onerror=T(Vn,E,"TestLoadImage: error",!1,v,w),w.onabort=T(Vn,E,"TestLoadImage: abort",!1,v,w),w.ontimeout=T(Vn,E,"TestLoadImage: timeout",!1,v,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else v(!1)}function Kl(h,v){const E=new Wn,w=new AbortController,q=setTimeout(()=>{w.abort(),Vn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:w.signal}).then(Y=>{clearTimeout(q),Y.ok?Vn(E,"TestPingServer: ok",!0,v):Vn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),Vn(E,"TestPingServer: error",!1,v)})}function Vn(h,v,E,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(E)}catch{}}function Ri(){this.g=new xc}function Ss(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Ss,Nc),Ss.prototype.g=function(){return new jr(this.i,this.h)};function jr(h,v){bt.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(jr,bt),i=jr.prototype,i.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,ts(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||d).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ci(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ts(this)),this.g&&(this.readyState=3,ts(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sa(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sa(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ci(this):ts(this),this.readyState==3&&Sa(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,Ci(this))},i.Na=function(h){this.g&&(this.response=h,Ci(this))},i.ga=function(){this.g&&Ci(this)};function Ci(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ts(h)}i.setRequestHeader=function(h,v){this.A.append(h,v)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function ts(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(jr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Pn(h){let v="";return oe(h,function(E,w){v+=w,v+=":",v+=E,v+=`\r
`}),v}function Dr(h,v,E){e:{for(w in E){var w=!1;break e}w=!0}w||(E=Pn(E),typeof h=="string"?E!=null&&Hs(E):Ke(h,v,E))}function Je(h){bt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Je,bt);var ws=/^https?$/i,$l=["POST","PUT"];i=Je.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,v,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ll.g(),this.g.onreadystatechange=N(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Y){Or(this,Y);return}if(h=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)E.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Y of w.keys())E.set(Y,w.get(Y));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),q=d.FormData&&h instanceof d.FormData,!(Array.prototype.indexOf.call($l,v,void 0)>=0)||w||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,re]of E)this.g.setRequestHeader(Y,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Y){Or(this,Y)}};function Or(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,Xl(h),Gs(h)}function Xl(h){h.A||(h.A=!0,Vt(h,"complete"),Vt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Vt(this,"complete"),Vt(this,"abort"),Gs(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gs(this,!0)),Je.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Mr(this):this.Xa())},i.Xa=function(){Mr(this)};function Mr(h){if(h.h&&typeof c<"u"){if(h.v&&ns(h)==4)setTimeout(h.Ca.bind(h),0);else if(Vt(h,"readystatechange"),ns(h)==4){h.h=!1;try{const Y=h.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var w;if(w=Y===0){let re=String(h.D).match(Vc)[1]||null;!re&&d.self&&d.self.location&&(re=d.self.location.protocol.slice(0,-1)),w=!ws.test(re?re.toLowerCase():"")}E=w}if(E)Vt(h,"complete"),Vt(h,"success");else{h.o=6;try{var q=ns(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",Xl(h)}}finally{Gs(h)}}}}function Gs(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,v||Vt(h,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ns(h){return h.g?h.g.readyState:0}i.ca=function(){try{return ns(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),pd(v)}};function Qt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Qs(h){const v={};h=(h.g&&ns(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(j(h[w]))continue;var E=Dc(h[w]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=v[q]||[];v[q]=Y,Y.push(E)}je(v,function(w){return w.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xs(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function Ii(h){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xs("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xs("baseRetryDelayMs",5e3,h),this.Za=xs("retryDelaySeedMs",1e4,h),this.Ta=xs("forwardChannelMaxRetries",2,h),this.va=xs("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Ul(h&&h.concurrentRequestLimit),this.Ba=new Ri,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Ii.prototype,i.ka=8,i.I=1,i.connect=function(h,v,E,w){At(0),this.W=h,this.H=v||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=Qc(this,null,this.W),Ns(this)};function Wl(h){if(wa(h),h.I==3){var v=h.V++,E=xt(h.J);if(Ke(E,"SID",h.M),Ke(E,"RID",v),Ke(E,"TYPE","terminate"),Vr(h,E),v=new Jn(h,h.j,v),v.M=2,v.A=Cr(xt(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&d.Image&&(new Image().src=v.A,E=!0),E||(v.g=Yc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),vs(v)}Gc(h)}function ji(h){h.g&&(Zl(h),h.g.cancel(),h.g=null)}function wa(h){ji(h),h.v&&(d.clearTimeout(h.v),h.v=null),Na(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&d.clearTimeout(h.m),h.m=null)}function Ns(h){if(!zl(h.h)&&!h.m){h.m=!0;var v=h.Ea;ve||S(),B||(ve(),B=!0),R.add(v,h),h.D=0}}function xa(h,v){return Ts(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=ps(y(h.Ea,h,v),Hc(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new Jn(this,this.j,h);let Y=this.o;if(this.U&&(Y?(Y=V(Y),le(Y,this.U)):Y=this.U),this.u!==null||this.R||(q.J=Y,Y=null),this.S)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(v+=w,v>4096){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=zc(this,q,v),E=xt(this.J),Ke(E,"RID",h),Ke(E,"CVER",22),this.G&&Ke(E,"X-HTTP-Session-Id",this.G),Vr(this,E),Y&&(this.R?v="headers="+Hs(Pn(Y))+"&"+v:this.u&&Dr(E,this.u,Y)),Bl(this.h,q),this.Ra&&Ke(E,"TYPE","init"),this.S?(Ke(E,"$req",v),Ke(E,"SID","null"),q.U=!0,ys(q,E,null)):ys(q,E,v),this.I=2}}else this.I==3&&(h?Jl(this,h):this.i.length==0||zl(this.h)||Jl(this))};function Jl(h,v){var E;v?E=v.l:E=h.V++;const w=xt(h.J);Ke(w,"SID",h.M),Ke(w,"RID",E),Ke(w,"AID",h.K),Vr(h,w),h.u&&h.o&&Dr(w,h.u,h.o),E=new Jn(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),v&&(h.i=v.G.concat(h.i)),v=zc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Bl(h.h,E),ys(E,w,v)}function Vr(h,v){h.H&&oe(h.H,function(E,w){Ke(v,w,E)}),h.l&&oe({},function(E,w){Ke(v,w,E)})}function zc(h,v,E){E=Math.min(h.i.length,E);const w=h.l?y(h.l.Ka,h.l,h):null;e:{var q=h.i;let Ne=-1;for(;;){const vt=["count="+E];Ne==-1?E>0?(Ne=q[0].g,vt.push("ofs="+Ne)):Ne=0:vt.push("ofs="+Ne);let Ge=!0;for(let ot=0;ot<E;ot++){var Y=q[ot].g;const kn=q[ot].map;if(Y-=Ne,Y<0)Ne=Math.max(0,q[ot].g-100),Ge=!1;else try{Y="req"+Y+"_"||"";try{var re=kn instanceof Map?kn:Object.entries(kn);for(const[Cs,ss]of re){let is=ss;p(ss)&&(is=Ai(ss)),vt.push(Y+Cs+"="+encodeURIComponent(is))}}catch(Cs){throw vt.push(Y+"type="+encodeURIComponent("_badmap")),Cs}}catch{w&&w(kn)}}if(Ge){re=vt.join("&");break e}}re=void 0}return h=h.i.splice(0,E),v.G=h,re}function Bc(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;ve||S(),B||(ve(),B=!0),R.add(v,h),h.A=0}}function Pr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=ps(y(h.Da,h),Hc(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,qc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=ps(y(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),ji(this),qc(this))};function Zl(h){h.B!=null&&(d.clearTimeout(h.B),h.B=null)}function qc(h){h.g=new Jn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=xt(h.na);Ke(v,"RID","rpc"),Ke(v,"SID",h.M),Ke(v,"AID",h.K),Ke(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ke(v,"TO",h.ia),Ke(v,"TYPE","xmlhttp"),Vr(h,v),h.u&&h.o&&Dr(v,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Cr(xt(v)),E.u=null,E.R=!0,va(E,h)}i.Va=function(){this.C!=null&&(this.C=null,ji(this),Pr(this),At(19))};function Na(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Fc(h,v){var E=null;if(h.g==v){Na(h),Zl(h),h.g=null;var w=2}else if(bs(h.h,v))E=v.G,ql(h.h,v),w=1;else return;if(h.I!=0){if(v.o)if(w==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var q=h.D;w=ya(),Vt(w,new ms(w,E)),Ns(h)}else Bc(h);else if(q=v.m,q==3||q==0&&v.X>0||!(w==1&&xa(h,v)||w==2&&Pr(h)))switch(E&&E.length>0&&(v=h.h,v.i=v.i.concat(E)),q){case 1:Rs(h,5);break;case 4:Rs(h,10);break;case 3:Rs(h,6);break;default:Rs(h,2)}}}function Hc(h,v){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*v}function Rs(h,v){if(h.j.info("Error code "+v),v==2){var E=y(h.bb,h),w=h.Ua;const q=!w;w=new An(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Bt(w,"https"),Cr(w),q?es(w.toString(),E):Kl(w.toString(),E)}else At(2);h.I=0,h.l&&h.l.pa(v),Gc(h),wa(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function Gc(h){if(h.I=0,h.ja=[],h.l){const v=Fl(h.h);(v.length!=0||h.i.length!=0)&&(O(h.ja,v),O(h.ja,h.i),h.h.i.length=0,I(h.i),h.i.length=0),h.l.oa()}}function Qc(h,v,E){var w=E instanceof An?xt(E):new An(E);if(w.g!="")v&&(w.g=v+"."+w.g),Si(w,w.u);else{var q=d.location;w=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;const Y=new An(null);w&&Bt(Y,w),v&&(Y.g=v),q&&Si(Y,q),E&&(Y.h=E),w=Y}return E=h.G,v=h.wa,E&&v&&Ke(w,E,v),Ke(w,"VER",h.ka),Vr(h,w),w}function Yc(h,v,E){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new Je(new Ss({ab:E})):new Je(h.ma),v.Fa(h.L),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kc(){}i=Kc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Di(){}Di.prototype.g=function(h,v){return new ln(h,v)};function ln(h,v){bt.call(this),this.g=new Ii(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!j(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!j(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Ys(this)}b(ln,bt),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Wl(this.g)},ln.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Ai(h),h=E);v.i.push(new wt(v.Ya++,h)),v.I==3&&Ns(v)},ln.prototype.N=function(){this.g.l=null,delete this.j,Wl(this.g),delete this.g,ln.Z.N.call(this)};function $c(h){Gt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const E in v){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}b($c,Gt);function Xc(){On.call(this),this.status=1}b(Xc,On);function Ys(h){this.g=h}b(Ys,Kc),Ys.prototype.ra=function(){Vt(this.g,"a")},Ys.prototype.qa=function(h){Vt(this.g,new $c(h))},Ys.prototype.pa=function(h){Vt(this.g,new Xc)},Ys.prototype.oa=function(){Vt(this.g,"b")},Di.prototype.createWebChannel=Di.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,K0=function(){return new Di},Y0=function(){return ya()},Q0=yt,Qm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Nr.NO_ERROR=0,Nr.TIMEOUT=8,Nr.HTTP_ERROR=6,fh=Nr,kl.COMPLETE="complete",G0=kl,Rc.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,qo=Rc,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,H0=Je}).apply(typeof nh<"u"?nh:typeof self<"u"?self:typeof window<"u"?window:{});const DE="@firebase/firestore",OE="4.9.2";class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let Nl="12.3.0";const la=new vp("@firebase/firestore");function rl(){return la.logLevel}function ue(i,...e){if(la.logLevel<=Pe.DEBUG){const n=e.map(Ip);la.debug(`Firestore (${Nl}): ${i}`,...n)}}function vi(i,...e){if(la.logLevel<=Pe.ERROR){const n=e.map(Ip);la.error(`Firestore (${Nl}): ${i}`,...n)}}function pl(i,...e){if(la.logLevel<=Pe.WARN){const n=e.map(Ip);la.warn(`Firestore (${Nl}): ${i}`,...n)}}function Ip(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Te(i,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,$0(i,r,n)}function $0(i,e,n){let r=`FIRESTORE (${Nl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw vi(r),new Error(r)}function Ye(i,e,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,i||$0(e,l,r)}function xe(i,e){return i}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Ti{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class X0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(nn.UNAUTHENTICATED)))}shutdown(){}}class zC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class BC{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let r=this.i;const l=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let c=new mi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new mi,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new mi)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string",31837,{l:r}),new X0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class qC{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class FC{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new qC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ME{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const r=c=>{c.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ME(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ME(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function GC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<i;r++)n[r]=Math.floor(256*Math.random());return n}class jp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=GC(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<n&&(r+=e.charAt(l[c]%62))}return r}}function ke(i,e){return i<e?-1:i>e?1:0}function Ym(i,e){const n=Math.min(i.length,e.length);for(let r=0;r<n;r++){const l=i.charAt(r),c=e.charAt(r);if(l!==c)return Rm(l)===Rm(c)?ke(l,c):Rm(l)?1:-1}return ke(i.length,e.length)}const QC=55296,YC=57343;function Rm(i){const e=i.charCodeAt(0);return e>=QC&&e<=YC}function gl(i,e,n){return i.length===e.length&&i.every(((r,l)=>n(r,e[l])))}const VE="__name__";class Ms{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Te(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ms.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ms?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let l=0;l<r;l++){const c=Ms.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return ke(e.length,n.length)}static compareSegments(e,n){const r=Ms.isNumericId(e),l=Ms.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?Ms.extractNumericId(e).compare(Ms.extractNumericId(n)):Ym(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cr.fromString(e.substring(4,e.length-2))}}class st extends Ms{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new st(n)}static emptyPath(){return new st([])}}const KC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Ms{construct(e,n,r){return new Jt(e,n,r)}static isValidIdentifier(e){return KC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===VE}static keyField(){return new Jt([VE])}static fromServerFormat(e){const n=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new ce(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ce(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new ce(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(st.fromString(e))}static fromName(e){return new ye(st.fromString(e).popFirst(5))}static empty(){return new ye(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new st(e.slice()))}}function W0(i,e,n){if(!n)throw new ce(te.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function $C(i,e,n,r){if(e===!0&&r===!0)throw new ce(te.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function PE(i){if(!ye.isDocumentKey(i))throw new ce(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function kE(i){if(ye.isDocumentKey(i))throw new ce(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function J0(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Gh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te(12329,{type:typeof i})}function _n(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ce(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gh(i);throw new ce(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Ot(i,e){const n={typeString:i};return e&&(n.value=e),n}function _c(i,e){if(!J0(i))throw new ce(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){n=`JSON missing required field: '${r}'`;break}const d=i[r];if(l&&typeof d!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new ce(te.INVALID_ARGUMENT,n);return!0}const LE=-62135596800,UE=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*UE);return new at(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<LE)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/UE}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_c(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-LE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Ot("string",at._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new at(0,0))}static max(){return new Se(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const nc=-1;function XC(i,e){const n=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,l=Se.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new hr(l,ye.empty(),e)}function WC(i){return new hr(i.readTime,i.key,nc)}class hr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new hr(Se.min(),ye.empty(),nc)}static max(){return new hr(Se.max(),ye.empty(),nc)}}function JC(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(i.documentKey,e.documentKey),n!==0?n:ke(i.largestBatchId,e.largestBatchId))}const ZC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Rl(i){if(i.code!==te.FAILED_PRECONDITION||i.message!==ZC)throw i;ue("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,r)=>{n(e)}))}static reject(e){return new ie(((n,r)=>{r(e)}))}static waitFor(e){return new ie(((n,r)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&n()}),(g=>r(g)))})),d=!0,c===l&&n()}))}static or(e){let n=ie.resolve(!1);for(const r of e)n=n.next((l=>l?ie.resolve(l):r()));return n}static forEach(e,n){const r=[];return e.forEach(((l,c)=>{r.push(n.call(this,l,c))})),this.waitFor(r)}static mapArray(e,n){return new ie(((r,l)=>{const c=e.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((T=>{d[y]=T,++p,p===c&&r(d)}),(T=>l(T)))}}))}static doWhile(e,n){return new ie(((r,l)=>{const c=()=>{e()===!0?n().next((()=>{c()}),l):r()};c()}))}}function tI(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cl(i){return i.name==="IndexedDbTransactionError"}class Qh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qh.ce=-1;const Dp=-1;function Yh(i){return i==null}function Rh(i){return i===0&&1/i==-1/0}function nI(i){return typeof i=="number"&&Number.isInteger(i)&&!Rh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Z0="";function sI(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=zE(e)),e=iI(i.get(n),e);return zE(e)}function iI(i,e){let n=e;const r=i.length;for(let l=0;l<r;l++){const c=i.charAt(l);switch(c){case"\0":n+="";break;case Z0:n+="";break;default:n+=c}}return n}function zE(i){return i+Z0+""}function BE(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function _r(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function eb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class dt{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sh(this.root,e,this.comparator,!1)}getReverseIterator(){return new sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sh(this.root,e,this.comparator,!0)}}class sh{constructor(e,n,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,r,l,c){this.key=e,this.value=n,this.color=r??Wt.RED,this.left=l??Wt.EMPTY,this.right=c??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,l,c){return new Wt(e??this.key,n??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,r),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Wt.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,r,l,c){return this}insert(e,n,r){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qE(this.data.getIterator())}getIteratorFrom(e){return new qE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class qE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jn{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new jn([])}unionWith(e){let n=new kt(Jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return gl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class tb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new tb("Invalid base64 string: "+c):c}})(e);return new Zt(n)}static fromUint8Array(e){const n=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const rI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dr(i){if(Ye(!!i,39018),typeof i=="string"){let e=0;const n=rI.exec(i);if(Ye(!!n,46558,{timestamp:i}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tt(i.seconds),nanos:Tt(i.nanos)}}function Tt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function fr(i){return typeof i=="string"?Zt.fromBase64String(i):Zt.fromUint8Array(i)}const nb="server_timestamp",sb="__type__",ib="__previous_value__",rb="__local_write_time__";function Op(i){return(i?.mapValue?.fields||{})[sb]?.stringValue===nb}function Kh(i){const e=i.mapValue.fields[ib];return Op(e)?Kh(e):e}function sc(i){const e=dr(i.mapValue.fields[rb].timestampValue);return new at(e.seconds,e.nanos)}class aI{constructor(e,n,r,l,c,d,p,g,y,T){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=T}}const Ch="(default)";class ic{constructor(e,n){this.projectId=e,this.database=n||Ch}static empty(){return new ic("","")}get isDefaultDatabase(){return this.database===Ch}isEqual(e){return e instanceof ic&&e.projectId===this.projectId&&e.database===this.database}}const ab="__type__",lI="__max__",ih={mapValue:{}},lb="__vector__",Ih="value";function mr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Op(i)?4:cI(i)?9007199254740991:oI(i)?10:11:Te(28295,{value:i})}function Bs(i,e){if(i===e)return!0;const n=mr(i);if(n!==mr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return sc(i).isEqual(sc(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=dr(l.timestampValue),p=dr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(l,c){return fr(l.bytesValue).isEqual(fr(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(l,c){return Tt(l.geoPointValue.latitude)===Tt(c.geoPointValue.latitude)&&Tt(l.geoPointValue.longitude)===Tt(c.geoPointValue.longitude)})(i,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Tt(l.integerValue)===Tt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Tt(l.doubleValue),p=Tt(c.doubleValue);return d===p?Rh(d)===Rh(p):isNaN(d)&&isNaN(p)}return!1})(i,e);case 9:return gl(i.arrayValue.values||[],e.arrayValue.values||[],Bs);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(BE(d)!==BE(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Bs(d[g],p[g])))return!1;return!0})(i,e);default:return Te(52216,{left:i})}}function rc(i,e){return(i.values||[]).find((n=>Bs(n,e)))!==void 0}function yl(i,e){if(i===e)return 0;const n=mr(i),r=mr(e);if(n!==r)return ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(i.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=Tt(c.integerValue||c.doubleValue),g=Tt(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(i,e);case 3:return FE(i.timestampValue,e.timestampValue);case 4:return FE(sc(i),sc(e));case 5:return Ym(i.stringValue,e.stringValue);case 6:return(function(c,d){const p=fr(c),g=fr(d);return p.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const T=ke(p[y],g[y]);if(T!==0)return T}return ke(p.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=ke(Tt(c.latitude),Tt(d.latitude));return p!==0?p:ke(Tt(c.longitude),Tt(d.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return HE(i.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},g=d.fields||{},y=p[Ih]?.arrayValue,T=g[Ih]?.arrayValue,b=ke(y?.values?.length||0,T?.values?.length||0);return b!==0?b:HE(y,T)})(i.mapValue,e.mapValue);case 11:return(function(c,d){if(c===ih.mapValue&&d===ih.mapValue)return 0;if(c===ih.mapValue)return 1;if(d===ih.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=d.fields||{},T=Object.keys(y);g.sort(),T.sort();for(let b=0;b<g.length&&b<T.length;++b){const N=Ym(g[b],T[b]);if(N!==0)return N;const I=yl(p[g[b]],y[T[b]]);if(I!==0)return I}return ke(g.length,T.length)})(i.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function FE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ke(i,e);const n=dr(i),r=dr(e),l=ke(n.seconds,r.seconds);return l!==0?l:ke(n.nanos,r.nanos)}function HE(i,e){const n=i.values||[],r=e.values||[];for(let l=0;l<n.length&&l<r.length;++l){const c=yl(n[l],r[l]);if(c)return c}return ke(n.length,r.length)}function vl(i){return Km(i)}function Km(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const r=dr(n);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return fr(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ye.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let r="[",l=!0;for(const c of n.values||[])l?l=!1:r+=",",r+=Km(c);return r+"]"})(i.arrayValue):"mapValue"in i?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${Km(n.fields[d])}`;return l+"}"})(i.mapValue):Te(61005,{value:i})}function mh(i){switch(mr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kh(i);return e?16+mh(e):16;case 5:return 2*i.stringValue.length;case 6:return fr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+mh(c)),0)})(i.arrayValue);case 10:case 11:return(function(r){let l=0;return _r(r.fields,((c,d)=>{l+=c.length+mh(d)})),l})(i.mapValue);default:throw Te(13486,{value:i})}}function GE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function $m(i){return!!i&&"integerValue"in i}function Mp(i){return!!i&&"arrayValue"in i}function QE(i){return!!i&&"nullValue"in i}function YE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ph(i){return!!i&&"mapValue"in i}function oI(i){return(i?.mapValue?.fields||{})[ab]?.stringValue===lb}function Ko(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return _r(i.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Ko(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ko(i.arrayValue.values[n]);return e}return{...i}}function cI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===lI}class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ph(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ko(n)}setAll(e){let n=Jt.emptyPath(),r={},l=[];e.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,r,l),r={},l=[],n=p.popLast()}d?r[p.lastSegment()]=Ko(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,l)}delete(e){const n=this.field(e.popLast());ph(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=n.mapValue.fields[e.get(r)];ph(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,r){_r(n,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new vn(Ko(this.value))}}function ob(i){const e=[];return _r(i.fields,((n,r)=>{const l=new Jt([n]);if(ph(r)){const c=ob(r.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new jn(e)}class sn{constructor(e,n,r,l,c,d,p){this.key=e,this.documentType=n,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new sn(e,0,Se.min(),Se.min(),Se.min(),vn.empty(),0)}static newFoundDocument(e,n,r,l){return new sn(e,1,n,Se.min(),r,l,0)}static newNoDocument(e,n){return new sn(e,2,n,Se.min(),Se.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,Se.min(),Se.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class jh{constructor(e,n){this.position=e,this.inclusive=n}}function KE(i,e,n){let r=0;for(let l=0;l<i.position.length;l++){const c=e[l],d=i.position[l];if(c.field.isKeyField()?r=ye.comparator(ye.fromName(d.referenceValue),n.key):r=yl(d,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function $E(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Bs(i.position[n],e.position[n]))return!1;return!0}class ac{constructor(e,n="asc"){this.field=e,this.dir=n}}function uI(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class cb{}class Dt extends cb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new dI(e,n,r):n==="array-contains"?new pI(e,r):n==="in"?new gI(e,r):n==="not-in"?new yI(e,r):n==="array-contains-any"?new vI(e,r):new Dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new fI(e,r):new mI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(yl(n,this.value)):n!==null&&mr(this.value)===mr(n)&&this.matchesComparison(yl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class us extends cb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new us(e,n)}matches(e){return ub(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ub(i){return i.op==="and"}function hb(i){return hI(i)&&ub(i)}function hI(i){for(const e of i.filters)if(e instanceof us)return!1;return!0}function Xm(i){if(i instanceof Dt)return i.field.canonicalString()+i.op.toString()+vl(i.value);if(hb(i))return i.filters.map((e=>Xm(e))).join(",");{const e=i.filters.map((n=>Xm(n))).join(",");return`${i.op}(${e})`}}function db(i,e){return i instanceof Dt?(function(r,l){return l instanceof Dt&&r.op===l.op&&r.field.isEqual(l.field)&&Bs(r.value,l.value)})(i,e):i instanceof us?(function(r,l){return l instanceof us&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&db(d,l.filters[p])),!0):!1})(i,e):void Te(19439)}function fb(i){return i instanceof Dt?(function(n){return`${n.field.canonicalString()} ${n.op} ${vl(n.value)}`})(i):i instanceof us?(function(n){return n.op.toString()+" {"+n.getFilters().map(fb).join(" ,")+"}"})(i):"Filter"}class dI extends Dt{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class fI extends Dt{constructor(e,n){super(e,"in",n),this.keys=mb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class mI extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=mb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function mb(i,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class pI extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mp(n)&&rc(n.arrayValue,this.value)}}class gI extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rc(this.value.arrayValue,n)}}class yI extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!rc(this.value.arrayValue,n)}}class vI extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>rc(this.value.arrayValue,r)))}}class _I{constructor(e,n=null,r=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function XE(i,e=null,n=[],r=[],l=null,c=null,d=null){return new _I(i,e,n,r,l,c,d)}function Vp(i){const e=xe(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Xm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Yh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>vl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>vl(r))).join(",")),e.Te=n}return e.Te}function Pp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!uI(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!db(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!$E(i.startAt,e.startAt)&&$E(i.endAt,e.endAt)}function Wm(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Il{constructor(e,n=null,r=[],l=[],c=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function EI(i,e,n,r,l,c,d,p){return new Il(i,e,n,r,l,c,d,p)}function $h(i){return new Il(i)}function WE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function pb(i){return i.collectionGroup!==null}function $o(i){const e=xe(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new kt(Jt.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ac(c,r))})),n.has(Jt.keyField().canonicalString())||e.Ie.push(new ac(Jt.keyField(),r))}return e.Ie}function ks(i){const e=xe(i);return e.Ee||(e.Ee=TI(e,$o(i))),e.Ee}function TI(i,e){if(i.limitType==="F")return XE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ac(l.field,c)}));const n=i.endAt?new jh(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new jh(i.startAt.position,i.startAt.inclusive):null;return XE(i.path,i.collectionGroup,e,i.filters,i.limit,n,r)}}function Jm(i,e){const n=i.filters.concat([e]);return new Il(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Zm(i,e,n){return new Il(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Xh(i,e){return Pp(ks(i),ks(e))&&i.limitType===e.limitType}function gb(i){return`${Vp(ks(i))}|lt:${i.limitType}`}function al(i){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>fb(l))).join(", ")}]`),Yh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>vl(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>vl(l))).join(",")),`Target(${r})`})(ks(i))}; limitType=${i.limitType})`}function Wh(i,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ye.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(i,e)&&(function(r,l){for(const c of $o(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(i,e)&&(function(r,l){return!(r.startAt&&!(function(d,p,g){const y=KE(d,p,g);return d.inclusive?y<=0:y<0})(r.startAt,$o(r),l)||r.endAt&&!(function(d,p,g){const y=KE(d,p,g);return d.inclusive?y>=0:y>0})(r.endAt,$o(r),l))})(i,e)}function bI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function yb(i){return(e,n)=>{let r=!1;for(const l of $o(i)){const c=AI(l,e,n);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function AI(i,e,n){const r=i.field.isKeyField()?ye.comparator(e.key,n.key):(function(c,d,p){const g=d.data.field(c),y=p.data.field(c);return g!==null&&y!==null?yl(g,y):Te(42886)})(i.field,e,n);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:i.dir})}}class ua{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){_r(this.inner,((n,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return eb(this.inner)}size(){return this.innerSize}}const SI=new dt(ye.comparator);function _i(){return SI}const vb=new dt(ye.comparator);function Fo(...i){let e=vb;for(const n of i)e=e.insert(n.key,n);return e}function _b(i){let e=vb;return i.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ea(){return Xo()}function Eb(){return Xo()}function Xo(){return new ua((i=>i.toString()),((i,e)=>i.isEqual(e)))}const wI=new dt(ye.comparator),xI=new kt(ye.comparator);function Le(...i){let e=xI;for(const n of i)e=e.add(n);return e}const NI=new kt(ke);function RI(){return NI}function kp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rh(e)?"-0":e}}function Tb(i){return{integerValue:""+i}}function CI(i,e){return nI(e)?Tb(e):kp(i,e)}class Jh{constructor(){this._=void 0}}function II(i,e,n){return i instanceof lc?(function(l,c){const d={fields:{[sb]:{stringValue:nb},[rb]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Op(c)&&(c=Kh(c)),c&&(d.fields[ib]=c),{mapValue:d}})(n,e):i instanceof oc?Ab(i,e):i instanceof cc?Sb(i,e):(function(l,c){const d=bb(l,c),p=JE(d)+JE(l.Ae);return $m(d)&&$m(l.Ae)?Tb(p):kp(l.serializer,p)})(i,e)}function jI(i,e,n){return i instanceof oc?Ab(i,e):i instanceof cc?Sb(i,e):n}function bb(i,e){return i instanceof Dh?(function(r){return $m(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class lc extends Jh{}class oc extends Jh{constructor(e){super(),this.elements=e}}function Ab(i,e){const n=wb(e);for(const r of i.elements)n.some((l=>Bs(l,r)))||n.push(r);return{arrayValue:{values:n}}}class cc extends Jh{constructor(e){super(),this.elements=e}}function Sb(i,e){let n=wb(e);for(const r of i.elements)n=n.filter((l=>!Bs(l,r)));return{arrayValue:{values:n}}}class Dh extends Jh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function JE(i){return Tt(i.integerValue||i.doubleValue)}function wb(i){return Mp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class DI{constructor(e,n){this.field=e,this.transform=n}}function OI(i,e){return i.field.isEqual(e.field)&&(function(r,l){return r instanceof oc&&l instanceof oc||r instanceof cc&&l instanceof cc?gl(r.elements,l.elements,Bs):r instanceof Dh&&l instanceof Dh?Bs(r.Ae,l.Ae):r instanceof lc&&l instanceof lc})(i.transform,e.transform)}class MI{constructor(e,n){this.version=e,this.transformResults=n}}class Kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Zh{}function xb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Lp(i.key,Kn.none()):new Ec(i.key,i.data,Kn.none());{const n=i.data,r=vn.empty();let l=new kt(Jt.comparator);for(let c of e.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new Er(i.key,r,new jn(l.toArray()),Kn.none())}}function VI(i,e,n){i instanceof Ec?(function(l,c,d){const p=l.value.clone(),g=eT(l.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(i,e,n):i instanceof Er?(function(l,c,d){if(!gh(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=eT(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(Nb(l)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(i,e,n):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Wo(i,e,n,r){return i instanceof Ec?(function(c,d,p,g){if(!gh(c.precondition,d))return p;const y=c.value.clone(),T=tT(c.fieldTransforms,g,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(i,e,n,r):i instanceof Er?(function(c,d,p,g){if(!gh(c.precondition,d))return p;const y=tT(c.fieldTransforms,g,d),T=d.data;return T.setAll(Nb(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(i,e,n,r):(function(c,d,p){return gh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(i,e,n)}function PI(i,e){let n=null;for(const r of i.fieldTransforms){const l=e.data.field(r.field),c=bb(r.transform,l||null);c!=null&&(n===null&&(n=vn.empty()),n.set(r.field,c))}return n||null}function ZE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&gl(r,l,((c,d)=>OI(c,d)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Ec extends Zh{constructor(e,n,r,l=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Er extends Zh{constructor(e,n,r,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Nb(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=i.data.field(n);e.set(n,r)}})),e}function eT(i,e,n){const r=new Map;Ye(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let l=0;l<n.length;l++){const c=i[l],d=c.transform,p=e.data.field(c.field);r.set(c.field,jI(d,p,n[l]))}return r}function tT(i,e,n){const r=new Map;for(const l of i){const c=l.transform,d=n.data.field(l.field);r.set(l.field,II(c,d,e))}return r}class Lp extends Zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kI extends Zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class LI{constructor(e,n,r,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&VI(c,e,r[l])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Eb();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=n.has(l.key)?null:p;const g=xb(d,p);g!==null&&r.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(Se.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&gl(this.mutations,e.mutations,((n,r)=>ZE(n,r)))&&gl(this.baseMutations,e.baseMutations,((n,r)=>ZE(n,r)))}}class Up{constructor(e,n,r,l){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(e,n,r){Ye(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return wI})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Up(e,n,r,l)}}class UI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class zI{constructor(e,n){this.count=e,this.unchangedNames=n}}var jt,Be;function BI(i){switch(i){case te.OK:return Te(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Te(15467,{code:i})}}function Rb(i){if(i===void 0)return vi("GRPC error has no .code"),te.UNKNOWN;switch(i){case jt.OK:return te.OK;case jt.CANCELLED:return te.CANCELLED;case jt.UNKNOWN:return te.UNKNOWN;case jt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case jt.INTERNAL:return te.INTERNAL;case jt.UNAVAILABLE:return te.UNAVAILABLE;case jt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case jt.NOT_FOUND:return te.NOT_FOUND;case jt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case jt.ABORTED:return te.ABORTED;case jt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case jt.DATA_LOSS:return te.DATA_LOSS;default:return Te(39323,{code:i})}}(Be=jt||(jt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";function qI(){return new TextEncoder}const FI=new cr([4294967295,4294967295],0);function nT(i){const e=qI().encode(i),n=new F0;return n.update(e),new Uint8Array(n.digest())}function sT(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new cr([n,r],0),new cr([l,c],0)]}class zp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ho(`Invalid padding: ${n}`);if(r<0)throw new Ho(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ho(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ho(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=cr.fromNumber(this.ge)}ye(e,n,r){let l=e.add(n.multiply(cr.fromNumber(r)));return l.compare(FI)===1&&(l=new cr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=nT(e),[r,l]=sT(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(e,n,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new zp(c,l,n);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const n=nT(e),[r,l]=sT(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ho extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ed{constructor(e,n,r,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const l=new Map;return l.set(e,Tc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ed(Se.min(),l,new dt(ke),_i(),Le())}}class Tc{constructor(e,n,r,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Tc(r,n,Le(),Le(),Le())}}class yh{constructor(e,n,r,l){this.be=e,this.removedTargetIds=n,this.key=r,this.De=l}}class Cb{constructor(e,n){this.targetId=e,this.Ce=n}}class Ib{constructor(e,n,r=Zt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=l}}class iT{constructor(){this.ve=0,this.Fe=rT(),this.Me=Zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),r=Le();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:Te(38017,{changeType:c})}})),new Tc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=rT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class HI{constructor(e){this.Ge=e,this.ze=new Map,this.je=_i(),this.Je=rh(),this.He=rh(),this.Ye=new dt(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,r=e.Ce.count,l=this.ot(n);if(l){const c=l.target;if(Wm(c))if(r===0){const d=new ye(c.path);this.et(n,d,sn.newNoDocument(d,Se.min()))}else Ye(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=n;let d,p;try{d=fr(r).toUint8Array()}catch(g){if(g instanceof tb)return pl("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new zp(d,l,c)}catch(g){return pl(g instanceof Ho?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Wm(p.target)){const g=new ye(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,sn.newNoDocument(g,e))}c.Be&&(n.set(d,c.ke()),c.qe())}}));let r=Le();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new ed(e,n,this.Ye,this.je,r);return this.je=_i(),this.Je=rh(),this.He=rh(),this.Ye=new dt(ke),l}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new iT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new kt(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new kt(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new iT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function rh(){return new dt(ye.comparator)}function rT(){return new dt(ye.comparator)}const GI={asc:"ASCENDING",desc:"DESCENDING"},QI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YI={and:"AND",or:"OR"};class KI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ep(i,e){return i.useProto3Json||Yh(e)?e:{value:e}}function Oh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function $I(i,e){return Oh(i,e.toTimestamp())}function Ls(i){return Ye(!!i,49232),Se.fromTimestamp((function(n){const r=dr(n);return new at(r.seconds,r.nanos)})(i))}function Bp(i,e){return tp(i,e).canonicalString()}function tp(i,e){const n=(function(l){return new st(["projects",l.projectId,"databases",l.database])})(i).child("documents");return e===void 0?n:n.child(e)}function Db(i){const e=st.fromString(i);return Ye(kb(e),10190,{key:e.toString()}),e}function np(i,e){return Bp(i.databaseId,e.path)}function Cm(i,e){const n=Db(e);if(n.get(1)!==i.databaseId.projectId)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ye(Mb(n))}function Ob(i,e){return Bp(i.databaseId,e)}function XI(i){const e=Db(i);return e.length===4?st.emptyPath():Mb(e)}function sp(i){return new st(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Mb(i){return Ye(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function aT(i,e,n){return{name:np(i,e),fields:n.value.mapValue.fields}}function WI(i,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?(Ye(T===void 0||typeof T=="string",58123),Zt.fromBase64String(T||"")):(Ye(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Zt.fromUint8Array(T||new Uint8Array))})(i,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const T=y.code===void 0?te.UNKNOWN:Rb(y.code);return new ce(T,y.message||"")})(d);n=new Ib(r,l,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=Cm(i,r.document.name),c=Ls(r.document.updateTime),d=r.document.createTime?Ls(r.document.createTime):Se.min(),p=new vn({mapValue:{fields:r.document.fields}}),g=sn.newFoundDocument(l,c,d,p),y=r.targetIds||[],T=r.removedTargetIds||[];n=new yh(y,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=Cm(i,r.document),c=r.readTime?Ls(r.readTime):Se.min(),d=sn.newNoDocument(l,c),p=r.removedTargetIds||[];n=new yh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=Cm(i,r.document),c=r.removedTargetIds||[];n=new yh([],c,l,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new zI(l,c),p=r.targetId;n=new Cb(p,d)}}return n}function JI(i,e){let n;if(e instanceof Ec)n={update:aT(i,e.key,e.value)};else if(e instanceof Lp)n={delete:np(i,e.key)};else if(e instanceof Er)n={update:aT(i,e.key,e.data),updateMask:lj(e.fieldMask)};else{if(!(e instanceof kI))return Te(16599,{Vt:e.type});n={verify:np(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof lc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof oc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof cc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Dh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Te(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:$I(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te(27497)})(i,e.precondition)),n}function ZI(i,e){return i&&i.length>0?(Ye(e!==void 0,14353),i.map((n=>(function(l,c){let d=l.updateTime?Ls(l.updateTime):Ls(c);return d.isEqual(Se.min())&&(d=Ls(c)),new MI(d,l.transformResults||[])})(n,e)))):[]}function ej(i,e){return{documents:[Ob(i,e.path)]}}function tj(i,e){const n={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ob(i,l);const c=(function(y){if(y.length!==0)return Pb(us.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((T=>(function(N){return{field:ll(N.field),direction:ij(N.dir)}})(T)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=ep(i,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:l}}function nj(i){let e=XI(i.parent);const n=i.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){Ye(r===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let c=[];n.where&&(c=(function(b){const N=Vb(b);return N instanceof us&&hb(N)?N.getFilters():[N]})(n.where));let d=[];n.orderBy&&(d=(function(b){return b.map((N=>(function(O){return new ac(ol(O.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(N)))})(n.orderBy));let p=null;n.limit&&(p=(function(b){let N;return N=typeof b=="object"?b.value:b,Yh(N)?null:N})(n.limit));let g=null;n.startAt&&(g=(function(b){const N=!!b.before,I=b.values||[];return new jh(I,N)})(n.startAt));let y=null;return n.endAt&&(y=(function(b){const N=!b.before,I=b.values||[];return new jh(I,N)})(n.endAt)),EI(e,l,d,c,p,"F",g,y)}function sj(i,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Vb(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ol(n.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=ol(n.unaryFilter.field);return Dt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ol(n.unaryFilter.field);return Dt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ol(n.unaryFilter.field);return Dt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Dt.create(ol(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return us.create(n.compositeFilter.filters.map((r=>Vb(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(i):Te(30097,{filter:i})}function ij(i){return GI[i]}function rj(i){return QI[i]}function aj(i){return YI[i]}function ll(i){return{fieldPath:i.canonicalString()}}function ol(i){return Jt.fromServerFormat(i.fieldPath)}function Pb(i){return i instanceof Dt?(function(n){if(n.op==="=="){if(YE(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NAN"}};if(QE(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(YE(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NOT_NAN"}};if(QE(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ll(n.field),op:rj(n.op),value:n.value}}})(i):i instanceof us?(function(n){const r=n.getFilters().map((l=>Pb(l)));return r.length===1?r[0]:{compositeFilter:{op:aj(n.op),filters:r}}})(i):Te(54877,{filter:i})}function lj(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function kb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class rr{constructor(e,n,r,l,c=Se.min(),d=Se.min(),p=Zt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new rr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class oj{constructor(e){this.yt=e}}function cj(i){const e=nj({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Zm(e,e.limit,"L"):e}class uj{constructor(){this.Cn=new hj}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(hr.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(hr.min())}updateCollectionGroup(e,n,r){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class hj{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n]||new kt(st.comparator),c=!l.has(r);return this.index[n]=l.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(e){return(this.index[e]||new kt(st.comparator)).toArray()}}const lT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Lb=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(Lb,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class _l{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new _l(0)}static cr(){return new _l(-1)}}const oT="LruGarbageCollector",dj=1048576;function cT([i,e],[n,r]){const l=ke(i,n);return l===0?ke(e,r):l}class fj{constructor(e){this.Ir=e,this.buffer=new kt(cT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();cT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mj{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(oT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Cl(n)?ue(oT,"Ignoring IndexedDB error during garbage collection: ",n):await Rl(n)}await this.Vr(3e5)}))}}class pj{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Qh.ce);const r=new fj(n);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(lT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,l,c,d,p,g,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(e,l)))).next((b=>(r=b,p=Date.now(),this.removeTargets(e,r,n)))).next((b=>(c=b,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(y=Date.now(),rl()<=Pe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-T}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function gj(i,e){return new pj(i,e)}class yj{constructor(){this.changes=new ua((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class _j{constructor(e,n,r,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(r!==null&&Wo(r.mutation,l,jn.empty(),at.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Le()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Le()){const l=ea();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,r).next((c=>{let d=Fo();return c.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const r=ea();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Le())))}populateOverlays(e,n,r){const l=[];return r.forEach((c=>{n.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(e,n,r,l){let c=_i();const d=Xo(),p=(function(){return Xo()})();return n.forEach(((g,y)=>{const T=r.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof Er)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),Wo(T.mutation,y,T.mutation.getFieldMask(),at.now())):d.set(y.key,jn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,T)=>d.set(y,T))),n.forEach(((y,T)=>p.set(y,new vj(T,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const r=Xo();let l=new dt(((d,p)=>d-p)),c=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const p of d)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let T=r.get(g)||jn.empty();T=p.applyToLocalView(y,T),r.set(g,T);const b=(l.get(p.batchId)||Le()).add(g);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,T=g.value,b=Eb();T.forEach((N=>{if(!c.has(N)){const I=xb(n.get(N),r.get(N));I!==null&&b.set(N,I),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,b))}return ie.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,l){return(function(d){return ye.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,l):this.getDocumentsMatchingCollectionQuery(e,n,r,l)}getNextDocuments(e,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,l-c.size):ie.resolve(ea());let p=nc,g=c;return d.next((y=>ie.forEach(y,((T,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(T)?ie.resolve():this.remoteDocumentCache.getEntry(e,T).next((N=>{g=g.insert(T,N)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Le()))).next((T=>({batchId:p,changes:_b(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((r=>{let l=Fo();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,l){const c=n.collectionGroup;let d=Fo();return this.indexManager.getCollectionParents(e,c).next((p=>ie.forEach(p,(g=>{const y=(function(b,N){return new Il(N,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,l).next((T=>{T.forEach(((b,N)=>{d=d.insert(b,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,l)))).next((d=>{c.forEach(((g,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,sn.newInvalidDocument(T)))}));let p=Fo();return d.forEach(((g,y)=>{const T=c.get(g);T!==void 0&&Wo(T.mutation,y,jn.empty(),at.now()),Wh(n,y)&&(p=p.insert(g,y))})),p}))}}class Ej{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Ls(l.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:cj(l.bundledQuery),readTime:Ls(l.readTime)}})(n)),ie.resolve()}}class Tj{constructor(){this.overlays=new dt(ye.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ea();return ie.forEach(n,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((l,c)=>{this.St(e,n,c)})),ie.resolve()}removeOverlaysForBatchId(e,n,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),ie.resolve()}getOverlaysForCollection(e,n,r){const l=ea(),c=n.length+1,d=new ye(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>r&&l.set(g.getKey(),g)}return ie.resolve(l)}getOverlaysForCollectionGroup(e,n,r,l){let c=new dt(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let T=c.get(y.largestBatchId);T===null&&(T=ea(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=ea(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=l)););return ie.resolve(p)}St(e,n,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new UI(n,r));let c=this.qr.get(n);c===void 0&&(c=Le(),this.qr.set(n,c)),this.qr.set(n,c.add(r.key))}}class bj{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class qp{constructor(){this.Qr=new kt(Ht.$r),this.Ur=new kt(Ht.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ht(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Ht(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ye(new st([])),r=new Ht(n,e),l=new Ht(n,e+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new st([])),r=new Ht(n,e),l=new Ht(n,e+1);let c=Le();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const n=new Ht(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ht{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}class Aj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new kt(Ht.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new LI(c,n,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Ht(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ie.resolve(d)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,l=this.ei(r),c=l<0?0:l;return ie.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Dp:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ht(n,0),l=new Ht(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),ie.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt(ke);return n.forEach((l=>{const c=new Ht(l,0),d=new Ht(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),ie.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,l=r.length+1;let c=r;ye.isDocumentKey(c)||(c=c.child(""));const d=new Ht(new ye(c),0);let p=new kt(ke);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(g.Yr)),!0)}),d),ie.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ie.forEach(n.mutations,(l=>{const c=new Ht(l.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Ht(n,0),l=this.Zr.firstAfterOrEqual(r);return ie.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Sj{constructor(e){this.ri=e,this.docs=(function(){return new dt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ie.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let r=_i();return n.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():sn.newInvalidDocument(l))})),ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,l){let c=_i();const d=n.path,p=new ye(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:T}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||JC(WC(T),r)<=0||(l.has(T.key)||Wh(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return ie.resolve(c)}getAllFromCollectionGroup(e,n,r,l){Te(9500)}ii(e,n){return ie.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new wj(this)}getSize(e){return ie.resolve(this.size)}}class wj extends yj{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class xj{constructor(e){this.persistence=e,this.si=new ua((n=>Vp(n)),Pp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new qp,this.targetCount=0,this.ai=_l.ur()}forEachTarget(e,n){return this.si.forEach(((r,l)=>n(l))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new _l(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,r){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),ie.waitFor(c).next((()=>l))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ie.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ie.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),ie.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ie.resolve(r)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}class Ub{constructor(e,n){this.ui={},this.overlays={},this.ci=new Qh(0),this.li=!1,this.li=!0,this.hi=new bj,this.referenceDelegate=e(this),this.Pi=new xj(this),this.indexManager=new uj,this.remoteDocumentCache=(function(l){return new Sj(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new oj(n),this.Ii=new Ej(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Tj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Aj(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const l=new Nj(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,n){return ie.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Nj extends eI{constructor(e){super(),this.currentSequenceNumber=e}}class Fp{constructor(e){this.persistence=e,this.Ri=new qp,this.Vi=null}static mi(e){return new Fp(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ie.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(r=>{const l=ye.fromPath(r);return this.gi(e,l).next((c=>{c||n.removeEntry(l,Se.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Mh{constructor(e,n){this.persistence=e,this.pi=new ua((r=>sI(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=gj(this,n)}static mi(e,n){return new Mh(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((l=>r+l))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((r,l)=>this.br(e,r,l).next((c=>c?ie.resolve():n(l)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,n).next((p=>{p||(r++,c.removeEntry(d,Se.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=mh(e.data.value)),n}br(e,n,r){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return ie.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Hp{constructor(e,n,r,l){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=l}static As(e,n){let r=Le(),l=Le();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Hp(e,n.fromCache,r,l)}}class Rj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Cj{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return aN()?8:tI(rn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,l){const c={result:null};return this.ys(e,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,n,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Rj;return this.Ss(e,n,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,n,d,p.size)}))})).next((()=>c.result))}bs(e,n,r,l){return r.documentReadCount<this.fs?(rl()<=Pe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",al(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(rl()<=Pe.DEBUG&&ue("QueryEngine","Query:",al(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(rl()<=Pe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",al(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ks(n))):ie.resolve())}ys(e,n){if(WE(n))return ie.resolve(null);let r=ks(n);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Zm(n,null,"F"),r=ks(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Le(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,d,g.readTime)?this.ys(e,Zm(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,r,l){return WE(n)||l.isEqual(Se.min())?ie.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(n,c);return this.Cs(n,d,r,l)?ie.resolve(null):(rl()<=Pe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),al(n)),this.vs(e,d,n,XC(l,nc)).next((p=>p)))}))}Ds(e,n){let r=new kt(yb(e));return n.forEach(((l,c)=>{Wh(e,c)&&(r=r.add(c))})),r}Cs(e,n,r,l){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,n,r){return rl()<=Pe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",al(n)),this.ps.getDocumentsMatchingQuery(e,n,hr.min(),r)}vs(e,n,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Gp="LocalStore",Ij=3e8;class jj{constructor(e,n,r,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new dt(ke),this.xs=new ua((c=>Vp(c)),Pp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _j(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Dj(i,e,n,r){return new jj(i,e,n,r)}async function zb(i,e){const n=xe(i);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let g=Le();for(const y of l){d.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}for(const y of c){p.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function Oj(i,e){const n=xe(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,T){const b=y.batch,N=b.keys();let I=ie.resolve();return N.forEach((O=>{I=I.next((()=>T.getEntry(g,O))).next((Q=>{const z=y.docVersions.get(O);Ye(z!==null,48541),Q.version.compareTo(z)<0&&(b.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),T.addEntry(Q)))}))})),I.next((()=>p.mutationQueue.removeMutationBatch(g,b)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=Le();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function Bb(i){const e=xe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Mj(i,e){const n=xe(i),r=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const p=[];e.targetChanges.forEach(((T,b)=>{const N=l.get(b);if(!N)return;p.push(n.Pi.removeMatchingKeys(c,T.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(c,T.addedDocuments,b))));let I=N.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?I=I.withResumeToken(Zt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):T.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(T.resumeToken,r)),l=l.insert(b,I),(function(Q,z,J){return Q.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=Ij?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(N,I,T)&&p.push(n.Pi.updateTargetData(c,I))}));let g=_i(),y=Le();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(Vj(c,d,e.documentUpdates).next((T=>{g=T.ks,y=T.qs}))),!r.isEqual(Se.min())){const T=n.Pi.getLastRemoteSnapshotVersion(c).next((b=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(T)}return ie.waitFor(p).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.Ms=l,c)))}function Vj(i,e,n){let r=Le(),l=Le();return n.forEach((c=>r=r.add(c))),e.getEntries(i,r).next((c=>{let d=_i();return n.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(Se.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):ue(Gp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function Pj(i,e){const n=xe(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Dp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function kj(i,e){const n=xe(i);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.Pi.getTargetData(r,e).next((c=>c?(l=c,ie.resolve(l)):n.Pi.allocateTargetId(r).next((d=>(l=new rr(e,d,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function ip(i,e,n){const r=xe(i),l=r.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Cl(d))throw d;ue(Gp,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function uT(i,e,n){const r=xe(i);let l=Se.min(),c=Le();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,T){const b=xe(g),N=b.xs.get(T);return N!==void 0?ie.resolve(b.Ms.get(N)):b.Pi.getTargetData(y,T)})(r,d,ks(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{c=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,n?l:Se.min(),n?c:Le()))).next((p=>(Lj(r,bI(e),p),{documents:p,Qs:c})))))}function Lj(i,e,n){let r=i.Os.get(e)||Se.min();n.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),i.Os.set(e,r)}class hT{constructor(){this.activeTargetIds=RI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Uj{constructor(){this.Mo=new hT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new hT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class zj{Oo(e){}shutdown(){}}const dT="ConnectivityMonitor";class fT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(dT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(dT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ah=null;function rp(){return ah===null?ah=(function(){return 268435456+Math.round(2147483648*Math.random())})():ah++,"0x"+ah.toString(16)}const Im="RestConnection",Bj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qj{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Ch?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,n,r,l,c){const d=rp(),p=this.zo(e,n.toUriEncodedString());ue(Im,`Sending RPC '${e}' ${d}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,c);const{host:y}=new URL(p),T=Sl(y);return this.Jo(e,p,g,r,T).then((b=>(ue(Im,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw pl(Im,`RPC '${e}' ${d} failed with error: `,b,"url: ",p,"request:",r),b}))}Ho(e,n,r,l,c,d){return this.Go(e,n,r,l,c)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Nl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}zo(e,n){const r=Bj[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class Fj{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const tn="WebChannelConnection";class Hj extends qj{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,l,c){const d=rp();return new Promise(((p,g)=>{const y=new H0;y.setWithCredentials(!0),y.listenOnce(G0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case fh.NO_ERROR:const b=y.getResponseJson();ue(tn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),p(b);break;case fh.TIMEOUT:ue(tn,`RPC '${e}' ${d} timed out`),g(new ce(te.DEADLINE_EXCEEDED,"Request time out"));break;case fh.HTTP_ERROR:const N=y.getStatus();if(ue(tn,`RPC '${e}' ${d} failed with status:`,N,"response text:",y.getResponseText()),N>0){let I=y.getResponseJson();Array.isArray(I)&&(I=I[0]);const O=I?.error;if(O&&O.status&&O.message){const Q=(function(J){const ee=J.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(ee)>=0?ee:te.UNKNOWN})(O.status);g(new ce(Q,O.message))}else g(new ce(te.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ce(te.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ue(tn,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(l);ue(tn,`RPC '${e}' ${d} sending request:`,l),y.send(n,"POST",T,r,15)}))}T_(e,n,r){const l=rp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=K0(),p=Y0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const T=c.join("");ue(tn,`Creating RPC '${e}' stream ${l}: ${T}`,g);const b=d.createWebChannel(T,g);this.I_(b);let N=!1,I=!1;const O=new Fj({Yo:z=>{I?ue(tn,`Not sending because RPC '${e}' stream ${l} is closed:`,z):(N||(ue(tn,`Opening RPC '${e}' stream ${l} transport.`),b.open(),N=!0),ue(tn,`RPC '${e}' stream ${l} sending:`,z),b.send(z))},Zo:()=>b.close()}),Q=(z,J,ee)=>{z.listen(J,(K=>{try{ee(K)}catch(de){setTimeout((()=>{throw de}),0)}}))};return Q(b,qo.EventType.OPEN,(()=>{I||(ue(tn,`RPC '${e}' stream ${l} transport opened.`),O.o_())})),Q(b,qo.EventType.CLOSE,(()=>{I||(I=!0,ue(tn,`RPC '${e}' stream ${l} transport closed`),O.a_(),this.E_(b))})),Q(b,qo.EventType.ERROR,(z=>{I||(I=!0,pl(tn,`RPC '${e}' stream ${l} transport errored. Name:`,z.name,"Message:",z.message),O.a_(new ce(te.UNAVAILABLE,"The operation could not be completed")))})),Q(b,qo.EventType.MESSAGE,(z=>{if(!I){const J=z.data[0];Ye(!!J,16349);const ee=J,K=ee?.error||ee[0]?.error;if(K){ue(tn,`RPC '${e}' stream ${l} received error:`,K);const de=K.status;let ve=(function(S){const C=jt[S];if(C!==void 0)return Rb(C)})(de),B=K.message;ve===void 0&&(ve=te.INTERNAL,B="Unknown error status: "+de+" with message "+K.message),I=!0,O.a_(new ce(ve,B)),b.close()}else ue(tn,`RPC '${e}' stream ${l} received:`,J),O.u_(J)}})),Q(p,Q0.STAT_EVENT,(z=>{z.stat===Qm.PROXY?ue(tn,`RPC '${e}' stream ${l} detected buffering proxy`):z.stat===Qm.NOPROXY&&ue(tn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{O.__()}),0),O}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function jm(){return typeof document<"u"?document:null}function td(i){return new KI(i,!0)}class qb{constructor(e,n,r=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&ue("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const mT="PersistentStream";class Fb{constructor(e,n,r,l,c,d,p,g){this.Mi=e,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(vi(n.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{e((()=>{const l=new ce(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(mT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(mT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Gj extends Fb{constructor(e,n,r,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=WI(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Se.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Se.min():d.readTime?Ls(d.readTime):Se.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=sp(this.serializer),n.addTarget=(function(c,d){let p;const g=d.target;if(p=Wm(g)?{documents:ej(c,g)}:{query:tj(c,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=jb(c,d.resumeToken);const y=ep(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Se.min())>0){p.readTime=Oh(c,d.snapshotVersion.toTimestamp());const y=ep(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=sj(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=sp(this.serializer),n.removeTarget=e,this.q_(n)}}class Qj extends Fb{constructor(e,n,r,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=ZI(e.writeResults,e.commitTime),r=Ls(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=sp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>JI(this.serializer,r)))};this.q_(n)}}class Yj{}class Kj extends Yj{constructor(e,n,r,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,tp(n,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(te.UNKNOWN,c.toString())}))}Ho(e,n,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,tp(n,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ce(te.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $j{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vi(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const oa="RemoteStore";class Xj{constructor(e,n,r,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{ha(this)&&(ue(oa,"Restarting streams for network reachability change."),await(async function(g){const y=xe(g);y.Ea.add(4),await bc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await nd(y)})(this))}))})),this.Ra=new $j(r,l)}}async function nd(i){if(ha(i))for(const e of i.da)await e(!0)}async function bc(i){for(const e of i.da)await e(!1)}function Hb(i,e){const n=xe(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),$p(n)?Kp(n):jl(n).O_()&&Yp(n,e))}function Qp(i,e){const n=xe(i),r=jl(n);n.Ia.delete(e),r.O_()&&Gb(n,e),n.Ia.size===0&&(r.O_()?r.L_():ha(n)&&n.Ra.set("Unknown"))}function Yp(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jl(i).Y_(e)}function Gb(i,e){i.Va.Ue(e),jl(i).Z_(e)}function Kp(i){i.Va=new HI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),jl(i).start(),i.Ra.ua()}function $p(i){return ha(i)&&!jl(i).x_()&&i.Ia.size>0}function ha(i){return xe(i).Ea.size===0}function Qb(i){i.Va=void 0}async function Wj(i){i.Ra.set("Online")}async function Jj(i){i.Ia.forEach(((e,n)=>{Yp(i,e)}))}async function Zj(i,e){Qb(i),$p(i)?(i.Ra.ha(e),Kp(i)):i.Ra.set("Unknown")}async function e2(i,e,n){if(i.Ra.set("Online"),e instanceof Ib&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(i,e)}catch(r){ue(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vh(i,r)}else if(e instanceof yh?i.Va.Ze(e):e instanceof Cb?i.Va.st(e):i.Va.tt(e),!n.isEqual(Se.min()))try{const r=await Bb(i.localStore);n.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,y)=>{const T=c.Ia.get(g);if(!T)return;c.Ia.set(g,T.withResumeToken(Zt.EMPTY_BYTE_STRING,T.snapshotVersion)),Gb(c,g);const b=new rr(T.target,g,y,T.sequenceNumber);Yp(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(i,n)}catch(r){ue(oa,"Failed to raise snapshot:",r),await Vh(i,r)}}async function Vh(i,e,n){if(!Cl(e))throw e;i.Ea.add(1),await bc(i),i.Ra.set("Offline"),n||(n=()=>Bb(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ue(oa,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await nd(i)}))}function Yb(i,e){return e().catch((n=>Vh(i,n,e)))}async function sd(i){const e=xe(i),n=pr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Dp;for(;t2(e);)try{const l=await Pj(e.localStore,r);if(l===null){e.Ta.length===0&&n.L_();break}r=l.batchId,n2(e,l)}catch(l){await Vh(e,l)}Kb(e)&&$b(e)}function t2(i){return ha(i)&&i.Ta.length<10}function n2(i,e){i.Ta.push(e);const n=pr(i);n.O_()&&n.X_&&n.ea(e.mutations)}function Kb(i){return ha(i)&&!pr(i).x_()&&i.Ta.length>0}function $b(i){pr(i).start()}async function s2(i){pr(i).ra()}async function i2(i){const e=pr(i);for(const n of i.Ta)e.ea(n.mutations)}async function r2(i,e,n){const r=i.Ta.shift(),l=Up.from(r,e,n);await Yb(i,(()=>i.remoteSyncer.applySuccessfulWrite(l))),await sd(i)}async function a2(i,e){e&&pr(i).X_&&await(async function(r,l){if((function(d){return BI(d)&&d!==te.ABORTED})(l.code)){const c=r.Ta.shift();pr(r).B_(),await Yb(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await sd(r)}})(i,e),Kb(i)&&$b(i)}async function pT(i,e){const n=xe(i);n.asyncQueue.verifyOperationInProgress(),ue(oa,"RemoteStore received new credentials");const r=ha(n);n.Ea.add(3),await bc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await nd(n)}async function l2(i,e){const n=xe(i);e?(n.Ea.delete(2),await nd(n)):e||(n.Ea.add(2),await bc(n),n.Ra.set("Unknown"))}function jl(i){return i.ma||(i.ma=(function(n,r,l){const c=xe(n);return c.sa(),new Gj(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(i.datastore,i.asyncQueue,{Xo:Wj.bind(null,i),t_:Jj.bind(null,i),r_:Zj.bind(null,i),H_:e2.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),$p(i)?Kp(i):i.Ra.set("Unknown")):(await i.ma.stop(),Qb(i))}))),i.ma}function pr(i){return i.fa||(i.fa=(function(n,r,l){const c=xe(n);return c.sa(),new Qj(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:s2.bind(null,i),r_:a2.bind(null,i),ta:i2.bind(null,i),na:r2.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await sd(i)):(await i.fa.stop(),i.Ta.length>0&&(ue(oa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Xp{constructor(e,n,r,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,l,c){const d=Date.now()+r,p=new Xp(e,n,d,l,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wp(i,e){if(vi("AsyncQueue",`${e}: ${i}`),Cl(i))return new ce(te.UNAVAILABLE,`${e}: ${i}`);throw i}class fl{static emptySet(e){return new fl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=Fo(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class gT{constructor(){this.ga=new dt(ye.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class El{constructor(e,n,r,l,c,d,p,g,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,l,c){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new El(e,n,fl.emptySet(n),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class o2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class c2{constructor(){this.queries=yT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=xe(n),c=l.queries;l.queries=yT(),c.forEach(((d,p)=>{for(const g of p.Sa)g.onError(r)}))})(this,new ce(te.ABORTED,"Firestore shutting down"))}}function yT(){return new ua((i=>gb(i)),Xh)}async function Jp(i,e){const n=xe(i);let r=3;const l=e.query;let c=n.queries.get(l);c?!c.ba()&&e.Da()&&(r=2):(c=new o2,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const p=Wp(d,`Initialization of query '${al(e.query)}' failed`);return void e.onError(p)}n.queries.set(l,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&eg(n)}async function Zp(i,e){const n=xe(i),r=e.query;let l=3;const c=n.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function u2(i,e){const n=xe(i);let r=!1;for(const l of e){const c=l.query,d=n.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&eg(n)}function h2(i,e,n){const r=xe(i),l=r.queries.get(e);if(l)for(const c of l.Sa)c.onError(n);r.queries.delete(e)}function eg(i){i.Ca.forEach((e=>{e.next()}))}var ap,vT;(vT=ap||(ap={})).Ma="default",vT.Cache="cache";class tg{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new El(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=El.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ap.Cache}}class Xb{constructor(e){this.key=e}}class Wb{constructor(e){this.key=e}}class d2{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=yb(e),this.tu=new fl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new gT,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,b)=>{const N=l.get(T),I=Wh(this.query,b)?b:null,O=!!N&&this.mutatedKeys.has(N.key),Q=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let z=!1;N&&I?N.data.isEqual(I.data)?O!==Q&&(r.track({type:3,doc:I}),z=!0):this.su(N,I)||(r.track({type:2,doc:I}),z=!0,(g&&this.eu(I,g)>0||y&&this.eu(I,y)<0)&&(p=!0)):!N&&I?(r.track({type:0,doc:I}),z=!0):N&&!I&&(r.track({type:1,doc:N}),z=!0,(g||y)&&(p=!0)),z&&(I?(d=d.add(I),c=Q?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,b)=>(function(I,O){const Q=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:z})}};return Q(I)-Q(O)})(T.type,b.type)||this.eu(T.doc,b.doc))),this.ou(r),l=l??!1;const p=n&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,y=g!==this.Za;return this.Za=g,d.length!==0||y?{snapshot:new El(this.query,e.tu,c,d,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new Wb(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new Xb(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return El.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ng="SyncEngine";class f2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class m2{constructor(e){this.key=e,this.hu=!1}}class p2{constructor(e,n,r,l,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ua((p=>gb(p)),Xh),this.Iu=new Map,this.Eu=new Set,this.du=new dt(ye.comparator),this.Au=new Map,this.Ru=new qp,this.Vu={},this.mu=new Map,this.fu=_l.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function g2(i,e,n=!0){const r=sA(i);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await Jb(r,e,n,!0),l}async function y2(i,e){const n=sA(i);await Jb(n,e,!0,!1)}async function Jb(i,e,n,r){const l=await kj(i.localStore,ks(e)),c=l.targetId,d=i.sharedClientState.addLocalQueryTarget(c,n);let p;return r&&(p=await v2(i,e,c,d==="current",l.resumeToken)),i.isPrimaryClient&&n&&Hb(i.remoteStore,l),p}async function v2(i,e,n,r,l){i.pu=(b,N,I)=>(async function(Q,z,J,ee){let K=z.view.ru(J);K.Cs&&(K=await uT(Q.localStore,z.query,!1).then((({documents:R})=>z.view.ru(R,K))));const de=ee&&ee.targetChanges.get(z.targetId),ve=ee&&ee.targetMismatches.get(z.targetId)!=null,B=z.view.applyChanges(K,Q.isPrimaryClient,de,ve);return ET(Q,z.targetId,B.au),B.snapshot})(i,b,N,I);const c=await uT(i.localStore,e,!0),d=new d2(e,c.Qs),p=d.ru(c.documents),g=Tc.createSynthesizedTargetChangeForCurrentChange(n,r&&i.onlineState!=="Offline",l),y=d.applyChanges(p,i.isPrimaryClient,g);ET(i,n,y.au);const T=new f2(e,n,d);return i.Tu.set(e,T),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),y.snapshot}async function _2(i,e,n){const r=xe(i),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Xh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await ip(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&Qp(r.remoteStore,l.targetId),lp(r,l.targetId)})).catch(Rl)):(lp(r,l.targetId),await ip(r.localStore,l.targetId,!0))}async function E2(i,e){const n=xe(i),r=n.Tu.get(e),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Qp(n.remoteStore,r.targetId))}async function T2(i,e,n){const r=R2(i);try{const l=await(function(d,p){const g=xe(d),y=at.now(),T=p.reduce(((I,O)=>I.add(O.key)),Le());let b,N;return g.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let O=_i(),Q=Le();return g.Ns.getEntries(I,T).next((z=>{O=z,O.forEach(((J,ee)=>{ee.isValidDocument()||(Q=Q.add(J))}))})).next((()=>g.localDocuments.getOverlayedDocuments(I,O))).next((z=>{b=z;const J=[];for(const ee of p){const K=PI(ee,b.get(ee.key).overlayedDocument);K!=null&&J.push(new Er(ee.key,K,ob(K.value.mapValue),Kn.exists(!0)))}return g.mutationQueue.addMutationBatch(I,y,J,p)})).next((z=>{N=z;const J=z.applyToLocalDocumentSet(b,Q);return g.documentOverlayCache.saveOverlays(I,z.batchId,J)}))})).then((()=>({batchId:N.batchId,changes:_b(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,g){let y=d.Vu[d.currentUser.toKey()];y||(y=new dt(ke)),y=y.insert(p,g),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,n),await Ac(r,l.changes),await sd(r.remoteStore)}catch(l){const c=Wp(l,"Failed to persist write");n.reject(c)}}async function Zb(i,e){const n=xe(i);try{const r=await Mj(n.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=n.Au.get(c);d&&(Ye(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ye(d.hu,14607):l.removedDocuments.size>0&&(Ye(d.hu,42227),d.hu=!1))})),await Ac(n,r,e)}catch(r){await Rl(r)}}function _T(i,e,n){const r=xe(i);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const g=xe(d);g.onlineState=p;let y=!1;g.queries.forEach(((T,b)=>{for(const N of b.Sa)N.va(p)&&(y=!0)})),y&&eg(g)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function b2(i,e,n){const r=xe(i);r.sharedClientState.updateQueryState(e,"rejected",n);const l=r.Au.get(e),c=l&&l.key;if(c){let d=new dt(ye.comparator);d=d.insert(c,sn.newNoDocument(c,Se.min()));const p=Le().add(c),g=new ed(Se.min(),new Map,new dt(ke),d,p);await Zb(r,g),r.du=r.du.remove(c),r.Au.delete(e),sg(r)}else await ip(r.localStore,e,!1).then((()=>lp(r,e,n))).catch(Rl)}async function A2(i,e){const n=xe(i),r=e.batch.batchId;try{const l=await Oj(n.localStore,e);tA(n,r,null),eA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ac(n,l)}catch(l){await Rl(l)}}async function S2(i,e,n){const r=xe(i);try{const l=await(function(d,p){const g=xe(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return g.mutationQueue.lookupMutationBatch(y,p).next((b=>(Ye(b!==null,37113),T=b.keys(),g.mutationQueue.removeMutationBatch(y,b)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>g.localDocuments.getDocuments(y,T)))}))})(r.localStore,e);tA(r,e,n),eA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ac(r,l)}catch(l){await Rl(l)}}function eA(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function tA(i,e,n){const r=xe(i);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function lp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),n&&i.Pu.yu(r,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((r=>{i.Ru.containsKey(r)||nA(i,r)}))}function nA(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Qp(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),sg(i))}function ET(i,e,n){for(const r of n)r instanceof Xb?(i.Ru.addReference(r.key,e),w2(i,r)):r instanceof Wb?(ue(ng,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||nA(i,r.key)):Te(19791,{wu:r})}function w2(i,e){const n=e.key,r=n.path.canonicalString();i.du.get(n)||i.Eu.has(r)||(ue(ng,"New document in limbo: "+n),i.Eu.add(r),sg(i))}function sg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ye(st.fromString(e)),r=i.fu.next();i.Au.set(r,new m2(n)),i.du=i.du.insert(n,r),Hb(i.remoteStore,new rr(ks($h(n.path)),r,"TargetPurposeLimboResolution",Qh.ce))}}async function Ac(i,e,n){const r=xe(i),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{d.push(r.pu(g,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const T=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(y){l.push(y);const T=Hp.As(g.targetId,y);c.push(T)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(g,y){const T=xe(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ie.forEach(y,(N=>ie.forEach(N.Es,(I=>T.persistence.referenceDelegate.addReference(b,N.targetId,I))).next((()=>ie.forEach(N.ds,(I=>T.persistence.referenceDelegate.removeReference(b,N.targetId,I)))))))))}catch(b){if(!Cl(b))throw b;ue(Gp,"Failed to update sequence numbers: "+b)}for(const b of y){const N=b.targetId;if(!b.fromCache){const I=T.Ms.get(N),O=I.snapshotVersion,Q=I.withLastLimboFreeSnapshotVersion(O);T.Ms=T.Ms.insert(N,Q)}}})(r.localStore,c))}async function x2(i,e){const n=xe(i);if(!n.currentUser.isEqual(e)){ue(ng,"User change. New user:",e.toKey());const r=await zb(n.localStore,e);n.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new ce(te.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ac(n,r.Ls)}}function N2(i,e){const n=xe(i),r=n.Au.get(e);if(r&&r.hu)return Le().add(r.key);{let l=Le();const c=n.Iu.get(e);if(!c)return l;for(const d of c){const p=n.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function sA(i){const e=xe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=N2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=b2.bind(null,e),e.Pu.H_=u2.bind(null,e.eventManager),e.Pu.yu=h2.bind(null,e.eventManager),e}function R2(i){const e=xe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=A2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=S2.bind(null,e),e}class Ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=td(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Dj(this.persistence,new Cj,e.initialUser,this.serializer)}Cu(e){return new Ub(Fp.mi,this.serializer)}Du(e){return new Uj}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ph.provider={build:()=>new Ph};class C2 extends Ph{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof Mh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new mj(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new Ub((r=>Mh.mi(r,n)),this.serializer)}}class op{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_T(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=x2.bind(null,this.syncEngine),await l2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new c2})()}createDatastore(e){const n=td(e.databaseInfo.databaseId),r=(function(c){return new Hj(c)})(e.databaseInfo);return(function(c,d,p,g){return new Kj(c,d,p,g)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,l,c,d,p){return new Xj(r,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>_T(this.syncEngine,n,0)),(function(){return fT.v()?new fT:new zj})())}createSyncEngine(e,n){return(function(l,c,d,p,g,y,T){const b=new p2(l,c,d,p,g,y);return T&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=xe(n);ue(oa,"RemoteStore shutting down."),r.Ea.add(5),await bc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}op.provider={build:()=>new op};class ig{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const gr="FirestoreClient";class I2{constructor(e,n,r,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=l,this.user=nn.UNAUTHENTICATED,this.clientId=jp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ue(gr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ue(gr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Wp(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Dm(i,e){i.asyncQueue.verifyOperationInProgress(),ue(gr,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let r=n.initialUser;i.setCredentialChangeListener((async l=>{r.isEqual(l)||(await zb(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function TT(i,e){i.asyncQueue.verifyOperationInProgress();const n=await j2(i);ue(gr,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((r=>pT(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,l)=>pT(e.remoteStore,l))),i._onlineComponents=e}async function j2(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(gr,"Using user provided OfflineComponentProvider");try{await Dm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===te.FAILED_PRECONDITION||l.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;pl("Error using user provided cache. Falling back to memory cache: "+n),await Dm(i,new Ph)}}else ue(gr,"Using default OfflineComponentProvider"),await Dm(i,new C2(void 0));return i._offlineComponents}async function iA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(gr,"Using user provided OnlineComponentProvider"),await TT(i,i._uninitializedComponentsProvider._online)):(ue(gr,"Using default OnlineComponentProvider"),await TT(i,new op))),i._onlineComponents}function D2(i){return iA(i).then((e=>e.syncEngine))}async function kh(i){const e=await iA(i),n=e.eventManager;return n.onListen=g2.bind(null,e.syncEngine),n.onUnlisten=_2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=y2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=E2.bind(null,e.syncEngine),n}function O2(i,e,n={}){const r=new mi;return i.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,g,y){const T=new ig({next:N=>{T.Nu(),d.enqueueAndForget((()=>Zp(c,b)));const I=N.docs.has(p);!I&&N.fromCache?y.reject(new ce(te.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&N.fromCache&&g&&g.source==="server"?y.reject(new ce(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(N)},error:N=>y.reject(N)}),b=new tg($h(p.path),T,{includeMetadataChanges:!0,qa:!0});return Jp(c,b)})(await kh(i),i.asyncQueue,e,n,r))),r.promise}function M2(i,e,n={}){const r=new mi;return i.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,g,y){const T=new ig({next:N=>{T.Nu(),d.enqueueAndForget((()=>Zp(c,b))),N.fromCache&&g.source==="server"?y.reject(new ce(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(N)},error:N=>y.reject(N)}),b=new tg(p,T,{includeMetadataChanges:!0,qa:!0});return Jp(c,b)})(await kh(i),i.asyncQueue,e,n,r))),r.promise}function rA(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const bT=new Map;const aA="firestore.googleapis.com",AT=!0;class ST{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aA,this.ssl=AT}else this.host=e.host,this.ssl=e.ssl??AT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Lb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dj)throw new ce(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$C("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rA(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class id{constructor(e,n,r,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ST({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ST(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new UC;switch(r.type){case"firstParty":return new FC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=bT.get(n);r&&(ue("ComponentProvider","Removing Datastore"),bT.delete(n),r.terminate())})(this),Promise.resolve()}}function V2(i,e,n,r={}){i=_n(i,id);const l=Sl(e),c=i._getSettings(),d={...c,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${n}`;l&&(e0(`https://${p}`),t0("Firestore",!0)),c.host!==aA&&c.host!==p&&pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:l,emulatorOptions:r};if(!sa(g,d)&&(i._setSettings(g),r.mockUserToken)){let y,T;if(typeof r.mockUserToken=="string")y=r.mockUserToken,T=nn.MOCK_USER;else{y=Wx(r.mockUserToken,i._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new ce(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new nn(b)}i._authCredentials=new zC(new X0(y,T))}}class Tr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Tr(this.firestore,e,this._query)}}class gt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}toJSON(){return{type:gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(_c(n,gt._jsonSchema))return new gt(e,r||null,new ye(st.fromString(n.referencePath)))}}gt._jsonSchemaVersion="firestore/documentReference/1.0",gt._jsonSchema={type:Ot("string",gt._jsonSchemaVersion),referencePath:Ot("string")};class ur extends Tr{constructor(e,n,r){super(e,n,$h(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new ye(e))}withConverter(e){return new ur(this.firestore,e,this._path)}}function Fs(i,e,...n){if(i=Lt(i),W0("collection","path",e),i instanceof id){const r=st.fromString(e,...n);return kE(r),new ur(i,null,r)}{if(!(i instanceof gt||i instanceof ur))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(st.fromString(e,...n));return kE(r),new ur(i.firestore,null,r)}}function ft(i,e,...n){if(i=Lt(i),arguments.length===1&&(e=jp.newId()),W0("doc","path",e),i instanceof id){const r=st.fromString(e,...n);return PE(r),new gt(i,null,new ye(r))}{if(!(i instanceof gt||i instanceof ur))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(st.fromString(e,...n));return PE(r),new gt(i.firestore,i instanceof ur?i.converter:null,new ye(r))}}const wT="AsyncQueue";class xT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qb(this,"async_queue_retry"),this._c=()=>{const r=jm();r&&ue(wT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=jm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=jm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new mi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Cl(e))throw e;ue(wT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,vi("INTERNAL UNHANDLED ERROR: ",NT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=Xp.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Te(47125,{Pc:NT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function NT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}function RT(i){return(function(n,r){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(i,["next","error","complete"])}class Ei extends id{constructor(e,n,r,l){super(e,n,r,l),this.type="firestore",this._queue=new xT,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xT(e),this._firestoreClient=void 0,await e}}}function P2(i,e){const n=typeof i=="object"?i:i0(),r=typeof i=="string"?i:Ch,l=Ep(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=$x("firestore");c&&V2(l,...c)}return l}function rd(i){if(i._terminated)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||k2(i),i._firestoreClient}function k2(i){const e=i._freezeSettings(),n=(function(l,c,d,p){return new aI(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,rA(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new I2(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(i._componentsProvider))}class Yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yn(Zt.fromBase64String(e))}catch(n){throw new ce(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yn(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_c(e,Yn._jsonSchema))return Yn.fromBase64String(e.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:Ot("string",Yn._jsonSchemaVersion),bytes:Ot("string")};class ad{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ld{constructor(e){this._methodName=e}}class Us{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Us._jsonSchemaVersion}}static fromJSON(e){if(_c(e,Us._jsonSchema))return new Us(e.latitude,e.longitude)}}Us._jsonSchemaVersion="firestore/geoPoint/1.0",Us._jsonSchema={type:Ot("string",Us._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};class zs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:zs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_c(e,zs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new zs(e.vectorValues);throw new ce(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zs._jsonSchemaVersion="firestore/vectorValue/1.0",zs._jsonSchema={type:Ot("string",zs._jsonSchemaVersion),vectorValues:Ot("object")};const L2=/^__.*__$/;class U2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Er(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ec(e,this.data,n,this.fieldTransforms)}}class lA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Er(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function oA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:i})}}class rg{constructor(e,n,r,l,c,d){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new rg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Lh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(oA(this.Ac)&&L2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class z2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||td(e)}Cc(e,n,r,l=!1){return new rg({Ac:e,methodName:n,Dc:r,path:Jt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function od(i){const e=i._freezeSettings(),n=td(i._databaseId);return new z2(i._databaseId,!!e.ignoreUndefinedProperties,n)}function cA(i,e,n,r,l,c={}){const d=i.Cc(c.merge||c.mergeFields?2:0,e,n,l);lg("Data must be an object, but it was:",d,r);const p=uA(r,d);let g,y;if(c.merge)g=new jn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const b of c.mergeFields){const N=cp(e,b,n);if(!d.contains(N))throw new ce(te.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);dA(T,N)||T.push(N)}g=new jn(T),y=d.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,y=d.fieldTransforms;return new U2(new vn(p),g,y)}class cd extends ld{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cd}}class ag extends ld{_toFieldTransform(e){return new DI(e.path,new lc)}isEqual(e){return e instanceof ag}}function B2(i,e,n,r){const l=i.Cc(1,e,n);lg("Data must be an object, but it was:",l,r);const c=[],d=vn.empty();_r(r,((g,y)=>{const T=og(e,g,n);y=Lt(y);const b=l.yc(T);if(y instanceof cd)c.push(T);else{const N=Sc(y,b);N!=null&&(c.push(T),d.set(T,N))}}));const p=new jn(c);return new lA(d,p,l.fieldTransforms)}function q2(i,e,n,r,l,c){const d=i.Cc(1,e,n),p=[cp(e,r,n)],g=[l];if(c.length%2!=0)throw new ce(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)p.push(cp(e,c[N])),g.push(c[N+1]);const y=[],T=vn.empty();for(let N=p.length-1;N>=0;--N)if(!dA(y,p[N])){const I=p[N];let O=g[N];O=Lt(O);const Q=d.yc(I);if(O instanceof cd)y.push(I);else{const z=Sc(O,Q);z!=null&&(y.push(I),T.set(I,z))}}const b=new jn(y);return new lA(T,b,d.fieldTransforms)}function F2(i,e,n,r=!1){return Sc(n,i.Cc(r?4:3,e))}function Sc(i,e){if(hA(i=Lt(i)))return lg("Unsupported field value:",e,i),uA(i,e);if(i instanceof ld)return(function(r,l){if(!oA(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let g=Sc(p,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(i,e)}return(function(r,l){if((r=Lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CI(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=at.fromDate(r);return{timestampValue:Oh(l.serializer,c)}}if(r instanceof at){const c=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Oh(l.serializer,c)}}if(r instanceof Us)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yn)return{bytesValue:jb(l.serializer,r._byteString)};if(r instanceof gt){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Bp(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof zs)return(function(d,p){return{mapValue:{fields:{[ab]:{stringValue:lb},[Ih]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return kp(p.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Gh(r)}`)})(i,e)}function uA(i,e){const n={};return eb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_r(i,((r,l)=>{const c=Sc(l,e.mc(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function hA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof at||i instanceof Us||i instanceof Yn||i instanceof gt||i instanceof ld||i instanceof zs)}function lg(i,e,n){if(!hA(n)||!J0(n)){const r=Gh(n);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function cp(i,e,n){if((e=Lt(e))instanceof ad)return e._internalPath;if(typeof e=="string")return og(i,e);throw Lh("Field path arguments must be of type string or ",i,!1,void 0,n)}const H2=new RegExp("[~\\*/\\[\\]]");function og(i,e,n){if(e.search(H2)>=0)throw Lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new ad(...e.split("."))._internalPath}catch{throw Lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Lh(i,e,n,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${r}`),d&&(g+=` in document ${l}`),g+=")"),new ce(te.INVALID_ARGUMENT,p+i+g)}function dA(i,e){return i.some((n=>n.isEqual(e)))}class fA{constructor(e,n,r,l,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new G2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ud("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class G2 extends fA{data(){return super.data()}}function ud(i,e){return typeof e=="string"?og(i,e):e instanceof ad?e._internalPath:e._delegate._internalPath}function mA(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ce(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cg{}class pA extends cg{}function ug(i,e,...n){let r=[];e instanceof cg&&r.push(e),r=r.concat(n),(function(c){const d=c.filter((g=>g instanceof hg)).length,p=c.filter((g=>g instanceof hd)).length;if(d>1||d>0&&p>0)throw new ce(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)i=l._apply(i);return i}class hd extends pA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new hd(e,n,r)}_apply(e){const n=this._parse(e);return gA(e._query,n),new Tr(e.firestore,e.converter,Jm(e._query,n))}_parse(e){const n=od(e.firestore);return(function(c,d,p,g,y,T,b){let N;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ce(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){IT(b,T);const O=[];for(const Q of b)O.push(CT(g,c,Q));N={arrayValue:{values:O}}}else N=CT(g,c,b)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||IT(b,T),N=F2(p,d,b,T==="in"||T==="not-in");return Dt.create(y,T,N)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Q2(i,e,n){const r=e,l=ud("where",i);return hd._create(l,r,n)}class hg extends cg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new hg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:us.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const g of p)gA(d,g),d=Jm(d,g)})(e._query,n),new Tr(e.firestore,e.converter,Jm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dg extends pA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new dg(e,n)}_apply(e){const n=(function(l,c,d){if(l.startAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ac(c,d)})(e._query,this._field,this._direction);return new Tr(e.firestore,e.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new Il(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,n))}}function Y2(i,e="asc"){const n=e,r=ud("orderBy",i);return dg._create(r,n)}function CT(i,e,n){if(typeof(n=Lt(n))=="string"){if(n==="")throw new ce(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pb(e)&&n.indexOf("/")!==-1)throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(st.fromString(n));if(!ye.isDocumentKey(r))throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return GE(i,new ye(r))}if(n instanceof gt)return GE(i,n._key);throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gh(n)}.`)}function IT(i,e){if(!Array.isArray(i)||i.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gA(i,e){const n=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(i.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class K2{convertValue(e,n="none"){switch(mr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return _r(e,((l,c)=>{r[l]=this.convertValue(c,n)})),r}convertVectorValue(e){const n=e.fields?.[Ih].arrayValue?.values?.map((r=>Tt(r.doubleValue)));return new zs(n)}convertGeoPoint(e){return new Us(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Kh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sc(e));default:return null}}convertTimestamp(e){const n=dr(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);Ye(kb(r),9688,{name:e});const l=new ic(r.get(1),r.get(3)),c=new ye(r.popFirst(5));return l.isEqual(n)||vi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function yA(i,e,n){let r;return r=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,r}class Go{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ta extends fA{constructor(e,n,r,l,c,d){super(e,n,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ud("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ta._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",ta._jsonSchema={type:Ot("string",ta._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class vh extends ta{data(e={}){return super.data(e)}}class na{constructor(e,n,r,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Go(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new vh(this._firestore,this._userDataWriter,r.key,r,new Go(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const g=new vh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Go(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new vh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Go(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:$2(p.type),doc:g,oldIndex:y,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=na._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $2(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:i})}}function X2(i){i=_n(i,gt);const e=_n(i.firestore,Ei);return O2(rd(e),i._key).then((n=>vA(e,i,n)))}na._jsonSchemaVersion="firestore/querySnapshot/1.0",na._jsonSchema={type:Ot("string",na._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class fg extends K2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,n)}}function da(i){i=_n(i,Tr);const e=_n(i.firestore,Ei),n=rd(e),r=new fg(e);return mA(i._query),M2(n,i._query).then((l=>new na(e,r,i,l)))}function mg(i,e,n){i=_n(i,gt);const r=_n(i.firestore,Ei),l=yA(i.converter,e,n);return dd(r,[cA(od(r),"setDoc",i._key,l,i.converter!==null,n).toMutation(i._key,Kn.none())])}function En(i,e,n,...r){i=_n(i,gt);const l=_n(i.firestore,Ei),c=od(l);let d;return d=typeof(e=Lt(e))=="string"||e instanceof ad?q2(c,"updateDoc",i._key,e,n,r):B2(c,"updateDoc",i._key,e),dd(l,[d.toMutation(i._key,Kn.exists(!0))])}function pg(i){return dd(_n(i.firestore,Ei),[new Lp(i._key,Kn.none())])}function gg(i,e){const n=_n(i.firestore,Ei),r=ft(i),l=yA(i.converter,e);return dd(n,[cA(od(i.firestore),"addDoc",r._key,l,i.converter!==null,{}).toMutation(r._key,Kn.exists(!1))]).then((()=>r))}function W2(i,...e){i=Lt(i);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||RT(e[r])||(n=e[r++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(RT(e[r])){const g=e[r];e[r]=g.next?.bind(g),e[r+1]=g.error?.bind(g),e[r+2]=g.complete?.bind(g)}let c,d,p;if(i instanceof gt)d=_n(i.firestore,Ei),p=$h(i._key.path),c={next:g=>{e[r]&&e[r](vA(d,i,g))},error:e[r+1],complete:e[r+2]};else{const g=_n(i,Tr);d=_n(g.firestore,Ei),p=g._query;const y=new fg(d);c={next:T=>{e[r]&&e[r](new na(d,y,g,T))},error:e[r+1],complete:e[r+2]},mA(i._query)}return(function(y,T,b,N){const I=new ig(N),O=new tg(T,I,b);return y.asyncQueue.enqueueAndForget((async()=>Jp(await kh(y),O))),()=>{I.Nu(),y.asyncQueue.enqueueAndForget((async()=>Zp(await kh(y),O)))}})(rd(d),p,l,c)}function dd(i,e){return(function(r,l){const c=new mi;return r.asyncQueue.enqueueAndForget((async()=>T2(await D2(r),l,c))),c.promise})(rd(i),e)}function vA(i,e,n){const r=n.docs.get(e._key),l=new fg(i);return new ta(i,l,e._key,r,new Go(n.hasPendingWrites,n.fromCache),e.converter)}function Ut(){return new ag("serverTimestamp")}(function(e,n=!0){(function(l){Nl=l})(wl),ml(new ia("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new Ei(new BC(r.getProvider("auth-internal")),new HC(d,r.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ce(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ic(y.options.projectId,T)})(d,l),d);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),or(DE,OE,e),or(DE,OE,"esm2020")})();const J2={apiKey:"AIzaSyDs1rldmSrRpLE_73rgQNfLxkOBrZvEQyc",authDomain:"future-fs-02.firebaseapp.com",projectId:"future-fs-02",storageBucket:"future-fs-02.firebasestorage.app",messagingSenderId:"266672719234",appId:"1:266672719234:web:3f69d225d2f557b6e1fb9b"},_A=Tp(J2),fd=q0(_A);new ci;const He=P2(_A),Z2=async(i,e)=>{const n=ft(He,"users",i);await mg(n,{fullName:"",email:"",role:"user",phone:"",addressLine1:"",addressLine2:"",city:"",state:"",postalCode:"",country:"",provider:"password",createdAt:Ut(),...e},{merge:!0})},EA=async(i,e)=>{const n=ft(He,"users",i);await En(n,e)},eD=async i=>{const e=ft(He,"users",i);await En(e,{isBanned:!0,bannedAt:Ut()})},tD=async i=>{const e=ft(He,"users",i);await En(e,{isBanned:!1,bannedAt:null})},nD=async i=>{const e=Fs(He,"products");await gg(e,{...i,createdAt:Ut()})},uc=async()=>{const i=Fs(He,"products"),e=ug(i);return(await da(e)).docs.map(r=>({id:r.id,...r.data()}))},TA=async i=>{const e=ft(He,"products",i),n=await X2(e);return n.exists()?{id:n.id,...n.data()}:null},sD=async(i,e)=>{const n=ft(He,"products",i);await En(n,e)},iD=async i=>{const e=ft(He,"products",i);await pg(e)},rD=async(i,e)=>{const n=ft(He,"products",i);await En(n,{offer:{discountPercent:e.discountPercent,offerTitle:e.offerTitle||null,startDate:e.startDate,endDate:e.endDate,isFeatured:e.isFeatured||!1,createdAt:Ut()}})},aD=async i=>{const e=ft(He,"products",i);await En(e,{offer:null})},lD=async()=>{const i=Fs(He,"products"),e=await da(i),n=new Date;return e.docs.map(r=>({id:r.id,...r.data()})).filter(r=>{if(!r.offer||!r.offer.isFeatured)return!1;const l=new Date(r.offer.startDate),c=new Date(r.offer.endDate);return n>=l&&n<=c}).slice(0,6)},oD=async i=>{const e=Fs(He,"orders");return(await gg(e,{...i,status:"pending_approval",cancelRequested:!1,cancelReason:null,cancelApproved:null,estimatedDelivery:null,createdAt:Ut()})).id},bA=async i=>{const e=Fs(He,"orders"),n=ug(e,Q2("userId","==",i));return(await da(n)).docs.map(c=>({id:c.id,...c.data()})).sort((c,d)=>{const p=c.createdAt?.toDate?.()||new Date(c.createdAt)||new Date(0);return(d.createdAt?.toDate?.()||new Date(d.createdAt)||new Date(0))-p})},yg=async()=>{const i=Fs(He,"orders"),e=ug(i,Y2("createdAt","desc"));return(await da(e)).docs.map(r=>({id:r.id,...r.data()}))},vg=async()=>{const i=Fs(He,"users");return(await da(i)).docs.map(n=>({uid:n.id,...n.data()}))},AA=async i=>{const e=Fs(He,"users",i,"addresses");return(await da(e)).docs.map(r=>({id:r.id,...r.data()}))},SA=async(i,e)=>{const n=Fs(He,"users",i,"addresses");return(await gg(n,{...e,createdAt:Ut()})).id},cD=async(i,e)=>{const n=ft(He,"users",i,"addresses",e);await pg(n)},uD=async(i,e)=>{const n=ft(He,"users",i);await En(n,{defaultAddressId:e})},hD=async(i,e)=>{const n=ft(He,"orders",i);await En(n,{status:e,updatedAt:Ut()})},dD=async i=>{const e=ft(He,"orders",i);await En(e,{status:"approved",approvedAt:Ut(),updatedAt:Ut()})},fD=async(i,e)=>{const n=ft(He,"orders",i);await En(n,{status:"cancelled",rejectionReason:e,rejectedAt:Ut(),updatedAt:Ut()})},mD=async(i,e)=>{const n=ft(He,"orders",i);await En(n,{estimatedDelivery:e,updatedAt:Ut()})},pD=async(i,e)=>{const n=ft(He,"orders",i);await En(n,{cancelRequested:!0,cancelReason:e,cancelRequestedAt:Ut(),updatedAt:Ut()})},gD=async i=>{const e=ft(He,"orders",i);await En(e,{status:"cancelled",cancelApproved:!0,cancelApprovedAt:Ut(),updatedAt:Ut()})},yD=async i=>{const e=ft(He,"orders",i);await En(e,{cancelApproved:!1,cancelRejectedAt:Ut(),updatedAt:Ut()})},vD=async i=>{const e=Fs(He,"users",i,"wishlist");return(await da(e)).docs.map(r=>({id:r.id,...r.data()}))},_D=async(i,e)=>{const n=ft(He,"users",i,"wishlist",e.id);await mg(n,{...e,addedAt:Ut()})},ED=async(i,e)=>{const n=ft(He,"users",i,"wishlist",e);await pg(n)},TD=async({email:i,password:e,...n})=>{try{const l=(await j0(fd,i,e)).user;return await Z2(l.uid,{email:i,...n,provider:"password"}),l}catch(r){throw r}},bD=(i,e)=>TR(fd,i,e),AD=()=>wR(fd),SD=i=>SR(fd,i),wA=M.createContext(),Tn=()=>M.useContext(wA),wD=({children:i})=>{const[e,n]=M.useState(null),[r,l]=M.useState(null),[c,d]=M.useState(!0);M.useEffect(()=>SD(async T=>{if(n(T),T){const b=ft(He,"users",T.uid),N=W2(b,I=>{I.exists()?l(I.data()):l(null),d(!1)},()=>{d(!1)});return()=>N()}else l(null),d(!1)}),[]);const p=r?.role==="admin",g={currentUser:e,userProfile:r,isAdmin:p,loading:c};return c?u.jsxs("div",{style:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",fontFamily:"sans-serif",flexDirection:"column",gap:"1rem",background:"#1a1a2e",color:"white"},children:[u.jsx("div",{className:"loader",style:{border:"4px solid rgba(255,255,255,0.1)",borderTop:"4px solid #667eea",borderRadius:"50%",width:"40px",height:"40px",animation:"spin 1s linear infinite"}}),u.jsx("p",{children:"Loading FutureStore..."}),u.jsx("style",{children:"@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }"})]}):u.jsx(wA.Provider,{value:g,children:i})},xA=M.createContext(),fa=()=>M.useContext(xA),xD=({children:i})=>{const[e,n]=M.useState(()=>{const y=localStorage.getItem("cart");return y?JSON.parse(y):[]});M.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);const r=(y,T=1)=>{n(b=>b.find(I=>I.id===y.id)?b.map(I=>I.id===y.id?{...I,quantity:I.quantity+T}:I):[...b,{...y,quantity:T}])},l=y=>{n(T=>T.filter(b=>b.id!==y))},c=(y,T)=>{T<1||n(b=>b.map(N=>N.id===y?{...N,quantity:T}:N))},d=()=>{n([])},p=e.reduce((y,T)=>y+T.price*T.quantity,0),g=e.reduce((y,T)=>y+T.quantity,0);return u.jsx(xA.Provider,{value:{cartItems:e,addToCart:r,removeFromCart:l,updateQuantity:c,clearCart:d,cartTotal:p,cartCount:g},children:i})},il=({children:i})=>{const{currentUser:e,userProfile:n,loading:r}=Tn();return r?u.jsx("div",{children:"Loading..."}):e?n?.isBanned?u.jsx(Mm,{to:"/banned",replace:!0}):i:u.jsx(Mm,{to:"/login",replace:!0})},ND=({children:i})=>{const{currentUser:e,isAdmin:n,loading:r}=Tn();return r?u.jsx("div",{children:"Loading..."}):!e||!n?u.jsx(Mm,{to:"/",replace:!0}):i},RD=()=>{const{currentUser:i,isAdmin:e,userProfile:n}=Tn(),{cartCount:r}=fa(),l=cn(),c=async()=>{await AD(),l("/login")};return u.jsx("header",{className:"main-header",children:u.jsxs("div",{className:"header-container",children:[u.jsxs(Ae,{to:"/",className:"logo",children:[u.jsx("span",{className:"logo-icon",children:""}),u.jsx("span",{className:"logo-text",children:"FutureStore"})]}),u.jsxs("nav",{className:"main-nav",children:[u.jsx(Ae,{to:"/",children:"Home"}),u.jsx(Ae,{to:"/products",children:"Shop"}),e&&u.jsx(Ae,{to:"/admin",className:"admin-link",children:"Admin"})]}),u.jsxs("div",{className:"header-actions",children:[u.jsxs(Ae,{to:"/cart",className:"cart-link",children:[u.jsx("span",{className:"cart-icon",children:""}),r>0&&u.jsx("span",{className:"cart-badge",children:r})]}),i?u.jsx("div",{className:"user-menu",children:u.jsxs("div",{className:"user-dropdown",children:[u.jsxs("button",{className:"user-btn",children:[u.jsx("span",{className:"user-avatar",children:n?.fullName?.charAt(0)||""}),u.jsx("span",{className:"user-name",children:n?.fullName?.split(" ")[0]||"Account"})]}),u.jsxs("div",{className:"dropdown-content",children:[u.jsx(Ae,{to:"/profile",children:" My Profile"}),u.jsx(Ae,{to:"/profile",onClick:()=>setTimeout(()=>document.querySelector('[data-tab="orders"]')?.click(),100),children:" My Orders"}),u.jsx(Ae,{to:"/profile",onClick:()=>setTimeout(()=>document.querySelector('[data-tab="wishlist"]')?.click(),100),children:" Wishlist"}),u.jsx(Ae,{to:"/addresses",children:" Addresses"}),u.jsx("button",{onClick:c,children:" Logout"})]})]})}):u.jsxs("div",{className:"auth-buttons",children:[u.jsx(Ae,{to:"/login",className:"btn-login",children:"Login"}),u.jsx(Ae,{to:"/register",className:"btn-register",children:"Sign Up"})]})]})]})})},CD=()=>u.jsx("footer",{className:"main-footer",children:u.jsxs("div",{className:"footer-content",children:[u.jsxs("div",{className:"footer-brand",children:[u.jsx("span",{className:"logo-icon",children:""}),u.jsx("span",{children:"FutureStore"})]}),u.jsxs("div",{className:"footer-links",children:[u.jsx(Ae,{to:"/products",children:"Shop"}),u.jsx(Ae,{to:"/my-orders",children:"Orders"})]}),u.jsxs("p",{className:"footer-copyright",children:[" ",new Date().getFullYear()," FutureStore. Built with React & Firebase."]})]})}),NA=M.createContext(),RA=()=>M.useContext(NA),ID=({children:i})=>{const{currentUser:e}=Tn(),[n,r]=M.useState([]),[l,c]=M.useState(!0);M.useEffect(()=>{e?d():(r([]),c(!1))},[e]);const d=async()=>{try{const T=await vD(e.uid);r(T)}catch(T){console.error("Error fetching wishlist:",T)}finally{c(!1)}},p=async T=>{if(!e)return!1;try{return await _D(e.uid,T),r(b=>[...b,{...T,addedAt:new Date}]),!0}catch(b){return console.error("Error adding to wishlist:",b),!1}},g=async T=>{if(!e)return!1;try{return await ED(e.uid,T),r(b=>b.filter(N=>N.id!==T)),!0}catch(b){return console.error("Error removing from wishlist:",b),!1}},y=T=>n.some(b=>b.id===T);return u.jsx(NA.Provider,{value:{wishlistItems:n,loading:l,addToWishlist:p,removeFromWishlist:g,isInWishlist:y,refreshWishlist:d},children:i})},CA=({product:i,style:e})=>{const{addToCart:n}=fa(),{currentUser:r}=Tn(),{isInWishlist:l,addToWishlist:c,removeFromWishlist:d}=RA(),p=cn(),g=l(i.id),T=(()=>{if(!i.offer)return!1;const ee=new Date,K=new Date(i.offer.startDate),de=new Date(i.offer.endDate);return ee>=K&&ee<=de})(),b=T?i.offer.discountPercent:0,N=T?i.price*(1-b/100):i.price,I=ee=>{if(ee.preventDefault(),ee.stopPropagation(),!r){p("/login");return}n({...i,price:N})},O=ee=>{if(ee.preventDefault(),ee.stopPropagation(),!r){p("/login");return}p(`/checkout?product=${i.id}`)},Q=ee=>{if(ee.preventDefault(),ee.stopPropagation(),!r){p("/login");return}g?d(i.id):c(i)},z=i.stock===0,J=i.stock>0&&i.stock<=5;return u.jsxs("div",{className:"product-card",style:e,children:[u.jsx("button",{className:`btn-wishlist ${g?"active":""}`,onClick:Q,title:g?"Remove from Wishlist":"Add to Wishlist",children:g?"":""}),u.jsxs(Ae,{to:`/product/${i.id}`,className:"card-link",children:[u.jsxs("div",{className:"card-image",children:[u.jsx("img",{src:i.imageUrl||"https://placehold.co/300x300?text=Product",alt:i.name,loading:"lazy"}),T&&u.jsxs("span",{className:"offer-badge",children:[u.jsxs("span",{className:"offer-percent",children:[b,"%"]}),u.jsx("span",{className:"offer-off",children:"OFF"})]}),J&&u.jsxs("span",{className:"stock-badge warning",children:["Only ",i.stock," left"]}),z&&u.jsx("span",{className:"stock-badge danger",children:"Out of Stock"})]}),u.jsxs("div",{className:"card-body",children:[u.jsx("h3",{className:"card-title",children:i.name}),T&&i.offer.offerTitle&&u.jsx("span",{className:"offer-title",children:i.offer.offerTitle}),u.jsxs("p",{className:"card-desc",children:[i.description?.substring(0,55),i.description?.length>55?"...":""]}),u.jsx("div",{className:"price-section",children:T?u.jsxs(u.Fragment,{children:[u.jsxs("span",{className:"price discounted",children:["",N.toFixed(0)]}),u.jsxs("span",{className:"original-price",children:["",i.price.toFixed(0)]}),u.jsxs("span",{className:"save-badge",children:["Save ",b,"%"]})]}):u.jsxs("span",{className:"price",children:["",i.price?.toFixed(0)]})}),u.jsxs("div",{className:"card-actions",children:[u.jsx("button",{onClick:I,className:"btn-cart",disabled:z,title:"Add to Cart",children:u.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M6 6h15l-1.5 9h-12z"}),u.jsx("circle",{cx:"9",cy:"20",r:"1"}),u.jsx("circle",{cx:"18",cy:"20",r:"1"}),u.jsx("path",{d:"M6 6L4 3H2"})]})}),u.jsx("button",{onClick:O,className:"btn-buy",disabled:z,children:"Buy Now"})]})]})]})]})},jD=()=>{const[i,e]=M.useState([]),[n,r]=M.useState([]),[l,c]=M.useState(!0),[d,p]=M.useState(""),[g,y]=M.useState({products:0,customers:0,orders:0}),T=cn(),{addToCart:b}=fa(),{currentUser:N}=Tn();M.useEffect(()=>{I(),O(),Q()},[]);const I=async()=>{try{const K=await uc();e(K)}catch(K){console.error("Error fetching products",K)}finally{c(!1)}},O=async()=>{try{const[K,de,ve]=await Promise.all([uc(),vg(),yg()]);y({products:K.length,customers:de.filter(B=>B.role!=="admin").length,orders:ve.filter(B=>B.status==="delivered").length})}catch(K){console.error("Error fetching stats",K)}},Q=async()=>{try{const K=await lD();r(K)}catch(K){console.error("Error fetching deals",K)}},z=K=>{K.preventDefault(),d.trim()&&T(`/products?search=${encodeURIComponent(d)}`)},J=[...new Set(i.map(K=>K.category).filter(Boolean))],ee=i.slice(0,8);return u.jsxs("div",{className:"home-page",children:[u.jsxs("section",{className:"hero-section",children:[u.jsx("div",{className:"hero-bg"}),u.jsxs("div",{className:"hero-content",children:[u.jsx("span",{className:"hero-badge",children:" New Collection Available"}),u.jsx("h1",{children:"Discover Premium Products"}),u.jsx("p",{children:"Shop the latest trends with exclusive deals and free shipping on orders over 500"}),u.jsx("form",{onSubmit:z,className:"hero-search",children:u.jsxs("div",{className:"search-wrapper",children:[u.jsx("span",{className:"search-icon",children:""}),u.jsx("input",{type:"text",placeholder:"Search for products...",value:d,onChange:K=>p(K.target.value)}),u.jsx("button",{type:"submit",className:"search-btn",children:"Search"})]})}),u.jsxs("div",{className:"hero-cta",children:[u.jsx(Ae,{to:"/products",className:"btn-primary btn-large",children:"Browse Products"}),u.jsx("span",{className:"hero-features",children:" Free Shipping over 500   24/7 Support   Easy Returns"})]})]})]}),n.length>0&&u.jsxs("section",{className:"deals-section",children:[u.jsxs("div",{className:"section-header",children:[u.jsxs("div",{className:"deals-header",children:[u.jsx("span",{className:"deals-icon",children:""}),u.jsx("h2",{children:"Today's Deals"}),u.jsx("span",{className:"deals-badge",children:"Limited Time"})]}),u.jsx(Ae,{to:"/products",className:"view-all",children:"View All "})]}),u.jsx("div",{className:"deals-grid",children:n.map((K,de)=>{const ve=K.price-K.price*K.offer.discountPercent/100;return u.jsxs(Ae,{to:`/product/${K.id}`,className:"deal-card",style:{animationDelay:`${de*.1}s`},children:[u.jsxs("div",{className:"deal-badge",children:[K.offer.discountPercent,"% OFF"]}),u.jsx("div",{className:"deal-image",children:u.jsx("img",{src:K.imageUrl||"https://placehold.co/200x200?text=Product",alt:K.name})}),u.jsxs("div",{className:"deal-info",children:[u.jsx("h3",{className:"deal-name",children:K.name}),K.offer.offerTitle&&u.jsx("span",{className:"deal-offer-title",children:K.offer.offerTitle}),u.jsxs("div",{className:"deal-pricing",children:[u.jsxs("span",{className:"deal-price",children:["",ve.toFixed(0)]}),u.jsxs("span",{className:"deal-original",children:["",K.price]})]})]})]},K.id)})})]}),u.jsxs("section",{className:"categories-section",children:[u.jsxs("div",{className:"section-header",children:[u.jsx("h2",{children:"Shop by Category"}),u.jsx(Ae,{to:"/products",className:"view-all",children:"View All "})]}),u.jsx("div",{className:"categories-grid",children:J.length>0?J.map((K,de)=>u.jsxs(Ae,{to:`/products?category=${encodeURIComponent(K)}`,className:"category-card",style:{animationDelay:`${de*.1}s`},children:[u.jsxs("div",{className:"category-icon",children:[K==="Electronics"&&"",K==="Fashion"&&"",K==="Home"&&"",K==="Sports"&&"",K==="Food"&&"",!["Electronics","Fashion","Home","Sports","Food"].includes(K)&&""]}),u.jsx("span",{className:"category-name",children:K})]},K)):u.jsx("div",{className:"no-categories",children:u.jsx("p",{children:"No categories yet. Add products to see categories."})})})]}),u.jsxs("section",{className:"featured-section",children:[u.jsxs("div",{className:"section-header",children:[u.jsx("h2",{children:"Featured Products"}),u.jsx(Ae,{to:"/products",className:"view-all",children:"View All "})]}),l?u.jsxs("div",{className:"loading-state",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"Loading products..."})]}):u.jsx("div",{className:"featured-grid",children:ee.map((K,de)=>u.jsx(CA,{product:K,style:{animationDelay:`${de*.1}s`}},K.id))})]}),u.jsx("section",{className:"cta-section",children:u.jsxs("div",{className:"cta-content",children:[u.jsx("h2",{children:"Ready to Start Shopping?"}),u.jsx("p",{children:"Join thousands of happy customers and get exclusive deals"}),u.jsxs("div",{className:"cta-actions",children:[u.jsx(Ae,{to:"/products",className:"btn-primary btn-large",children:"Browse Products"}),!N&&u.jsx(Ae,{to:"/register",className:"btn-secondary btn-large",children:"Create Account"})]})]})})]})},DD=()=>{const[i,e]=M.useState(""),[n,r]=M.useState(""),[l,c]=M.useState(""),[d,p]=M.useState(!1),g=cn(),{currentUser:y,isAdmin:T,loading:b,userProfile:N}=Tn();M.useEffect(()=>{!b&&y&&g(T?"/admin":"/")},[y,T,b,g]);const I=async O=>{O.preventDefault(),p(!0),c("");try{await bD(i,n)}catch(Q){c("Failed to log in. Check your credentials."),console.error(Q),p(!1)}};return b?u.jsx("div",{className:"auth-page",children:u.jsx("div",{className:"auth-loading",children:"Loading..."})}):u.jsx("div",{className:"auth-page",children:u.jsxs("div",{className:"auth-container",children:[u.jsxs("div",{className:"auth-header",children:[u.jsx("div",{className:"auth-logo",children:""}),u.jsx("h2",{children:"Welcome Back"}),u.jsx("p",{className:"auth-subtitle",children:"Sign in to manage your store"})]}),l&&u.jsx("div",{className:"error-message",children:l}),u.jsxs("form",{onSubmit:I,className:"auth-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Email Address"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{type:"email",value:i,onChange:O=>e(O.target.value),placeholder:"admin@gmail.com",required:!0,disabled:d})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Password"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{type:"password",value:n,onChange:O=>r(O.target.value),placeholder:"Min. 6 characters",required:!0,disabled:d})]})]}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:d,children:d?"Signing in...":"Sign In"})]}),u.jsxs("p",{className:"auth-link",children:["Don't have an account? ",u.jsx(Ae,{to:"/register",children:"Create Account"})]})]})})},OD=()=>{const[i,e]=M.useState({fullName:"",email:"",password:"",confirmPassword:"",phone:"",addressLine1:"",addressLine2:"",city:"",state:"",postalCode:"",country:""}),[n,r]=M.useState(""),[l,c]=M.useState(!1),d=cn(),p=y=>{e({...i,[y.target.name]:y.target.value})},g=async y=>{if(y.preventDefault(),c(!0),r(""),i.password!==i.confirmPassword)return c(!1),r("Passwords do not match");try{const{confirmPassword:T,...b}=i;await TD(b),d("/")}catch(T){r("Registration failed. Email might be in use."),console.error(T),c(!1)}};return u.jsx("div",{className:"auth-page",children:u.jsxs("div",{className:"auth-container",children:[u.jsxs("div",{className:"auth-header",children:[u.jsx("div",{className:"auth-logo",children:""}),u.jsx("h2",{children:"Create Account"}),u.jsx("p",{className:"auth-subtitle",children:"Join us and start shopping today"})]}),n&&u.jsx("div",{className:"error-message",children:n}),u.jsxs("form",{onSubmit:g,className:"auth-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Full Name"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{name:"fullName",onChange:p,placeholder:"Your Name",required:!0})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Email"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{name:"email",type:"email",onChange:p,placeholder:"you@example.com",required:!0})]})]}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Password"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{name:"password",type:"password",onChange:p,placeholder:"Min. 6 chars",required:!0})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Confirm"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{name:"confirmPassword",type:"password",onChange:p,placeholder:"Repeat password",required:!0})]})]})]}),u.jsx("div",{style:{margin:"1rem 0 0.5rem",borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"1rem"},children:u.jsx("h3",{style:{fontSize:"1rem",color:"white",marginBottom:"1rem"},children:"Shipping Details"})}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Phone"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{name:"phone",onChange:p,placeholder:"+1 234 567 890",required:!0})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Address Line 1"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{name:"addressLine1",onChange:p,placeholder:"Street Address",required:!0})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Address Line 2 (Optional)"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{name:"addressLine2",onChange:p,placeholder:"Apt, Suite, Unit"})]})]}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"City"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{name:"city",onChange:p,required:!0})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"State"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{name:"state",onChange:p,required:!0})]})]})]}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Postal Code"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{name:"postalCode",onChange:p,required:!0})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Country"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{name:"country",onChange:p,required:!0})]})]})]}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:l,children:l?"Creating Account...":"Register"})]}),u.jsxs("p",{className:"auth-link",children:["Already have an account? ",u.jsx(Ae,{to:"/login",children:"Login"})]})]})})},MD=()=>{const{currentUser:i,userProfile:e}=Tn(),n=cn(),[r,l]=M.useState(!1),[c,d]=M.useState({phone:"",addressLine1:"",addressLine2:"",city:"",state:"",postalCode:"",country:""});M.useEffect(()=>{e&&d(y=>({...y,...e}))},[e]);const p=y=>{d({...c,[y.target.name]:y.target.value})},g=async y=>{y.preventDefault(),l(!0);try{await EA(i.uid,c),n("/")}catch(T){console.error("Failed to update profile",T),alert("Failed to save profile.")}finally{l(!1)}};return u.jsx("div",{className:"auth-page",children:u.jsxs("div",{className:"auth-container",children:[u.jsxs("div",{className:"auth-header",children:[u.jsx("div",{className:"auth-logo",children:""}),u.jsx("h2",{children:"Complete Profile"}),u.jsx("p",{className:"auth-subtitle",children:"We need a few more details to get you started"})]}),u.jsxs("form",{onSubmit:g,className:"auth-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Phone Number"}),u.jsx("input",{name:"phone",value:c.phone,onChange:p,placeholder:"+91 98765 43210",required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Address Line 1"}),u.jsx("input",{name:"addressLine1",value:c.addressLine1,onChange:p,placeholder:"Street Address",required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Address Line 2 (Optional)"}),u.jsx("input",{name:"addressLine2",value:c.addressLine2,onChange:p,placeholder:"Apt, Suite, Unit"})]}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"City"}),u.jsx("input",{name:"city",value:c.city,onChange:p,placeholder:"Enter city",required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"State/Province"}),u.jsx("input",{name:"state",value:c.state,onChange:p,placeholder:"Enter state",required:!0})]})]}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Postal Code"}),u.jsx("input",{name:"postalCode",value:c.postalCode,onChange:p,placeholder:"Enter PIN code",required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Country"}),u.jsx("input",{name:"country",value:c.country,onChange:p,placeholder:"India",required:!0})]})]}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:r,children:r?"Saving...":"Save & Continue"})]})]})})},VD=()=>{const{currentUser:i,userProfile:e}=Tn(),{wishlistItems:n,removeFromWishlist:r}=RA(),{addToCart:l}=fa(),c=cn(),[d,p]=M.useState("profile"),[g,y]=M.useState([]),[T,b]=M.useState(!0),[N,I]=M.useState("all"),[O,Q]=M.useState(null),[z,J]=M.useState("");M.useEffect(()=>{i&&ee()},[i]);const ee=async()=>{try{const S=await bA(i.uid);y(S)}catch(S){console.error("Error fetching orders:",S)}finally{b(!1)}},K=S=>S?(S.toDate?S.toDate():new Date(S)).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}):"N/A",de=(S,C)=>C?{label:"Cancel Requested",class:"cancel_requested"}:{pending_approval:{label:"Pending Approval",class:"pending_approval"},approved:{label:"Approved",class:"approved"},in_progress:{label:"In Progress",class:"in_progress"},shipped:{label:"Shipped",class:"shipped"},delivered:{label:"Delivered",class:"delivered"},cancelled:{label:"Cancelled",class:"cancelled"},pending:{label:"Pending",class:"pending_approval"}}[S]||{label:S,class:S},ve=async S=>{if(!z.trim()){alert("Please provide a reason for cancellation");return}try{await pD(S,z),Q(null),J(""),ee()}catch(C){console.error("Error requesting cancellation:",C),alert("Failed to submit cancellation request")}},B=S=>["pending_approval","approved"].includes(S.status)&&!S.cancelRequested,R=N==="all"?g:g.filter(S=>S.status===N);return u.jsxs("div",{className:"profile-page",children:[u.jsxs("div",{className:"profile-header",children:[u.jsx("div",{className:"profile-avatar",children:e?.fullName?.charAt(0)?.toUpperCase()||""}),u.jsxs("div",{className:"profile-info",children:[u.jsx("h1",{children:e?.fullName||"Welcome!"}),u.jsx("p",{children:i?.email}),u.jsxs("p",{className:"member-since",children:["Member since ",K(e?.createdAt)]})]})]}),u.jsxs("div",{className:"profile-tabs",children:[u.jsxs("button",{className:`profile-tab ${d==="profile"?"active":""}`,onClick:()=>p("profile"),children:[u.jsx("span",{className:"tab-icon",children:""}),"Profile"]}),u.jsxs("button",{className:`profile-tab ${d==="orders"?"active":""}`,onClick:()=>p("orders"),children:[u.jsx("span",{className:"tab-icon",children:""}),"Orders (",g.length,")"]}),u.jsxs("button",{className:`profile-tab ${d==="wishlist"?"active":""}`,onClick:()=>p("wishlist"),children:[u.jsx("span",{className:"tab-icon",children:""}),"Wishlist (",n.length,")"]})]}),u.jsxs("div",{className:"profile-content",children:[d==="profile"&&u.jsxs("div",{className:"profile-details",children:[u.jsxs("div",{className:"profile-details-grid",children:[u.jsxs("div",{className:"detail-card",children:[u.jsx("div",{className:"detail-label",children:"Full Name"}),u.jsx("div",{className:"detail-value",children:e?.fullName||"Not set"})]}),u.jsxs("div",{className:"detail-card",children:[u.jsx("div",{className:"detail-label",children:"Email"}),u.jsx("div",{className:"detail-value",children:i?.email})]}),u.jsxs("div",{className:"detail-card",children:[u.jsx("div",{className:"detail-label",children:"Phone"}),u.jsx("div",{className:"detail-value",children:e?.phone||"Not set"})]}),u.jsxs("div",{className:"detail-card",children:[u.jsx("div",{className:"detail-label",children:"Address"}),u.jsx("div",{className:"detail-value",children:e?.addressLine1?u.jsxs(u.Fragment,{children:[e.addressLine1,e.addressLine2&&u.jsxs(u.Fragment,{children:[", ",e.addressLine2]}),u.jsx("br",{}),e.city,", ",e.state," ",e.postalCode,u.jsx("br",{}),e.country]}):"Not set"})]})]}),u.jsxs("div",{className:"profile-actions",children:[u.jsx(Ae,{to:"/complete-profile",className:"btn-primary",children:"Edit Profile"}),u.jsx(Ae,{to:"/addresses",className:"btn-secondary",children:"Manage Addresses"})]})]}),d==="orders"&&u.jsxs("div",{className:"orders-section",children:[u.jsx("div",{className:"orders-filter",children:["all","pending_approval","approved","in_progress","shipped","delivered","cancelled"].map(S=>u.jsx("button",{className:`filter-btn ${N===S?"active":""}`,onClick:()=>I(S),children:S==="all"?"All":S.replace("_"," ").replace(/\b\w/g,C=>C.toUpperCase())},S))}),T?u.jsxs("div",{className:"loading-state",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"Loading orders..."})]}):R.length===0?u.jsxs("div",{className:"empty-tab",children:[u.jsx("div",{className:"empty-tab-icon",children:""}),u.jsx("h3",{children:"No orders found"}),u.jsx("p",{children:N!=="all"?`No ${N.replace("_"," ")} orders`:"You haven't placed any orders yet"}),u.jsx(Ae,{to:"/products",className:"btn-primary",children:"Start Shopping"})]}):u.jsx("div",{className:"orders-list",children:R.map(S=>{const C=de(S.status,S.cancelRequested);return u.jsxs("div",{className:"order-card",children:[u.jsxs("div",{className:"order-header",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"order-id",children:["Order #",S.id.slice(-8)]}),u.jsx("div",{className:"order-date",children:K(S.createdAt)})]}),u.jsx("span",{className:`status-badge ${C.class}`,children:C.label})]}),u.jsxs("div",{className:"order-items",children:[S.items?.slice(0,4).map((L,x)=>u.jsx("div",{className:"order-item-thumb",children:u.jsx("img",{src:L.imageUrl||"https://placehold.co/60",alt:L.name})},x)),S.items?.length>4&&u.jsxs("div",{className:"order-item-thumb",style:{display:"flex",alignItems:"center",justifyContent:"center",background:"var(--bg-tertiary)",fontSize:"0.875rem",fontWeight:"600"},children:["+",S.items.length-4]})]}),S.estimatedDelivery&&u.jsxs("p",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginBottom:"1rem"},children:[" Estimated Delivery: ",S.estimatedDelivery]}),u.jsxs("div",{className:"order-footer",children:[u.jsxs("span",{className:"order-total",children:["",S.totalAmount?.toFixed(0)]}),B(S)&&u.jsx("button",{className:"btn-cancel-request",onClick:()=>Q(S.id),children:"Request Cancellation"}),S.cancelRequested&&S.cancelApproved===!1&&u.jsx("span",{style:{color:"var(--error-color)",fontSize:"0.875rem"},children:"Cancel request rejected"})]})]},S.id)})})]}),d==="wishlist"&&u.jsx("div",{className:"wishlist-section",children:n.length===0?u.jsxs("div",{className:"empty-tab",children:[u.jsx("div",{className:"empty-tab-icon",children:""}),u.jsx("h3",{children:"Your wishlist is empty"}),u.jsx("p",{children:"Save items you love for later"}),u.jsx(Ae,{to:"/products",className:"btn-primary",children:"Browse Products"})]}):u.jsx("div",{className:"wishlist-grid",children:n.map(S=>u.jsxs("div",{className:"wishlist-item",children:[u.jsx("button",{className:"btn-remove-wishlist",onClick:()=>r(S.id),children:""}),u.jsx(Ae,{to:`/product/${S.id}`,children:u.jsx("div",{className:"wishlist-item-image",children:u.jsx("img",{src:S.imageUrl||"https://placehold.co/300",alt:S.name})})}),u.jsxs("div",{className:"wishlist-item-info",children:[u.jsx(Ae,{to:`/product/${S.id}`,className:"wishlist-item-name",children:S.name}),u.jsxs("div",{className:"wishlist-item-price",children:["",S.price?.toFixed(0)]}),u.jsxs("div",{className:"wishlist-item-actions",children:[u.jsx("button",{className:"btn-primary btn-small",onClick:()=>{l(S),r(S.id)},children:"Add to Cart"}),u.jsx("button",{className:"btn-secondary btn-small",onClick:()=>c(`/product/${S.id}`),children:"View"})]})]})]},S.id))})})]}),O&&u.jsx("div",{className:"cancel-modal-overlay",onClick:()=>Q(null),children:u.jsxs("div",{className:"cancel-modal",onClick:S=>S.stopPropagation(),children:[u.jsx("h3",{children:"Request Cancellation"}),u.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"1rem"},children:"Please provide a reason for cancellation. Your request will be reviewed by admin."}),u.jsx("textarea",{value:z,onChange:S=>J(S.target.value),placeholder:"Reason for cancellation..."}),u.jsxs("div",{className:"cancel-modal-actions",children:[u.jsx("button",{className:"btn-secondary",onClick:()=>{Q(null),J("")},children:"Cancel"}),u.jsx("button",{className:"btn-primary",onClick:()=>ve(O),children:"Submit Request"})]})]})})]})},PD=()=>{const[i,e]=M.useState([]),[n,r]=M.useState(!0),[l,c]=YT(),d=l.get("search")||"",p=l.get("category")||"All";M.useEffect(()=>{g()},[]);const g=async()=>{try{const I=await uc();e(I)}catch(I){console.error("Error fetching products",I)}finally{r(!1)}},y=I=>{const O=new URLSearchParams(l);I?O.set("search",I):O.delete("search"),c(O)},T=I=>{const O=new URLSearchParams(l);I!=="All"?O.set("category",I):O.delete("category"),c(O)},b=i.filter(I=>{const O=I.name.toLowerCase().includes(d.toLowerCase())||I.description?.toLowerCase().includes(d.toLowerCase()),Q=p==="All"||I.category===p;return O&&Q}),N=["All",...new Set(i.map(I=>I.category).filter(Boolean))];return u.jsxs("div",{className:"products-page",children:[u.jsxs("div",{className:"products-hero",children:[u.jsx("h1",{children:"Shop Products"}),u.jsx("p",{children:"Discover our curated collection of premium products"})]}),u.jsxs("div",{className:"products-container",children:[u.jsxs("aside",{className:"filters-sidebar",children:[u.jsxs("div",{className:"filter-section",children:[u.jsx("h3",{children:"Search"}),u.jsxs("div",{className:"search-box",children:[u.jsx("span",{className:"search-icon",children:""}),u.jsx("input",{type:"text",placeholder:"Search products...",value:d,onChange:I=>y(I.target.value)}),d&&u.jsx("button",{className:"clear-btn",onClick:()=>y(""),children:""})]})]}),u.jsxs("div",{className:"filter-section",children:[u.jsx("h3",{children:"Categories"}),u.jsx("div",{className:"category-list",children:N.map(I=>u.jsxs("button",{className:`category-btn ${p===I?"active":""}`,onClick:()=>T(I),children:[I==="Electronics"&&" ",I==="Fashion"&&" ",I==="Home"&&" ",I==="Sports"&&" ",I==="Food"&&" ",I==="All"&&" ",!["Electronics","Fashion","Home","Sports","Food","All"].includes(I)&&" ",I]},I))})]}),(d||p!=="All")&&u.jsx("button",{className:"clear-filters",onClick:()=>c({}),children:"Clear All Filters"})]}),u.jsxs("main",{className:"products-main",children:[u.jsxs("div",{className:"results-header",children:[u.jsxs("span",{className:"results-count",children:[b.length," product",b.length!==1?"s":""," found"]}),d&&u.jsxs("span",{className:"search-term",children:['for "',d,'"']})]}),n?u.jsxs("div",{className:"loading-state",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"Loading products..."})]}):b.length>0?u.jsx("div",{className:"products-grid",children:b.map((I,O)=>u.jsx(CA,{product:I,style:{animationDelay:`${O*.05}s`}},I.id))}):u.jsxs("div",{className:"empty-state",children:[u.jsx("span",{className:"empty-icon",children:""}),u.jsx("h2",{children:"No products found"}),u.jsx("p",{children:"Try adjusting your search or filter criteria"}),u.jsx("button",{className:"btn-primary",onClick:()=>c({}),children:"Clear Filters"})]})]})]})]})},kD=()=>{const{id:i}=Yw(),e=cn(),{addToCart:n}=fa(),{currentUser:r}=Tn(),[l,c]=M.useState(null),[d,p]=M.useState(!0),[g,y]=M.useState(1);M.useEffect(()=>{(async()=>{try{const J=await TA(i);if(!J)return e("/products");c(J)}catch(J){console.error(J)}finally{p(!1)}})()},[i,e]);const b=l?(()=>{if(!l?.offer)return!1;const z=new Date,J=new Date(l.offer.startDate),ee=new Date(l.offer.endDate);return z>=J&&z<=ee})():!1,N=b?l.offer.discountPercent:0,I=b?l.price*(1-N/100):l?.price,O=()=>{if(!r){e("/login");return}n({...l,price:I},g)},Q=()=>{if(!r){e("/login");return}e(`/checkout?product=${l.id}`)};return d?u.jsx("div",{className:"page-container",children:u.jsxs("div",{className:"loading-state",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"Loading details..."})]})}):l?u.jsxs("div",{className:"page-container",children:[u.jsx("button",{onClick:()=>e(-1),className:"btn-secondary btn-small",style:{marginBottom:"1rem"},children:" Back"}),u.jsxs("div",{className:"product-detail",children:[u.jsxs("div",{className:"detail-image",children:[u.jsx("img",{src:l.imageUrl||"https://placehold.co/500x500?text=Product",alt:l.name}),b&&u.jsxs("span",{className:"detail-offer-badge",children:[N,"% OFF"]})]}),u.jsxs("div",{className:"detail-info",children:[u.jsx("h1",{children:l.name}),u.jsxs("div",{className:"detail-meta",children:[u.jsx("span",{className:"badge badge-primary",children:l.category}),l.stock>0?u.jsxs("span",{className:"in-stock",children:["In Stock (",l.stock," available)"]}):u.jsx("span",{className:"out-of-stock",children:"Out of Stock"})]}),b&&l.offer.offerTitle&&u.jsxs("div",{className:"offer-info-box",children:[u.jsx("span",{className:"offer-icon",children:""}),u.jsx("span",{className:"offer-text",children:l.offer.offerTitle})]}),b?u.jsxs("div",{className:"detail-price-container",children:[u.jsxs("span",{className:"detail-price discounted",children:["",I?.toFixed(0)]}),u.jsxs("span",{className:"detail-original-price",children:["",l.price?.toFixed(0)]}),u.jsxs("span",{className:"savings-badge",children:["Save ",(l.price-I).toFixed(0)]})]}):u.jsxs("p",{className:"detail-price",children:["",l.price?.toFixed(0)]}),u.jsx("p",{className:"description",children:l.description}),l.stock>0&&u.jsxs("div",{className:"add-action",children:[u.jsxs("div",{className:"qty-selector",children:[u.jsx("button",{onClick:()=>y(z=>Math.max(1,z-1)),disabled:g<=1,children:""}),u.jsx("span",{children:g}),u.jsx("button",{onClick:()=>y(z=>Math.min(l.stock,z+1)),disabled:g>=l.stock,children:"+"})]}),u.jsx("button",{onClick:O,className:"btn-primary",children:"Add to Cart"}),u.jsx("button",{onClick:Q,className:"btn-secondary",children:"Buy Now"})]})]})]})]}):null},LD=()=>{const{cartItems:i,removeFromCart:e,updateQuantity:n,cartTotal:r,clearCart:l}=fa(),c=cn();return i.length===0?u.jsx("div",{className:"cart-page",children:u.jsxs("div",{className:"empty-cart",children:[u.jsx("span",{className:"empty-icon",children:""}),u.jsx("h2",{children:"Your cart is empty"}),u.jsx("p",{children:"Looks like you haven't added any items to your cart yet."}),u.jsx(Ae,{to:"/products",className:"btn-primary",children:"Start Shopping"})]})}):u.jsxs("div",{className:"cart-page",children:[u.jsxs("div",{className:"cart-header",children:[u.jsx("h1",{children:"Shopping Cart"}),u.jsxs("span",{className:"cart-count",children:[i.length," item",i.length!==1?"s":""]})]}),u.jsxs("div",{className:"cart-layout",children:[u.jsx("div",{className:"cart-items",children:i.map(d=>u.jsxs("div",{className:"cart-item",children:[u.jsx("div",{className:"item-image",children:u.jsx("img",{src:d.imageUrl||"https://placehold.co/120x120?text=Product",alt:d.name})}),u.jsxs("div",{className:"item-details",children:[u.jsxs("div",{className:"item-info",children:[u.jsx(Ae,{to:`/product/${d.id}`,className:"item-name",children:d.name}),d.category&&u.jsx("span",{className:"item-category",children:d.category})]}),u.jsxs("div",{className:"item-price",children:["",d.price?.toFixed(0)]})]}),u.jsxs("div",{className:"item-actions",children:[u.jsxs("div",{className:"qty-control",children:[u.jsx("button",{onClick:()=>n(d.id,d.quantity-1),disabled:d.quantity<=1,children:""}),u.jsx("span",{className:"qty-value",children:d.quantity}),u.jsx("button",{onClick:()=>n(d.id,d.quantity+1),children:"+"})]}),u.jsxs("div",{className:"item-subtotal",children:["",(d.price*d.quantity).toFixed(0)]}),u.jsx("button",{onClick:()=>e(d.id),className:"btn-remove",title:"Remove item",children:""})]})]},d.id))}),u.jsxs("div",{className:"cart-summary",children:[u.jsx("h3",{children:"Order Summary"}),u.jsxs("div",{className:"summary-rows",children:[u.jsxs("div",{className:"summary-row",children:[u.jsx("span",{children:"Subtotal"}),u.jsxs("span",{children:["",r.toFixed(0)]})]}),u.jsxs("div",{className:"summary-row",children:[u.jsx("span",{children:"Shipping"}),u.jsx("span",{className:"free-shipping",children:"FREE"})]}),u.jsxs("div",{className:"summary-row",children:[u.jsx("span",{children:"Tax (GST 18%)"}),u.jsxs("span",{children:["",(r*.18).toFixed(0)]})]})]}),u.jsxs("div",{className:"summary-total",children:[u.jsx("span",{children:"Total"}),u.jsxs("span",{children:["",(r*1.18).toFixed(0)]})]}),u.jsx("button",{onClick:()=>c("/checkout"),className:"btn-checkout",children:"Proceed to Checkout"}),u.jsx("button",{onClick:l,className:"btn-clear",children:"Clear Cart"}),u.jsx(Ae,{to:"/products",className:"continue-shopping",children:" Continue Shopping"})]})]})]})},UD=()=>{const{currentUser:i,userProfile:e}=Tn(),{cartItems:n,cartTotal:r,clearCart:l}=fa(),c=cn(),[d]=YT(),p=d.get("product"),[g,y]=M.useState(null),[T,b]=M.useState(1),[N,I]=M.useState([]),[O,Q]=M.useState(null),[z,J]=M.useState(!1),[ee,K]=M.useState(!1),[de,ve]=M.useState(!1),[B,R]=M.useState(null),[S,C]=M.useState({fullName:e?.fullName||"",phone:e?.phone||"",addressLine1:"",addressLine2:"",city:"",state:"",postalCode:"",country:"India"});M.useEffect(()=>{p&&L(),x()},[p,i]);const L=async()=>{try{const oe=await TA(p);oe&&y({...oe,quantity:1})}catch(oe){console.error("Error fetching product:",oe)}},x=async()=>{if(i)try{const oe=await AA(i.uid);I(oe),oe.length>0?Q(oe[0].id):J(!0)}catch(oe){console.error("Error fetching addresses:",oe)}},P=oe=>{C({...S,[oe.target.name]:oe.target.value})},j=async oe=>{oe.preventDefault();try{const je=await SA(i.uid,S);I([...N,{id:je,...S}]),Q(je),J(!1)}catch(je){console.error("Error adding address:",je)}},We=g?[g]:n,ht=g?g.price:r,X=ht*.18,ae=ht+X,pe=async()=>{K(!0);const oe=N.find(je=>je.id===O);try{const je={userId:i.uid,items:We.map(V=>({productId:V.id,name:V.name,price:V.price,quantity:V.quantity||1,subtotal:V.price*(V.quantity||1),imageUrl:V.imageUrl||null})),totalAmount:ae,shippingAddress:oe,customerEmail:i.email,paymentMethod:"Razorpay",paymentStatus:"paid"};await new Promise(V=>setTimeout(V,1500)),await oD(je),g||l(),R("ORD"+Date.now()),ve(!0),b(3)}catch(je){console.error("Payment failed:",je),alert("Payment failed. Please try again.")}finally{K(!1)}};return We.length===0&&!de?u.jsx("div",{className:"checkout-page",children:u.jsxs("div",{className:"empty-checkout",children:[u.jsx("span",{className:"empty-icon",children:""}),u.jsx("h2",{children:"Nothing to checkout"}),u.jsx("p",{children:"Add items to your cart to proceed with checkout."}),u.jsx("button",{onClick:()=>c("/products"),className:"btn-primary",children:"Browse Products"})]})}):u.jsxs("div",{className:"checkout-page",children:[u.jsxs("div",{className:"checkout-header",children:[u.jsx("h1",{children:"Checkout"}),u.jsxs("div",{className:"checkout-steps",children:[u.jsxs("div",{className:`step ${T>=1?"active":""} ${T>1?"completed":""}`,children:[u.jsx("span",{className:"step-number",children:"1"}),u.jsx("span",{className:"step-label",children:"Address"})]}),u.jsx("div",{className:"step-line"}),u.jsxs("div",{className:`step ${T>=2?"active":""} ${T>2?"completed":""}`,children:[u.jsx("span",{className:"step-number",children:"2"}),u.jsx("span",{className:"step-label",children:"Payment"})]}),u.jsx("div",{className:"step-line"}),u.jsxs("div",{className:`step ${T>=3?"active":""}`,children:[u.jsx("span",{className:"step-number",children:"3"}),u.jsx("span",{className:"step-label",children:"Confirmation"})]})]})]}),T===3&&de&&u.jsx("div",{className:"confirmation-section",children:u.jsxs("div",{className:"confirmation-card",children:[u.jsx("span",{className:"success-icon",children:""}),u.jsx("h2",{children:"Order Placed Successfully!"}),u.jsx("p",{children:"Thank you for your purchase. Your order has been confirmed."}),u.jsxs("div",{className:"order-id",children:["Order ID: ",u.jsx("strong",{children:B})]}),u.jsxs("div",{className:"confirmation-actions",children:[u.jsx("button",{onClick:()=>c("/my-orders"),className:"btn-primary",children:"View Orders"}),u.jsx("button",{onClick:()=>c("/products"),className:"btn-secondary",children:"Continue Shopping"})]})]})}),T<3&&u.jsxs("div",{className:"checkout-layout",children:[u.jsxs("div",{className:"checkout-main",children:[T===1&&u.jsxs("div",{className:"address-section",children:[u.jsx("h2",{children:" Delivery Address"}),N.length>0&&!z&&u.jsxs("div",{className:"address-list",children:[N.map(oe=>u.jsxs("div",{className:`address-card ${O===oe.id?"selected":""}`,onClick:()=>Q(oe.id),children:[u.jsx("div",{className:"address-radio",children:u.jsx("input",{type:"radio",checked:O===oe.id,onChange:()=>Q(oe.id)})}),u.jsxs("div",{className:"address-details",children:[u.jsx("strong",{children:oe.fullName}),u.jsx("p",{children:oe.addressLine1}),oe.addressLine2&&u.jsx("p",{children:oe.addressLine2}),u.jsxs("p",{children:[oe.city,", ",oe.state," ",oe.postalCode]}),u.jsx("p",{children:oe.country}),u.jsxs("p",{className:"address-phone",children:[" ",oe.phone]})]})]},oe.id)),u.jsx("button",{className:"btn-add-address",onClick:()=>J(!0),children:"+ Add New Address"})]}),z&&u.jsxs("form",{onSubmit:j,className:"address-form",children:[u.jsx("h3",{children:"Add New Address"}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Full Name"}),u.jsx("input",{name:"fullName",value:S.fullName,onChange:P,required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Phone"}),u.jsx("input",{name:"phone",value:S.phone,onChange:P,required:!0})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Address Line 1"}),u.jsx("input",{name:"addressLine1",value:S.addressLine1,onChange:P,placeholder:"Street address, P.O. box",required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Address Line 2 (Optional)"}),u.jsx("input",{name:"addressLine2",value:S.addressLine2,onChange:P,placeholder:"Apartment, suite, unit, building"})]}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"City"}),u.jsx("input",{name:"city",value:S.city,onChange:P,required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"State"}),u.jsx("input",{name:"state",value:S.state,onChange:P,required:!0})]})]}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Postal Code"}),u.jsx("input",{name:"postalCode",value:S.postalCode,onChange:P,required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Country"}),u.jsx("input",{name:"country",value:S.country,onChange:P,required:!0})]})]}),u.jsxs("div",{className:"form-actions",children:[u.jsx("button",{type:"submit",className:"btn-primary",children:"Save Address"}),N.length>0&&u.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>J(!1),children:"Cancel"})]})]}),O&&!z&&u.jsx("button",{className:"btn-primary btn-continue",onClick:()=>b(2),children:"Continue to Payment"})]}),T===2&&u.jsxs("div",{className:"payment-section",children:[u.jsx("h2",{children:" Payment"}),u.jsx("div",{className:"payment-method",children:u.jsxs("div",{className:"payment-option selected",children:[u.jsx("input",{type:"radio",checked:!0,readOnly:!0}),u.jsxs("div",{className:"payment-info",children:[u.jsx("img",{src:"https://razorpay.com/assets/razorpay-glyph.svg",alt:"Razorpay",className:"payment-logo"}),u.jsx("span",{children:"Pay with Razorpay"})]})]})}),u.jsx("div",{className:"payment-note",children:u.jsx("p",{children:" Your payment is secure. We don't store your card details."})}),u.jsxs("div",{className:"payment-actions",children:[u.jsx("button",{className:"btn-secondary",onClick:()=>b(1),children:" Back to Address"}),u.jsx("button",{className:"btn-primary btn-pay",onClick:pe,disabled:ee,children:ee?"Processing...":`Pay ${ae.toFixed(0)}`})]})]})]}),u.jsx("div",{className:"checkout-sidebar",children:u.jsxs("div",{className:"order-summary",children:[u.jsx("h3",{children:"Order Summary"}),u.jsx("div",{className:"summary-items",children:We.map(oe=>u.jsxs("div",{className:"summary-item",children:[u.jsx("img",{src:oe.imageUrl||"https://placehold.co/60",alt:oe.name}),u.jsxs("div",{className:"summary-item-info",children:[u.jsx("span",{className:"item-name",children:oe.name}),u.jsxs("span",{className:"item-qty",children:["Qty: ",oe.quantity||1]})]}),u.jsxs("span",{className:"item-price",children:["",(oe.price*(oe.quantity||1)).toFixed(0)]})]},oe.id))}),u.jsxs("div",{className:"summary-totals",children:[u.jsxs("div",{className:"summary-row",children:[u.jsx("span",{children:"Subtotal"}),u.jsxs("span",{children:["",ht.toFixed(0)]})]}),u.jsxs("div",{className:"summary-row",children:[u.jsx("span",{children:"Shipping"}),u.jsx("span",{className:"free",children:"FREE"})]}),u.jsxs("div",{className:"summary-row",children:[u.jsx("span",{children:"Tax (GST 18%)"}),u.jsxs("span",{children:["",X.toFixed(0)]})]}),u.jsxs("div",{className:"summary-row total",children:[u.jsx("span",{children:"Total"}),u.jsxs("span",{children:["",ae.toFixed(0)]})]})]})]})})]})]})},zD=()=>{const{currentUser:i}=Tn();cn();const[e,n]=M.useState([]),[r,l]=M.useState(!0);M.useEffect(()=>{i&&(async()=>{try{const p=await bA(i.uid);n(p)}catch(p){console.error(p)}finally{l(!1)}})()},[i]);const c=d=>d?(d.toDate?d.toDate():new Date(d)).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A";return r?u.jsx("div",{className:"checkout-page",children:u.jsxs("div",{className:"loading-state",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"Loading your orders..."})]})}):u.jsxs("div",{className:"checkout-page",children:[u.jsxs("div",{className:"checkout-header",children:[u.jsx("h1",{children:"My Orders"}),u.jsx("p",{children:"Track and manage your recent purchases"})]}),e.length===0?u.jsxs("div",{className:"empty-checkout",children:[u.jsx("span",{className:"empty-icon",children:""}),u.jsx("h2",{children:"No orders yet"}),u.jsx("p",{children:"Start shopping to see your orders here."}),u.jsx(Ae,{to:"/products",className:"btn-primary",children:"Browse Products"})]}):u.jsx("div",{className:"orders-list",children:e.map(d=>u.jsxs("div",{className:"order-summary",style:{marginBottom:"1.5rem"},children:[u.jsxs("div",{className:"order-card-header",style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem",paddingBottom:"1rem",borderBottom:"1px solid var(--border-color)"},children:[u.jsxs("div",{className:"order-meta",children:[u.jsxs("span",{className:"order-card-id",children:["Order #",d.id.slice(-8)]}),u.jsx("span",{className:"order-date",children:c(d.createdAt)})]}),u.jsx("span",{className:`step ${d.status==="delivered"?"completed":"active"}`,style:{fontSize:"0.85rem",padding:"0.25rem 0.75rem"},children:d.status.charAt(0).toUpperCase()+d.status.slice(1)})]}),u.jsx("div",{className:"summary-items",children:d.items.map((p,g)=>u.jsxs("div",{className:"summary-item",children:[u.jsxs("div",{className:"summary-item-info",children:[u.jsx("span",{className:"item-name",children:p.name}),u.jsxs("span",{className:"item-qty",children:["Qty: ",p.quantity]})]}),u.jsxs("span",{className:"item-price",children:["",(p.price*p.quantity).toFixed(0)]})]},g))}),u.jsx("div",{className:"summary-totals",style:{marginTop:"1rem"},children:u.jsxs("div",{className:"summary-row total",children:[u.jsx("span",{children:"Total Amount"}),u.jsxs("span",{children:["",d.totalAmount?.toFixed(0)]})]})})]},d.id))})]})},BD=()=>{const{currentUser:i,userProfile:e}=Tn();cn();const[n,r]=M.useState([]),[l,c]=M.useState(!0),[d,p]=M.useState(!1),[g,y]=M.useState({fullName:"",phone:"",addressLine1:"",addressLine2:"",city:"",state:"",postalCode:"",country:"India"});M.useEffect(()=>{i&&T()},[i]);const T=async()=>{try{const O=await AA(i.uid);r(O)}catch(O){console.error(O)}finally{c(!1)}},b=async O=>{O.preventDefault();try{await SA(i.uid,g),p(!1),y({fullName:e?.fullName||"",phone:e?.phone||"",addressLine1:"",addressLine2:"",city:"",state:"",postalCode:"",country:"India"}),T()}catch(Q){console.error(Q),alert("Failed to add address")}},N=async O=>{if(window.confirm("Are you sure you want to delete this address?"))try{await cD(i.uid,O),T()}catch(Q){console.error(Q)}},I=async O=>{try{await uD(i.uid,O),alert("Default address updated")}catch(Q){console.error(Q)}};return l?u.jsx("div",{className:"checkout-page",children:u.jsxs("div",{className:"loading-state",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"Loading addresses..."})]})}):u.jsxs("div",{className:"checkout-page",children:[u.jsx("div",{className:"checkout-header",children:u.jsx("h1",{children:" My Addresses"})}),u.jsxs("div",{className:"address-section",children:[n.length>0&&u.jsx("div",{className:"address-list",children:n.map(O=>u.jsx("div",{className:"address-card",children:u.jsxs("div",{className:"address-details",children:[u.jsx("strong",{children:O.fullName}),u.jsx("p",{children:O.addressLine1}),O.addressLine2&&u.jsx("p",{children:O.addressLine2}),u.jsxs("p",{children:[O.city,", ",O.state," ",O.postalCode]}),u.jsx("p",{children:O.country}),u.jsxs("p",{className:"address-phone",children:[" ",O.phone]}),u.jsxs("div",{className:"address-actions",children:[u.jsx("button",{onClick:()=>I(O.id),className:"btn-small btn-secondary",children:"Set as Default"}),u.jsx("button",{onClick:()=>N(O.id),className:"btn-small btn-delete",children:"Delete"})]})]})},O.id))}),!d&&u.jsx("button",{className:"btn-add-address",onClick:()=>p(!0),children:"+ Add New Address"}),d&&u.jsxs("form",{onSubmit:b,className:"address-form",children:[u.jsx("h3",{children:"Add New Address"}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Full Name"}),u.jsx("input",{value:g.fullName,onChange:O=>y({...g,fullName:O.target.value}),required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Phone"}),u.jsx("input",{value:g.phone,onChange:O=>y({...g,phone:O.target.value}),required:!0})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Address Line 1"}),u.jsx("input",{value:g.addressLine1,onChange:O=>y({...g,addressLine1:O.target.value}),required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Address Line 2"}),u.jsx("input",{value:g.addressLine2,onChange:O=>y({...g,addressLine2:O.target.value})})]}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"City"}),u.jsx("input",{value:g.city,onChange:O=>y({...g,city:O.target.value}),required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"State"}),u.jsx("input",{value:g.state,onChange:O=>y({...g,state:O.target.value}),required:!0})]})]}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Postal Code"}),u.jsx("input",{value:g.postalCode,onChange:O=>y({...g,postalCode:O.target.value}),required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Country"}),u.jsx("input",{value:g.country,onChange:O=>y({...g,country:O.target.value}),required:!0})]})]}),u.jsxs("div",{className:"form-actions",children:[u.jsx("button",{type:"submit",className:"btn-primary",children:"Save Address"}),u.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>p(!1),children:"Cancel"})]})]}),n.length===0&&!d&&u.jsxs("div",{className:"empty-state",children:[u.jsx("span",{className:"empty-icon",children:""}),u.jsx("h2",{children:"No saved addresses"}),u.jsx("p",{children:"Add an address to make checkout faster"})]})]})]})},qD=()=>{const{logout:i}=Tn(),e=async()=>{await i()};return u.jsx("div",{className:"auth-container",children:u.jsxs("div",{className:"auth-card banned-card",children:[u.jsx("div",{className:"banned-icon",children:""}),u.jsx("h1",{children:"Account Suspended"}),u.jsx("p",{className:"banned-message",children:"Your account has been suspended and you cannot access the store at this time."}),u.jsxs("div",{className:"banned-help",children:[u.jsx("h3",{children:"Need Help?"}),u.jsx("p",{children:"If you believe this is a mistake or would like to appeal, please contact our support team:"}),u.jsx("a",{href:"mailto:ajmaluk.me@gmail.com",className:"contact-link",children:" ajmaluk.me@gmail.com"})]}),u.jsx("button",{onClick:e,className:"btn-primary btn-logout",children:"Sign Out"})]})})},FD=["Electronics","Fashion","Home","Sports","Food","Other"],HD=()=>{const[i,e]=M.useState([]),[n,r]=M.useState(!0),[l,c]=M.useState(!1),[d,p]=M.useState(null),[g,y]=M.useState({name:"",description:"",price:"",category:"Electronics",imageUrl:"",stock:10}),[T,b]=M.useState(null),[N,I]=M.useState({discountPercent:10,offerTitle:"",startDate:"",endDate:"",isFeatured:!1});M.useEffect(()=>{O()},[]);const O=async()=>{try{const B=await uc();e(B)}catch(B){console.error(B)}finally{r(!1)}},Q=async B=>{window.confirm("Are you sure you want to delete this product?")&&(await iD(B),O())},z=B=>{p(B),y({name:B.name||"",description:B.description||"",price:B.price||"",category:B.category||"Electronics",imageUrl:B.imageUrl||"",stock:B.stock||0}),c(!0)},J=()=>{p(null),y({name:"",description:"",price:"",category:"Electronics",imageUrl:"",stock:10}),c(!0)},ee=async B=>{B.preventDefault();const R={...g,price:Number(g.price),stock:Number(g.stock)};try{d?await sD(d.id,R):await nD(R),c(!1),O()}catch(S){console.error(S),alert("Error saving product")}},K=B=>{const{name:R,value:S}=B.target;y(C=>({...C,[R]:S}))},de=async B=>{try{await rD(B,N),b(null),I({discountPercent:10,offerTitle:"",startDate:"",endDate:"",isFeatured:!1}),O(),alert("Offer scheduled successfully!")}catch(R){console.error(R),alert("Failed to set offer")}},ve=async B=>{if(window.confirm("Remove this offer?"))try{await aD(B),O()}catch(R){console.error(R)}};return n?u.jsxs("div",{className:"loading-state",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"Loading products..."})]}):u.jsxs("div",{className:"admin-products",children:[u.jsxs("div",{className:"admin-page-header",children:[u.jsx("h1",{children:"Products"}),u.jsx("button",{onClick:J,className:"btn-primary",children:" Add Product"})]}),l&&u.jsxs("div",{className:"product-form-container",children:[u.jsx("h3",{children:d?" Edit Product":" Add New Product"}),u.jsxs("form",{onSubmit:ee,className:"product-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Product Name"}),u.jsx("input",{name:"name",value:g.name,onChange:K,placeholder:"Enter product name",required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Category"}),u.jsx("select",{name:"category",value:g.category,onChange:K,required:!0,children:FD.map(B=>u.jsx("option",{value:B,children:B},B))})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Price ()"}),u.jsx("input",{type:"number",step:"0.01",name:"price",value:g.price,onChange:K,placeholder:"0.00",required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Stock Quantity"}),u.jsx("input",{type:"number",name:"stock",value:g.stock,onChange:K,placeholder:"10",required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Image URL"}),u.jsx("input",{name:"imageUrl",value:g.imageUrl,onChange:K,placeholder:"https://example.com/image.jpg"})]}),u.jsxs("div",{className:"form-group full-width",children:[u.jsx("label",{children:"Description"}),u.jsx("textarea",{name:"description",value:g.description,onChange:K,placeholder:"Enter product description...",rows:3})]}),u.jsxs("div",{className:"form-actions",children:[u.jsx("button",{type:"submit",className:"btn-primary",children:d?"Save Changes":"Add Product"}),u.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn-secondary",children:"Cancel"})]})]})]}),u.jsx("div",{className:"products-table",children:u.jsxs("table",{children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Image"}),u.jsx("th",{children:"Product"}),u.jsx("th",{children:"Category"}),u.jsx("th",{children:"Price"}),u.jsx("th",{children:"Offer"}),u.jsx("th",{children:"Stock"}),u.jsx("th",{children:"Actions"})]})}),u.jsx("tbody",{children:i.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:"7",style:{textAlign:"center",padding:"2rem"},children:"No products yet. Add your first product!"})}):i.map(B=>u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("img",{src:B.imageUrl||"https://placehold.co/50",alt:B.name,className:"product-image-small"})}),u.jsxs("td",{children:[u.jsx("strong",{children:B.name}),u.jsx("br",{}),u.jsxs("small",{style:{color:"var(--text-secondary)"},children:[B.description?.substring(0,50),"..."]})]}),u.jsx("td",{children:u.jsx("span",{className:"badge badge-primary",children:B.category})}),u.jsx("td",{children:u.jsxs("strong",{children:["",B.price?.toFixed(0)]})}),u.jsx("td",{children:B.stock>0?u.jsxs("span",{className:B.stock<=5?"text-warning":"",children:[B.stock," units"]}):u.jsx("span",{style:{color:"var(--error-color)"},children:"Out of stock"})}),u.jsx("td",{children:B.offer?u.jsxs("div",{style:{fontSize:"0.8rem"},children:[u.jsxs("span",{style:{background:"#ef4444",color:"white",padding:"2px 6px",borderRadius:"4px",fontWeight:"bold"},children:[B.offer.discountPercent,"% OFF"]}),B.offer.isFeatured&&u.jsx("span",{style:{marginLeft:"4px",color:"#f59e0b"},children:""}),u.jsx("br",{}),u.jsx("button",{onClick:()=>ve(B.id),style:{fontSize:"0.7rem",color:"#ef4444",background:"none",border:"none",cursor:"pointer",marginTop:"4px"},children:"Remove"})]}):u.jsx("button",{onClick:()=>b(B),style:{fontSize:"0.75rem",padding:"4px 8px",background:"var(--primary-gradient)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"+ Add Offer"})}),u.jsx("td",{children:u.jsxs("div",{className:"table-actions",children:[u.jsx("button",{onClick:()=>z(B),className:"btn-edit",children:"Edit"}),u.jsx("button",{onClick:()=>Q(B.id),className:"btn-delete",children:"Delete"})]})})]},B.id))})]})}),T&&u.jsx("div",{className:"modal-overlay",onClick:()=>b(null),children:u.jsxs("div",{className:"modal",onClick:B=>B.stopPropagation(),children:[u.jsxs("h3",{children:[" Schedule Offer for ",T.name]}),u.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"1rem"},children:"Set discount percentage and schedule dates for this product."}),u.jsxs("div",{style:{marginBottom:"1rem"},children:[u.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Discount %"}),u.jsx("input",{type:"number",min:"1",max:"90",value:N.discountPercent,onChange:B=>I({...N,discountPercent:Number(B.target.value)}),style:{width:"100%",padding:"0.75rem",border:"2px solid var(--border-color)",borderRadius:"8px"}})]}),u.jsxs("div",{style:{marginBottom:"1rem"},children:[u.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Offer Title (optional)"}),u.jsx("input",{type:"text",placeholder:"e.g., Summer Sale, Festival Offer",value:N.offerTitle,onChange:B=>I({...N,offerTitle:B.target.value}),style:{width:"100%",padding:"0.75rem",border:"2px solid var(--border-color)",borderRadius:"8px"}})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Start Date"}),u.jsx("input",{type:"date",value:N.startDate,onChange:B=>I({...N,startDate:B.target.value}),style:{width:"100%",padding:"0.75rem",border:"2px solid var(--border-color)",borderRadius:"8px"},required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"End Date"}),u.jsx("input",{type:"date",value:N.endDate,onChange:B=>I({...N,endDate:B.target.value}),style:{width:"100%",padding:"0.75rem",border:"2px solid var(--border-color)",borderRadius:"8px"},required:!0})]})]}),u.jsx("div",{style:{marginBottom:"1.5rem"},children:u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[u.jsx("input",{type:"checkbox",checked:N.isFeatured,onChange:B=>I({...N,isFeatured:B.target.checked})}),u.jsx("span",{children:" Feature in Today's Deals (Homepage)"})]})}),u.jsxs("div",{className:"modal-actions",children:[u.jsx("button",{className:"btn-secondary",onClick:()=>b(null),children:"Cancel"}),u.jsx("button",{className:"btn-primary",onClick:()=>de(T.id),disabled:!N.startDate||!N.endDate,children:"Schedule Offer"})]})]})})]})},GD=()=>{const[i,e]=M.useState([]),[n,r]=M.useState(!0),[l,c]=M.useState("new"),[d,p]=M.useState(null),[g,y]=M.useState(""),[T,b]=M.useState(""),[N,I]=M.useState(null);M.useEffect(()=>{O()},[]);const O=async()=>{try{const x=await yg();e(x)}catch(x){console.error(x)}finally{r(!1)}},Q=async x=>{try{await dD(x),O()}catch(P){console.error(P),alert("Failed to approve order")}},z=async x=>{if(!T.trim()){alert("Please provide a rejection reason");return}try{await fD(x,T),I(null),b(""),O()}catch(P){console.error(P),alert("Failed to reject order")}},J=async(x,P)=>{try{await hD(x,P),O()}catch(j){console.error(j),alert("Failed to update status")}},ee=async x=>{if(!g){alert("Please select a delivery date");return}try{await mD(x,g),p(null),y(""),O()}catch(P){console.error(P),alert("Failed to set delivery date")}},K=async x=>{try{await gD(x),O()}catch(P){console.error(P),alert("Failed to approve cancel request")}},de=async x=>{try{await yD(x),O()}catch(P){console.error(P),alert("Failed to reject cancel request")}},ve=x=>x?(x.toDate?x.toDate():new Date(x)).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",R=(()=>{switch(l){case"new":return i.filter(x=>x.status==="pending_approval"||x.status==="pending");case"active":return i.filter(x=>["approved","in_progress","shipped"].includes(x.status));case"cancel_requests":return i.filter(x=>x.cancelRequested&&x.cancelApproved===null);case"completed":return i.filter(x=>x.status==="delivered");case"cancelled":return i.filter(x=>x.status==="cancelled");default:return i}})(),C={new:i.filter(x=>x.status==="pending_approval"||x.status==="pending").length,active:i.filter(x=>["approved","in_progress","shipped"].includes(x.status)).length,cancel_requests:i.filter(x=>x.cancelRequested&&x.cancelApproved===null).length,completed:i.filter(x=>x.status==="delivered").length,cancelled:i.filter(x=>x.status==="cancelled").length},L=x=>{if(x.cancelRequested&&x.cancelApproved===null)return u.jsx("span",{className:"status-badge cancel-request",children:" Cancel Requested"});const P={pending_approval:"pending",pending:"pending",approved:"approved",in_progress:"processing",shipped:"shipped",delivered:"delivered",cancelled:"cancelled"},j={pending_approval:" Pending Approval",pending:" Pending",approved:" Approved",in_progress:" In Progress",shipped:" Shipped",delivered:" Delivered",cancelled:" Cancelled"};return u.jsx("span",{className:`status-badge ${P[x.status]||"pending"}`,children:j[x.status]||x.status})};return n?u.jsxs("div",{className:"loading-state",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"Loading orders..."})]}):u.jsxs("div",{className:"admin-orders",children:[u.jsx("div",{className:"admin-page-header",children:u.jsx("h1",{children:"Order Management"})}),u.jsxs("div",{className:"admin-tabs",children:[u.jsxs("button",{className:`admin-tab ${l==="new"?"active":""}`,onClick:()=>c("new"),children:[" New Orders",C.new>0&&u.jsx("span",{className:"tab-count",children:C.new})]}),u.jsxs("button",{className:`admin-tab ${l==="active"?"active":""}`,onClick:()=>c("active"),children:[" Active Orders",C.active>0&&u.jsx("span",{className:"tab-count",children:C.active})]}),u.jsxs("button",{className:`admin-tab ${l==="cancel_requests"?"active cancel-tab":""}`,onClick:()=>c("cancel_requests"),children:[" Cancel Requests",C.cancel_requests>0&&u.jsx("span",{className:"tab-count urgent",children:C.cancel_requests})]}),u.jsx("button",{className:`admin-tab ${l==="completed"?"active":""}`,onClick:()=>c("completed"),children:" Completed"}),u.jsx("button",{className:`admin-tab ${l==="cancelled"?"active":""}`,onClick:()=>c("cancelled"),children:" Cancelled"})]}),R.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx("span",{className:"empty-icon",children:""}),u.jsx("h2",{children:"No orders in this category"}),u.jsx("p",{children:"Orders will appear here when they match the selected filter"})]}):u.jsx("div",{className:"orders-grid",children:R.map(x=>u.jsxs("div",{className:`order-card ${x.cancelRequested?"cancel-requested":""}`,children:[u.jsxs("div",{className:"order-card-header",children:[u.jsxs("div",{className:"order-meta",children:[u.jsxs("span",{className:"order-card-id",children:["#",x.id.slice(-8)]}),u.jsx("span",{className:"order-date",children:ve(x.createdAt)})]}),L(x)]}),u.jsxs("div",{className:"order-card-body",children:[u.jsxs("div",{className:"order-customer",children:[u.jsx("h4",{children:" Customer"}),u.jsx("p",{children:u.jsx("strong",{children:x.shippingAddress?.fullName||x.customerEmail})}),u.jsx("p",{children:x.customerEmail}),u.jsx("p",{children:x.shippingAddress?.phone})]}),u.jsxs("div",{className:"order-address",children:[u.jsx("h4",{children:" Shipping Address"}),u.jsx("p",{children:x.shippingAddress?.addressLine1}),u.jsxs("p",{children:[x.shippingAddress?.city,", ",x.shippingAddress?.state," ",x.shippingAddress?.postalCode]})]}),u.jsxs("div",{className:"order-summary",children:[u.jsx("h4",{children:" Order Summary"}),u.jsxs("p",{children:[u.jsx("strong",{children:"Items:"})," ",x.items?.length||0]}),u.jsx("p",{className:"order-total",children:u.jsxs("strong",{children:["Total: ",x.totalAmount?.toFixed(0)]})}),x.estimatedDelivery&&u.jsxs("p",{className:"delivery-date",children:[" Est. Delivery: ",x.estimatedDelivery]})]})]}),u.jsxs("div",{className:"order-items-preview",children:[u.jsx("h4",{children:"Items"}),u.jsxs("div",{className:"items-list",children:[x.items?.slice(0,3).map((P,j)=>u.jsxs("div",{className:"item-row",children:[u.jsx("span",{className:"item-name",children:P.name}),u.jsxs("span",{className:"item-qty",children:["",P.quantity]}),u.jsxs("span",{className:"item-price",children:["",P.subtotal?.toFixed(0)]})]},j)),x.items?.length>3&&u.jsxs("p",{className:"more-items",children:["+",x.items.length-3," more items"]})]})]}),x.cancelRequested&&u.jsxs("div",{className:"cancel-request-info",children:[u.jsx("h4",{children:" Cancellation Request"}),u.jsx("p",{className:"cancel-reason",children:x.cancelReason||"No reason provided"}),u.jsxs("p",{className:"cancel-date",children:["Requested: ",ve(x.cancelRequestedAt)]})]}),u.jsxs("div",{className:"order-actions",children:[(x.status==="pending_approval"||x.status==="pending")&&!x.cancelRequested&&u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"btn-approve",onClick:()=>Q(x.id),children:" Approve"}),u.jsx("button",{className:"btn-reject",onClick:()=>I(x.id),children:" Reject"})]}),["approved","in_progress","shipped"].includes(x.status)&&!x.cancelRequested&&u.jsxs(u.Fragment,{children:[u.jsxs("select",{value:x.status,onChange:P=>J(x.id,P.target.value),className:"status-select",children:[u.jsx("option",{value:"approved",children:"Approved"}),u.jsx("option",{value:"in_progress",children:"In Progress"}),u.jsx("option",{value:"shipped",children:"Shipped"}),u.jsx("option",{value:"delivered",children:"Delivered"})]}),u.jsx("button",{className:"btn-delivery",onClick:()=>p(x.id),children:" Set Delivery"})]}),x.cancelRequested&&x.cancelApproved===null&&u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"btn-approve-cancel",onClick:()=>K(x.id),children:" Approve Cancel"}),u.jsx("button",{className:"btn-reject-cancel",onClick:()=>de(x.id),children:" Reject Cancel"})]})]})]},x.id))}),N&&u.jsx("div",{className:"modal-overlay",onClick:()=>I(null),children:u.jsxs("div",{className:"modal",onClick:x=>x.stopPropagation(),children:[u.jsx("h3",{children:"Reject Order"}),u.jsx("p",{children:"Please provide a reason for rejection:"}),u.jsx("textarea",{value:T,onChange:x=>b(x.target.value),placeholder:"Rejection reason..."}),u.jsxs("div",{className:"modal-actions",children:[u.jsx("button",{className:"btn-secondary",onClick:()=>{I(null),b("")},children:"Cancel"}),u.jsx("button",{className:"btn-reject",onClick:()=>z(N),children:"Reject Order"})]})]})}),d&&u.jsx("div",{className:"modal-overlay",onClick:()=>p(null),children:u.jsxs("div",{className:"modal",onClick:x=>x.stopPropagation(),children:[u.jsx("h3",{children:"Set Estimated Delivery Date"}),u.jsx("input",{type:"date",value:g,onChange:x=>y(x.target.value),min:new Date().toISOString().split("T")[0]}),u.jsxs("div",{className:"modal-actions",children:[u.jsx("button",{className:"btn-secondary",onClick:()=>{p(null),y("")},children:"Cancel"}),u.jsx("button",{className:"btn-primary",onClick:()=>ee(d),children:"Set Date"})]})]})})]})},QD=Tp({apiKey:"AIzaSyDs1rldmSrRpLE_73rgQNfLxkOBrZvEQyc",authDomain:"future-fs-02.firebaseapp.com",projectId:"future-fs-02"},"Secondary"),jT=q0(QD),YD=()=>{const[i,e]=M.useState([]),[n,r]=M.useState(!0),[l,c]=M.useState("customers"),[d,p]=M.useState(!1),[g,y]=M.useState(null),[T,b]=M.useState({email:"",password:"",fullName:""});M.useEffect(()=>{N()},[]);const N=async()=>{try{const B=await vg();e(B)}catch(B){console.error(B)}finally{r(!1)}},I=i.filter(B=>B.role==="admin"&&!B.isBanned),O=i.filter(B=>B.role!=="admin"&&!B.isBanned),Q=i.filter(B=>B.isBanned),z=async B=>{const R=B.role==="admin"?"user":"admin";if(window.confirm(`Change role to ${R} for ${B.email}?`))try{await EA(B.uid,{role:R}),N()}catch(S){console.error(S),alert("Failed to update role")}},J=async B=>{if(B.role==="admin"){alert("Cannot ban admin accounts. Demote to user first.");return}if(window.confirm(`Are you sure you want to ban ${B.email}? They will not be able to access the store.`))try{await eD(B.uid),N(),alert("User banned successfully")}catch(R){console.error(R),alert("Failed to ban user")}},ee=async B=>{if(window.confirm(`Unban ${B.email}? They will be able to access the store again.`))try{await tD(B.uid),N(),alert("User unbanned successfully")}catch(R){console.error(R),alert("Failed to unban user")}},K=async B=>{B.preventDefault();try{const S=(await j0(jT,T.email,T.password)).user;await mg(ft(He,"users",S.uid),{email:T.email,fullName:T.fullName,role:"admin",provider:"password",createdAt:new Date}),alert("New admin created successfully!"),p(!1),b({email:"",password:"",fullName:""}),N(),jT.signOut()}catch(R){console.error("Error creating admin:",R),alert("Error: "+R.message)}},de=B=>B?(B.toDate?B.toDate():new Date(B)).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"}):"N/A";if(n)return u.jsxs("div",{className:"loading-state",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"Loading users..."})]});const ve=l==="admins"?I:l==="banned"?Q:O;return u.jsxs("div",{className:"admin-users",children:[u.jsxs("div",{className:"admin-page-header",children:[u.jsx("h1",{children:"User Management"}),u.jsx("button",{onClick:()=>p(!0),className:"btn-primary",children:" Add New Admin"})]}),u.jsxs("div",{className:"admin-tabs",children:[u.jsxs("button",{className:`admin-tab ${l==="customers"?"active":""}`,onClick:()=>c("customers"),children:[" Customers",u.jsx("span",{className:"tab-count",children:O.length})]}),u.jsxs("button",{className:`admin-tab ${l==="admins"?"active":""}`,onClick:()=>c("admins"),children:[" Admins",u.jsx("span",{className:"tab-count",children:I.length})]}),u.jsxs("button",{className:`admin-tab ${l==="banned"?"active":""}`,onClick:()=>c("banned"),children:[" Banned",u.jsx("span",{className:"tab-count",children:Q.length})]})]}),d&&u.jsxs("div",{className:"product-form-container",children:[u.jsx("h3",{children:"Create New Admin"}),u.jsx("p",{style:{marginBottom:"1rem",color:"var(--text-secondary)"},children:"This will create a new login account with full admin privileges."}),u.jsxs("form",{onSubmit:K,className:"product-form",children:[u.jsxs("div",{className:"form-group full-width",children:[u.jsx("label",{children:"Full Name"}),u.jsx("input",{value:T.fullName,onChange:B=>b({...T,fullName:B.target.value}),required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Email"}),u.jsx("input",{type:"email",value:T.email,onChange:B=>b({...T,email:B.target.value}),required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Password"}),u.jsx("input",{type:"password",value:T.password,onChange:B=>b({...T,password:B.target.value}),required:!0,minLength:6})]}),u.jsxs("div",{className:"form-actions",children:[u.jsx("button",{type:"submit",className:"btn-primary",children:"Create Admin"}),u.jsx("button",{type:"button",onClick:()=>p(!1),className:"btn-secondary",children:"Cancel"})]})]})]}),ve.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx("span",{className:"empty-icon",children:l==="admins"?"":""}),u.jsxs("h2",{children:["No ",l==="admins"?"admins":"customers"," found"]})]}):u.jsx("div",{className:"users-grid",children:ve.map(B=>u.jsxs("div",{className:`user-card ${B.role==="admin"?"admin-card":""}`,onClick:()=>y(B),style:{cursor:"pointer"},children:[u.jsxs("div",{className:"user-card-header",children:[u.jsx("div",{className:"user-avatar-large",children:B.fullName?.charAt(0)||B.email.charAt(0).toUpperCase()}),u.jsx("span",{className:`role-badge ${B.role}`,children:B.role==="admin"?" Admin":" Customer"})]}),u.jsxs("div",{className:"user-card-body",children:[u.jsx("h3",{children:B.fullName||"No Name"}),u.jsx("p",{className:"user-email",children:B.email}),u.jsxs("div",{className:"user-meta",children:[u.jsxs("span",{children:[" ",B.phone||"No phone"]}),u.jsxs("span",{children:[" Joined: ",de(B.createdAt)]})]}),B.city&&u.jsxs("p",{className:"user-location",children:[" ",B.city,", ",B.state]})]}),u.jsx("div",{className:"user-card-actions",onClick:R=>R.stopPropagation(),children:l!=="banned"?u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>z(B),className:"btn-secondary btn-small",children:B.role==="admin"?" Demote":" Promote"}),B.role!=="admin"&&u.jsx("button",{onClick:()=>J(B),className:"btn-delete btn-small",children:" Ban"})]}):u.jsx("button",{onClick:()=>ee(B),className:"btn-primary btn-small",style:{width:"100%"},children:" Unban User"})})]},B.uid))}),g&&u.jsx("div",{className:"modal-overlay",onClick:()=>y(null),children:u.jsxs("div",{className:"user-detail-modal",onClick:B=>B.stopPropagation(),children:[u.jsx("button",{className:"modal-close",onClick:()=>y(null),children:""}),u.jsxs("div",{className:"modal-header",children:[u.jsx("div",{className:"modal-avatar",children:g.fullName?.charAt(0)||g.email.charAt(0).toUpperCase()}),u.jsxs("div",{className:"modal-header-info",children:[u.jsx("h2",{children:g.fullName||"No Name"}),u.jsx("span",{className:`role-badge ${g.role}`,children:g.role==="admin"?" Admin":" Customer"})]})]}),u.jsxs("div",{className:"modal-body",children:[u.jsxs("div",{className:"info-section",children:[u.jsx("h4",{children:"Contact Information"}),u.jsxs("div",{className:"info-grid",children:[u.jsxs("div",{className:"info-item",children:[u.jsx("span",{className:"info-label",children:" Email"}),u.jsx("span",{className:"info-value",children:g.email})]}),u.jsxs("div",{className:"info-item",children:[u.jsx("span",{className:"info-label",children:" Phone"}),u.jsx("span",{className:"info-value",children:g.phone||"Not provided"})]})]})]}),u.jsxs("div",{className:"info-section",children:[u.jsx("h4",{children:"Location"}),u.jsxs("div",{className:"info-grid",children:[u.jsxs("div",{className:"info-item",children:[u.jsx("span",{className:"info-label",children:" Address"}),u.jsxs("span",{className:"info-value",children:[g.addressLine1||"Not provided",g.addressLine2&&u.jsxs(u.Fragment,{children:[u.jsx("br",{}),g.addressLine2]})]})]}),u.jsxs("div",{className:"info-item",children:[u.jsx("span",{className:"info-label",children:" City"}),u.jsx("span",{className:"info-value",children:g.city||"Not provided"})]}),u.jsxs("div",{className:"info-item",children:[u.jsx("span",{className:"info-label",children:" State"}),u.jsx("span",{className:"info-value",children:g.state||"Not provided"})]}),u.jsxs("div",{className:"info-item",children:[u.jsx("span",{className:"info-label",children:" Postal Code"}),u.jsx("span",{className:"info-value",children:g.postalCode||"Not provided"})]}),u.jsxs("div",{className:"info-item",children:[u.jsx("span",{className:"info-label",children:" Country"}),u.jsx("span",{className:"info-value",children:g.country||"India"})]})]})]}),u.jsxs("div",{className:"info-section",children:[u.jsx("h4",{children:"Account Details"}),u.jsxs("div",{className:"info-grid",children:[u.jsxs("div",{className:"info-item",children:[u.jsx("span",{className:"info-label",children:" Provider"}),u.jsx("span",{className:"info-value",children:g.provider||"Email/Password"})]}),u.jsxs("div",{className:"info-item",children:[u.jsx("span",{className:"info-label",children:" Joined"}),u.jsx("span",{className:"info-value",children:de(g.createdAt)})]}),u.jsxs("div",{className:"info-item",children:[u.jsx("span",{className:"info-label",children:" User ID"}),u.jsx("span",{className:"info-value",style:{fontSize:"0.75rem",fontFamily:"monospace"},children:g.uid})]}),g.isBanned&&u.jsxs("div",{className:"info-item",children:[u.jsx("span",{className:"info-label",children:" Banned At"}),u.jsx("span",{className:"info-value",style:{color:"#ef4444"},children:de(g.bannedAt)})]})]})]})]}),u.jsx("div",{className:"modal-footer",children:g.isBanned?u.jsx("button",{className:"btn-primary",onClick:()=>{ee(g),y(null)},children:" Unban User"}):u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"btn-secondary",onClick:()=>{z(g),y(null)},children:g.role==="admin"?" Demote to User":" Promote to Admin"}),g.role!=="admin"&&u.jsx("button",{className:"btn-delete",onClick:()=>{J(g),y(null)},children:" Ban User"})]})})]})})]})},KD=()=>{const i=qs(),e=n=>!!(n==="/admin"&&i.pathname==="/admin"||n!=="/admin"&&i.pathname.startsWith(n));return u.jsxs("div",{className:"admin-container",children:[u.jsxs("aside",{className:"admin-sidebar",children:[u.jsxs("div",{className:"sidebar-header",children:[u.jsx("span",{className:"admin-logo",children:""}),u.jsx("h3",{children:"Admin Panel"})]}),u.jsxs("nav",{className:"sidebar-nav",children:[u.jsxs(Ae,{to:"/admin",className:`nav-item ${e("/admin")&&i.pathname==="/admin"?"active":""}`,children:[u.jsx("span",{className:"nav-icon",children:""}),u.jsx("span",{children:"Dashboard"})]}),u.jsxs(Ae,{to:"/admin/products",className:`nav-item ${e("/admin/products")?"active":""}`,children:[u.jsx("span",{className:"nav-icon",children:""}),u.jsx("span",{children:"Products"})]}),u.jsxs(Ae,{to:"/admin/orders",className:`nav-item ${e("/admin/orders")?"active":""}`,children:[u.jsx("span",{className:"nav-icon",children:""}),u.jsx("span",{children:"Orders"})]}),u.jsxs(Ae,{to:"/admin/users",className:`nav-item ${e("/admin/users")?"active":""}`,children:[u.jsx("span",{className:"nav-icon",children:""}),u.jsx("span",{children:"Users"})]})]}),u.jsx("div",{className:"sidebar-footer",children:u.jsx(Ae,{to:"/",className:"back-to-store",children:" Back to Store"})})]}),u.jsx("main",{className:"admin-content",children:u.jsxs(BT,{children:[u.jsx(Ft,{path:"/",element:u.jsx($D,{})}),u.jsx(Ft,{path:"/products",element:u.jsx(HD,{})}),u.jsx(Ft,{path:"/orders",element:u.jsx(GD,{})}),u.jsx(Ft,{path:"/users",element:u.jsx(YD,{})})]})})]})},$D=()=>{const[i,e]=M.useState({products:0,orders:0,customers:0,admins:0,banned:0,revenue:0}),[n,r]=M.useState([]),[l,c]=M.useState(!0);M.useEffect(()=>{d()},[]);const d=async()=>{try{const[p,g,y]=await Promise.all([uc(),yg(),vg()]),T=g.reduce((O,Q)=>O+(Q.totalAmount||0),0),b=y.filter(O=>O.role==="admin"&&!O.isBanned),N=y.filter(O=>O.role!=="admin"&&!O.isBanned),I=y.filter(O=>O.isBanned);e({products:p.length,orders:g.length,customers:N.length,admins:b.length,banned:I.length,revenue:T}),r(g.slice(0,5))}catch(p){console.error("Error fetching dashboard data:",p)}finally{c(!1)}};return l?u.jsxs("div",{className:"loading-state",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"Loading dashboard..."})]}):u.jsxs("div",{className:"admin-overview",children:[u.jsxs("div",{className:"overview-header",children:[u.jsx("h1",{children:"Dashboard Overview"}),u.jsx("p",{children:"Welcome to your store admin panel"})]}),u.jsxs("div",{className:"stats-grid",children:[u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-icon products",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsx("span",{className:"stat-value",children:i.products}),u.jsx("span",{className:"stat-label",children:"Products"})]})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-icon orders",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsx("span",{className:"stat-value",children:i.orders}),u.jsx("span",{className:"stat-label",children:"Orders"})]})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-icon users",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsx("span",{className:"stat-value",children:i.customers}),u.jsx("span",{className:"stat-label",children:"Customers"})]})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-icon admins",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsx("span",{className:"stat-value",children:i.admins}),u.jsx("span",{className:"stat-label",children:"Admins"})]})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-icon banned",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsx("span",{className:"stat-value",children:i.banned}),u.jsx("span",{className:"stat-label",children:"Banned"})]})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-icon revenue",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsxs("span",{className:"stat-value",children:["",i.revenue.toFixed(0)]}),u.jsx("span",{className:"stat-label",children:"Revenue"})]})]})]}),u.jsxs("div",{className:"dashboard-grid",children:[u.jsxs("div",{className:"dashboard-card",children:[u.jsxs("div",{className:"card-header",children:[u.jsx("h3",{children:"Recent Orders"}),u.jsx(Ae,{to:"/admin/orders",className:"view-all",children:"View All "})]}),n.length>0?u.jsx("div",{className:"recent-orders-list",children:n.map(p=>u.jsxs("div",{className:"order-row",children:[u.jsxs("div",{className:"order-info",children:[u.jsxs("span",{className:"order-id",children:["#",p.id.slice(-6)]}),u.jsx("span",{className:"order-email",children:p.customerEmail})]}),u.jsxs("div",{className:"order-details",children:[u.jsx("span",{className:`order-status ${p.status}`,children:p.status}),u.jsxs("span",{className:"order-amount",children:["",p.totalAmount?.toFixed(0)]})]})]},p.id))}):u.jsx("p",{className:"no-orders",children:"No orders yet"})]}),u.jsxs("div",{className:"dashboard-card",children:[u.jsx("div",{className:"card-header",children:u.jsx("h3",{children:"Quick Actions"})}),u.jsxs("div",{className:"quick-actions",children:[u.jsxs(Ae,{to:"/admin/products",className:"action-btn",children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{children:"Add Product"})]}),u.jsxs(Ae,{to:"/admin/orders",className:"action-btn",children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{children:"View Orders"})]}),u.jsxs(Ae,{to:"/admin/users",className:"action-btn",children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{children:"Manage Users"})]}),u.jsxs(Ae,{to:"/",className:"action-btn",children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{children:"View Store"})]})]})]})]})]})},XD=()=>u.jsx(wD,{children:u.jsx(xD,{children:u.jsxs(ID,{children:[u.jsx(RD,{}),u.jsx("main",{style:{minHeight:"80vh"},children:u.jsxs(BT,{children:[u.jsx(Ft,{path:"/",element:u.jsx(jD,{})}),u.jsx(Ft,{path:"/login",element:u.jsx(DD,{})}),u.jsx(Ft,{path:"/register",element:u.jsx(OD,{})}),u.jsx(Ft,{path:"/banned",element:u.jsx(qD,{})}),u.jsx(Ft,{path:"/complete-profile",element:u.jsx(il,{children:u.jsx(MD,{})})}),u.jsx(Ft,{path:"/profile",element:u.jsx(il,{children:u.jsx(VD,{})})}),u.jsx(Ft,{path:"/products",element:u.jsx(PD,{})}),u.jsx(Ft,{path:"/product/:id",element:u.jsx(kD,{})}),u.jsx(Ft,{path:"/cart",element:u.jsx(il,{children:u.jsx(LD,{})})}),u.jsx(Ft,{path:"/checkout",element:u.jsx(il,{children:u.jsx(UD,{})})}),u.jsx(Ft,{path:"/my-orders",element:u.jsx(il,{children:u.jsx(zD,{})})}),u.jsx(Ft,{path:"/addresses",element:u.jsx(il,{children:u.jsx(BD,{})})}),u.jsx(Ft,{path:"/admin/*",element:u.jsx(ND,{children:u.jsx(KD,{})})})]})}),u.jsx(CD,{})]})})});function WD(){return u.jsx(jx,{children:u.jsx(XD,{})})}pw.createRoot(document.getElementById("root")).render(u.jsx(M.StrictMode,{children:u.jsx(WD,{})}));
